// All material copyright ESRI, All Rights Reserved, unless otherwise specified.
// See https://js.arcgis.com/4.12/esri/copyright.txt for details.
//>>built
(function(l,a){var k,p=function(){return"undefined"!==typeof y&&"function"!==typeof y?y:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this}(),h=function(){},e=function(b){for(var d in b)return 0;return 1},f={}.toString,m=function(b){return"[object Function]"==f.call(b)},c=function(b){return"[object String]"==f.call(b)},b=function(b){return"[object Array]"==f.call(b)},g=function(b,d){if(b)for(var g=0;g<b.length;)d(b[g++])},t=function(b,d){for(var g in d)b[g]=d[g];return b},d=function(b,
  d){return t(Error(b),{src:"dojoLoader",info:d})},v=1,A=function(){return"_"+v++},w=function(b,d,g){return ma(b,d,g,0,w)},y=p,B=y.document,C=B&&B.createElement("DiV"),n=w.has=function(b){return m(D[b])?D[b]=D[b](y,B,C):D[b]},D=n.cache=a.hasCache;m(l)&&(l=l(p));n.add=function(b,d,g,c){(void 0===D[b]||c)&&(D[b]=d);return g&&n(b)};n.add("host-webworker","undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope);n("host-webworker")&&(t(a.hasCache,{"host-browser":0,dom:0,"dojo-dom-ready-api":0,
  "dojo-sniff":0,"dojo-inject-api":1,"host-webworker":1,"dojo-guarantee-console":0}),a.loaderPatch={injectUrl:function(b,d){try{importScripts(b),d()}catch(Ia){console.info("failed to load resource ("+b+")"),console.error(Ia)}}});for(var u in l.has)n.add(u,l.has[u],0,1);w.async=1;var z=n("csp-restrictions")?function(){}:new Function("return eval(arguments[0]);");w.eval=function(b,d){return z(b+"\r\n//# sourceURL\x3d"+d)};var F={},I=w.signal=function(d,c){d=F[d];g(d&&d.slice(0),function(d){d.apply(null,
  b(c)?c:[c])})};u=w.on=function(b,d){var g=F[b]||(F[b]=[]);g.push(d);return{remove:function(){for(var b=0;b<g.length;b++)if(g[b]===d){g.splice(b,1);break}}}};var J=[],L={},G=[],H={},S=w.map={},N=[],E={},Q="",K={},R={},p={},T=0;if(!n("foreign-loader"))var P=function(b,d){d=!1!==d;var g,c,a,u;for(g in R)c=R[g],(a=g.match(/^url\:(.+)/))?K["url:"+wa(a[1],b)]=c:"*now"==g?u=c:"*noref"!=g&&(a=Z(g,b,!0),K[a.mid]=K["url:"+a.url]=c);u&&u(oa(b));d&&(R={})};var U=function(b){return b.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,
  function(b){return"\\"+b})},ia=function(b,d){d.splice(0,d.length);for(var g in b)d.push([g,b[g],new RegExp("^"+U(g)+"(/|$)"),g.length]);d.sort(function(b,d){return d[3]-b[3]});return d},ca=function(b,d){g(b,function(b){d.push([c(b[0])?new RegExp("^"+U(b[0])+"$"):b[0],b[1]])})},da=function(b){var d=b.name;d||(d=b,b={name:d});b=t({main:"main"},b);b.location=b.location?b.location:d;b.packageMap&&(S[d]=b.packageMap);b.main.indexOf("./")||(b.main=b.main.substring(2));H[d]=b},aa=[],ba=function(b,d,a){for(var u in b){"waitSeconds"==
  u&&(w.waitms=1E3*(b[u]||0));"cacheBust"==u&&(Q=b[u]?c(b[u])?b[u]:(new Date).getTime()+"":"");if("baseUrl"==u||"combo"==u)w[u]=b[u];b[u]!==D&&(w.rawConfig[u]=b[u],"has"!=u&&n.add("config-"+u,b[u],0,d))}w.baseUrl||(w.baseUrl="./");/\/$/.test(w.baseUrl)||(w.baseUrl+="/");for(u in b.has)n.add(u,b.has[u],0,d);g(b.packages,da);for(var m in b.packagePaths)g(b.packagePaths[m],function(b){var d=m+"/"+b;c(b)&&(b={name:b});b.location=d;da(b)});ia(t(S,b.map),N);g(N,function(b){b[1]=ia(b[1],[]);"*"==b[0]&&(N.star=
  b)});ia(t(L,b.paths),G);ca(b.aliases,J);if(!n("foreign-loader")){if(d)aa.push({config:b.config});else for(u in b.config)d=pa(u,a),d.config=t(d.config||{},b.config[u]);b.cache&&(P(),R=b.cache,P(0,!!b.cache["*noref"]))}I("config",[b,w.rawConfig])};if(n("dojo-cdn")){var ga=B.getElementsByTagName("script");k=0;for(var V,ea,W,Y;k<ga.length;)if(V=ga[k++],(W=V.getAttribute("src"))&&(Y=W.match(/(((.*)\/)|^)dojo\.js(\W|$)/i))&&(ea=Y[3]||"",a.baseUrl=a.baseUrl||ea,T=V),W=V.getAttribute("data-dojo-config")||
  V.getAttribute("djConfig"))p=w.eval("({ "+W+" })","data-dojo-config"),T=V}w.rawConfig={};ba(a,1);n("dojo-cdn")&&((H.dojo.location=ea)&&(ea+="/"),H.dijit.location=ea+"../dijit/",H.dojox.location=ea+"../dojox/");ba(l,1);ba(p,1);if(!n("foreign-loader"))var ka=function(b){Da(function(){g(b.deps,Ja)})},ma=function(g,a,u,m,f){var n;if(c(g)){if((n=pa(g,m,!0))&&n.executed)return n.result;throw d("undefinedModule",g);}b(g)||(ba(g,0,m),g=a,a=u);if(b(g))if(g.length){u="require*"+A();for(var v,e=[],k=0;k<g.length;)v=
  g[k++],e.push(pa(v,m));n=t(qa("",u,0,""),{injected:2,deps:e,def:a||h,require:m?m.require:w,gc:1});E[n.mid]=n;ka(n);var p=ya&&!0;Da(function(){Ea(n,p)});n.executed||fa.push(n);Fa()}else a&&a();return f},oa=function(b){if(!b)return w;var d=b.require;d||(d=function(g,c,a){return ma(g,c,a,b,d)},b.require=t(d,w),d.module=b,d.toUrl=function(d){return wa(d,b)},d.toAbsMid=function(d){return ra(d,b)});return d},fa=[],la=[],ja={},ha=function(b){b.injected=1;ja[b.mid]=1;b.url&&(ja[b.url]=b.pack||1);Oa()},M=
  function(b){b.injected=2;delete ja[b.mid];b.url&&delete ja[b.url];e(ja)&&Pa()},X=w.idle=function(){return!la.length&&e(ja)&&!fa.length&&!ya};var q=function(b,d){if(d)for(var g=0;g<d.length;g++)if(d[g][2].test(b))return d[g];return 0},na=function(b){var d=[],g,c;for(b=b.replace(/\\/g,"/").split("/");b.length;)g=b.shift(),".."==g&&d.length&&".."!=c?(d.pop(),c=d[d.length-1]):"."!=g&&d.push(c=g);return d.join("/")},qa=function(b,d,g,c){return{pid:b,mid:d,pack:g,url:c,executed:0,def:0}},r=function(b,c,
  a,u,n,f,t,v,e,h){var k,A,p,w;w=/^\./.test(b);if(/(^\/)|(\:)|(\.js$)/.test(b)||w&&!c)return qa(0,b,0,b);b=na(w?c.mid+"/../"+b:b);if(/^\./.test(b))throw d("irrationalPath",b);h||w||!f.star||(p=q(b,f.star[1]));!p&&c&&(p=(p=q(c.mid,f))&&q(b,p[1]));p&&(b=p[1]+b.substring(p[3]));c=(Y=b.match(/^([^\/]+)(\/(.+))?$/))?Y[1]:"";(k=a[c])?b=c+"/"+(A=Y[3]||k.main):c="";var l=0;g(v,function(d){var g=b.match(d[0]);g&&0<g.length&&(l=m(d[1])?b.replace(d[0],d[1]):d[1])});if(l)return r(l,0,a,u,n,f,t,v,e);if(a=u[b])return e?
  qa(a.pid,a.mid,a.pack,a.url):u[b];u=(p=q(b,t))?p[1]+b.substring(p[3]):c?("/"===k.location.slice(-1)?k.location.slice(0,-1):k.location)+"/"+A:b;/(^\/)|(\:)/.test(u)||(u=n+u);return qa(c,b,k,na(u+".js"))},Z=function(b,d,g){return r(b,d,H,E,w.baseUrl,N,G,J,void 0,g)};if(!n("foreign-loader"))var O=function(b,d,g){return b.normalize?b.normalize(d,function(b){return ra(b,g)}):ra(d,g)},x=0,pa=function(b,d,g){var c,a;(c=b.match(/^(.+?)\!(.*)$/))?(a=pa(c[1],d,g),5!==a.executed||a.load||sa(a),a.load?(c=O(a,
  c[2],d),b=a.mid+"!"+(a.dynamic?++x+"!":"")+c):(c=c[2],b=a.mid+"!"+ ++x+"!waitingForPlugin"),b={plugin:a,mid:b,req:oa(d),prid:c}):b=Z(b,d);return E[b.mid]||!g&&(E[b.mid]=b)};var ra=w.toAbsMid=function(b,d){return Z(b,d).mid},wa=w.toUrl=function(b,d){d=Z(b+"/x",d);var g=d.url;return Ka(0===d.pid?b:g.substring(0,g.length-5))};if(!n("foreign-loader")){var ta={injected:2,executed:5,def:3,result:3};ea=function(b){return E[b]=t({mid:b},ta)};var xa=ea("require"),za=ea("exports"),Aa=ea("module"),ua={},va=
  0,sa=function(b){var d=b.result;b.dynamic=d.dynamic;b.normalize=d.normalize;b.load=d.load;return b},Ba=function(b){var d={};g(b.loadQ,function(g){var c=O(b,g.prid,g.req.module),a=b.dynamic?g.mid.replace(/waitingForPlugin$/,c):b.mid+"!"+c,c=t(t({},g),{mid:a,prid:c,injected:0});E[a]&&E[a].injected||La(E[a]=c);d[g.mid]=E[a];M(g);delete E[g.mid]});b.loadQ=0;var c=function(b){for(var g=b.deps||[],c=0;c<g.length;c++)(b=d[g[c].mid])&&(g[c]=b)},a;for(a in E)c(E[a]);g(fa,c)},Ga=function(b){w.trace("loader-finish-exec",
  [b.mid]);b.executed=5;b.defOrder=va++;b.loadQ&&(sa(b),Ba(b));for(k=0;k<fa.length;)fa[k]===b?fa.splice(k,1):k++;/^require\*/.test(b.mid)&&delete E[b.mid]},Qa=[],Ea=function(b,d){if(4===b.executed)return w.trace("loader-circular-dependency",[Qa.concat(b.mid).join("-\x3e")]),!b.def||d?ua:b.cjs&&b.cjs.exports;if(!b.executed){if(!b.def)return ua;var g=b.mid,c=b.deps||[],a,u=[],f=0;for(b.executed=4;a=c[f++];){a=a===xa?oa(b):a===za?b.cjs.exports:a===Aa?b.cjs:Ea(a,d);if(a===ua)return b.executed=0,w.trace("loader-exec-module",
  ["abort",g]),ua;u.push(a)}w.trace("loader-run-factory",[b.mid]);d=b.def;u=m(d)?d.apply(null,u):d;b.result=void 0===u&&b.cjs?b.cjs.exports:u;Ga(b)}return b.result},ya=0,Da=function(b){try{ya++,b()}catch(Na){throw Na;}finally{ya--}X()&&I("idle",[])},Fa=function(){ya||Da(function(){for(var b,d,g=0;g<fa.length;)b=va,d=fa[g],Ea(d),b!=va?g=0:g++})}}var Ka="function"==typeof l.fixupUrl?l.fixupUrl:function(b){b+="";return b+(Q?(/\?/.test(b)?"\x26":"?")+Q:"")};void 0===n("dojo-loader-eval-hint-url")&&n.add("dojo-loader-eval-hint-url",
  1);var La=function(b){var d=b.plugin;5!==d.executed||d.load||sa(d);var g=function(d){b.result=d;M(b);Ga(b);Fa()};d.load?d.load(b.prid,b.req,g):d.loadQ?d.loadQ.push(b):(d.loadQ=[b],fa.unshift(d),Ja(d))},Ca=0,Ra=function(b,d){n("config-stripStrict")&&(b=b.replace(/(["'])use strict\1/g,""));b===Ca?Ca.call(null):w.eval(b,n("dojo-loader-eval-hint-url")?d.url:d.mid)},Ja=function(b){var g=b.mid,c=b.url;if(!(b.executed||b.injected||ja[g]||b.url&&(b.pack&&ja[b.url]===b.pack||1==ja[b.url])))if(ha(b),b.plugin)La(b);
  else{var a=function(){Sa(b);if(2!==b.injected){if(n("dojo-enforceDefine")){I("error",d("noDefine",b));return}M(b);t(b,ta);w.trace("loader-define-nonmodule",[b.url])}Fa()};(Ca=K[g]||K["url:"+b.url])?(w.trace("loader-inject",["cache",b.mid,c]),Ra(Ca,b),a()):(w.trace("loader-inject",["script",b.mid,c]),w.injectUrl(Ka(c),a,b))}},Ma=function(b,g,c){w.trace("loader-define-module",[b.mid,g]);if(2===b.injected)return I("error",d("multipleDefine",b)),b;t(b,{deps:g,def:c,cjs:{id:b.mid,uri:b.url,exports:b.result=
  {},setExports:function(d){b.cjs.exports=d},config:function(){return b.config}}});for(var a=0;g[a];a++)g[a]=pa(g[a],b);M(b);m(c)||g.length||(b.result=c,Ga(b));return b},Sa=function(b,d){for(var c=[],a,u;la.length;)u=la.shift(),d&&(u[0]=d.shift()),a=u[0]&&pa(u[0])||b,c.push([a,u[1],u[2]]);P(b);g(c,function(b){ka(Ma.apply(null,b))})},Pa=h,Oa=h;n("dom");if(n("dom")){var Ha=function(b,d,g,c){b.addEventListener(d,c,!1);return function(){b.removeEventListener(d,c,!1)}},Ta=Ha(window,"load","onload",function(){w.pageLoaded=
  1;try{"complete"!=B.readyState&&(B.readyState="complete")}catch(Ua){}Ta()}),ga=B.getElementsByTagName("script");for(k=0;!T;)/^dojo/.test((V=ga[k++])&&V.type)||(T=V);w.injectUrl=function(b,g,c){c=c.node=B.createElement("script");var a=Ha(c,"load","onreadystatechange",function(b){b=b||window.event;var d=b.target||b.srcElement;if("load"===b.type||/complete|loaded/.test(d.readyState))a(),u(),g&&g()}),u=Ha(c,"error","onerror",function(g){a();u();I("error",d("scriptError: "+b,[b,g]))});c.type="text/javascript";
  c.charset="utf-8";c.src=b;T.parentNode.insertBefore(c,T);return c}}w.log=h;w.trace=h;n("foreign-loader")?V=h:(V=function(b,d,g){var a=arguments.length,u=["require","exports","module"],f=[0,b,d];1==a?f=[0,m(b)?u:[],b]:2==a&&c(b)?f=[b,m(d)?u:[],d]:3==a&&(f=[b,d,g]);w.trace("loader-define",f.slice(0,2));(a=f[0]&&pa(f[0]))&&!ja[a.mid]?ka(Ma(a,f[1],f[2])):la.push(f)},V.amd={vendor:"dojotoolkit.org"});t(t(w,a.loaderPatch),l.loaderPatch);u("error",function(b){try{if(console.error(b),b instanceof Error){for(var d in b)console.log(d+
  ":",b[d]);console.log(".")}}catch(Ia){}});t(w,{uid:A,cache:K,packs:H});y.define||(y.define=V,y.require=w,n("foreign-loader")||(g(aa,function(b){ba(b)}),V=p.deps||l.deps||a.deps,l=p.callback||l.callback||a.callback,w.boot=V||l?[V||[],l]:0))})(function(l){return l.dojoConfig||l.djConfig||l.require||{}},{aliases:[[/^webgl-engine/,function(){return"esri/views/3d/webgl-engine"}],[/^engine/,function(){return"esri/views/3d/webgl-engine"}],[/^esri-hydra/,function(){return"esri"}]],async:1,baseUrl:"dojo",
  hasCache:{"config-deferredInstrumentation":0,"config-selectorEngine":"lite","config-tlmSiblingOfDojo":1,"dojo-built":1,"dojo-has-api":1,"dojo-loader":1,"dojo-undef-api":0,dom:1,"esri-built":1,"host-browser":1},map:{globalize:{cldr:"cldrjs/dist/cldr","cldr/event":"cldrjs/dist/cldr/event","cldr/supplemental":"cldrjs/dist/cldr/supplemental","cldr/unresolved":"cldrjs/dist/cldr/unresolved"}},packages:[{location:".",name:"dojo"},{location:"../dijit",name:"dijit"},{location:"../dojox",name:"dojox"},{location:"../dgrid",
  main:"OnDemandGrid",name:"dgrid"},{location:"../dstore",main:"Store",name:"dstore"},{location:"../esri",name:"esri"},{location:"../moment",main:"moment",name:"moment"},{location:"../@dojo",name:"@dojo"},{location:"../cldrjs",main:"dist/cldr",name:"cldrjs"},{location:"../globalize",main:"dist/globalize",name:"globalize"},{location:"../intersection-observer",main:"intersection-observer",name:"intersection-observer"},{location:"../maquette",main:"dist/maquette.umd",name:"maquette"},{location:"../maquette-css-transitions",
  main:"dist/maquette-css-transitions.umd",name:"maquette-css-transitions"},{location:"../maquette-jsx",main:"dist/maquette-jsx.umd",name:"maquette-jsx"},{location:"../tslib",main:"tslib",name:"tslib"},{location:"../whatwg-fetch",main:"dist/fetch.umd",name:"whatwg-fetch"}]});
  require({cache:{"dojo/_base/browser":function(){require.has&&require.has.add("config-selectorEngine","acme");define("../ready ./kernel ./connect ./unload ./window ./event ./html ./NodeList ../query ./xhr ./fx".split(" "),function(l){return l})},"dojo/ready":function(){define(["./_base/kernel","./has","require","./has!host-browser?./domReady","./_base/lang"],function(l,a,k,p,h){var e=0,f=[],m=0;a=function(){e=1;l._postLoad=l.config.afterOnLoad=!0;c()};var c=function(){if(!m){for(m=1;e&&(!p||0==p._Q.length)&&
  (k.idle?k.idle():1)&&f.length;){var b=f.shift();try{b()}catch(d){if(d.info=d.message,k.signal)k.signal("error",d);else throw d;}}m=0}};k.on&&k.on("idle",c);p&&(p._onQEmpty=c);var b=l.ready=l.addOnLoad=function(b,d,g){var a=h._toArray(arguments);"number"!=typeof b?(g=d,d=b,b=1E3):a.shift();g=g?h.hitch.apply(l,a):function(){d()};g.priority=b;for(a=0;a<f.length&&b>=f[a].priority;a++);f.splice(a,0,g);c()},g=l.config.addOnLoad;if(g)b[h.isArray(g)?"apply":"call"](l,g);p?p(a):a();return b})},"dojo/_base/kernel":function(){define(["../global",
  "../has","./config","require","module"],function(l,a,k,p,h){var e,f={},m={},c={config:k,global:l,dijit:f,dojox:m},f={dojo:["dojo",c],dijit:["dijit",f],dojox:["dojox",m]};h=p.map&&p.map[h.id.match(/[^\/]+/)[0]];for(e in h)f[e]?f[e][0]=h[e]:f[e]=[h[e],{}];for(e in f)h=f[e],h[1]._scopeName=h[0],k.noGlobals||(l[h[0]]=h[1]);c.scopeMap=f;c.baseUrl=c.config.baseUrl=p.baseUrl;c.isAsync=p.async;c.locale=k.locale;l="$Rev: d6e8ff38 $".match(/[0-9a-f]{7,}/);c.version={major:1,minor:14,patch:2,flag:"",revision:l?
  l[0]:NaN,toString:function(){var b=c.version;return b.major+"."+b.minor+"."+b.patch+b.flag+" ("+b.revision+")"}};a("csp-restrictions")||Function("d","d.eval \x3d function(){return d.global.eval ? d.global.eval(arguments[0]) : eval(arguments[0]);}")(c);c.exit=function(){};a("host-webworker");"undefined"!=typeof console||(console={});l="assert count debug dir dirxml error group groupEnd info profile profileEnd time timeEnd trace warn log".split(" ");var b;for(a=0;b=l[a++];)console[b]?console[b]=Function.prototype.bind.call(console[b],
  console):function(){var g=b+"";console[g]="log"in console?function(){var b=Array.prototype.slice.call(arguments);b.unshift(g+":");console.log(b.join(" "))}:function(){};console[g]._fake=!0}();c.deprecated=c.experimental=function(){};c._hasResource={};return c})},"dojo/global":function(){define(function(){return"undefined"!==typeof global&&"function"!==typeof global?global:"undefined"!==typeof window?window:"undefined"!==typeof self?self:this})},"dojo/has":function(){define(["./global","require","module"],
  function(l,a,k){var p=a.has||function(){};if(!p("dojo-has-api")){var h=(a="undefined"!=typeof window&&"undefined"!=typeof location&&"undefined"!=typeof document&&window.location==location&&window.document==document)&&document,e=h&&h.createElement("DiV"),f=k.config&&k.config()||{},p=function(a){return"function"==typeof f[a]?f[a]=f[a](l,h,e):f[a]};p.cache=f;p.add=function(a,c,b,g){("undefined"==typeof f[a]||g)&&(f[a]=c);return b&&p(a)};p.add("host-browser",a);p.add("dom",a)}p("host-browser")&&(p.add("touch",
  "ontouchstart"in document||"onpointerdown"in document&&0<navigator.maxTouchPoints||window.navigator.msMaxTouchPoints),p.add("touch-events","ontouchstart"in document),p.add("pointer-events","pointerEnabled"in window.navigator?window.navigator.pointerEnabled:"PointerEvent"in window),p.add("device-width",screen.availWidth||innerWidth),k=document.createElement("form"),p.add("dom-attributes-specified-flag",0<k.attributes.length&&40>k.attributes.length));p.clearElement=function(a){a.innerHTML="";return a};
  p.normalize=function(a,c){var b=a.match(/[\?:]|[^:\?]*/g),g=0,f=function(d){var a=b[g++];if(":"==a)return 0;if("?"==b[g++]){if(!d&&p(a))return f();f(!0);return f(d)}return a||0};return(a=f())&&c(a)};p.load=function(a,c,b){a?c([a],b):b()};return p})},"dojo/_base/config":function(){define(["../global","../has","require"],function(l,a,k){l={};k=k.rawConfig;for(var p in k)l[p]=k[p];!l.locale&&"undefined"!=typeof navigator&&(p=navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.language||
  navigator.userLanguage)&&(l.locale=p.toLowerCase());return l})},"dojo/_base/lang":function(){define(["./kernel","../has","../sniff"],function(l,a){var k=function(a,c,b){b||(b=a[0]&&l.scopeMap[a[0]]?l.scopeMap[a.shift()][1]:l.global);try{for(var g=0;g<a.length;g++){var f=a[g];if(!(f in b))if(c)b[f]={};else return;b=b[f]}return b}catch(d){}},p=Object.prototype.toString,h=function(a,c,b){return(b||[]).concat(Array.prototype.slice.call(a,c||0))},e=/\{([^\}]+)\}/g,f={_extraNames:[],_mixin:function(a,c,
  b){var g,f,d={};for(g in c)f=c[g],g in a&&(a[g]===f||g in d&&d[g]===f)||(a[g]=b?b(f):f);return a},mixin:function(a,c){a||(a={});for(var b=1,g=arguments.length;b<g;b++)f._mixin(a,arguments[b]);return a},setObject:function(a,c,b){var g=a.split(".");a=g.pop();return(b=k(g,!0,b))&&a?b[a]=c:void 0},getObject:function(a,c,b){return a?k(a.split("."),c,b):b},exists:function(a,c){return void 0!==f.getObject(a,!1,c)},isString:function(a){return"string"==typeof a||a instanceof String},isArray:Array.isArray||
  function(a){return"[object Array]"==p.call(a)},isFunction:function(a){return"[object Function]"===p.call(a)},isObject:function(a){return void 0!==a&&(null===a||"object"==typeof a||f.isArray(a)||f.isFunction(a))},isArrayLike:function(a){return!!a&&!f.isString(a)&&!f.isFunction(a)&&!(a.tagName&&"form"==a.tagName.toLowerCase())&&(f.isArray(a)||isFinite(a.length))},isAlien:function(a){return a&&!f.isFunction(a)&&/\{\s*\[native code\]\s*\}/.test(String(a))},extend:function(a,c){for(var b=1,g=arguments.length;b<
  g;b++)f._mixin(a.prototype,arguments[b]);return a},_hitchArgs:function(a,c){var b=f._toArray(arguments,2),g=f.isString(c);return function(){var m=f._toArray(arguments),d=g?(a||l.global)[c]:c;return d&&d.apply(a||this,b.concat(m))}},hitch:function(a,c){if(2<arguments.length)return f._hitchArgs.apply(l,arguments);c||(c=a,a=null);if(f.isString(c)){a=a||l.global;if(!a[c])throw['lang.hitch: scope["',c,'"] is null (scope\x3d"',a,'")'].join("");return function(){return a[c].apply(a,arguments||[])}}return a?
  function(){return c.apply(a,arguments||[])}:c},delegate:function(){function a(){}return function(c,b){a.prototype=c;c=new a;a.prototype=null;b&&f._mixin(c,b);return c}}(),_toArray:a("ie")?function(){function a(a,b,g){g=g||[];for(b=b||0;b<a.length;b++)g.push(a[b]);return g}return function(c){return(c.item?a:h).apply(this,arguments)}}():h,partial:function(a){return f.hitch.apply(l,[null].concat(f._toArray(arguments)))},clone:function(a){if(!a||"object"!=typeof a||f.isFunction(a))return a;if(a.nodeType&&
  "cloneNode"in a)return a.cloneNode(!0);if(a instanceof Date)return new Date(a.getTime());if(a instanceof RegExp)return new RegExp(a);var c,b,g;if(f.isArray(a))for(c=[],b=0,g=a.length;b<g;++b)b in a&&(c[b]=f.clone(a[b]));else c=a.constructor?new a.constructor:{};return f._mixin(c,a,f.clone)},trim:String.prototype.trim?function(a){return a.trim()}:function(a){return a.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},replace:function(a,c,b){return a.replace(b||e,f.isFunction(c)?c:function(b,a){return f.getObject(a,
  !1,c)})}};f.mixin(l,f);return f})},"dojo/sniff":function(){define(["./has"],function(l){if(l("host-browser")){var a=navigator,k=a.userAgent,a=a.appVersion,p=parseFloat(a);l.add("edge",parseFloat(k.split("Edge/")[1])||void 0);l.add("webkit",!l("edge")&&parseFloat(k.split("WebKit/")[1])||void 0);l.add("chrome",!l("edge")&&!0&&parseFloat(k.split("Chrome/")[1])||void 0);l.add("safari",0<=a.indexOf("Safari")&&!l("chrome")&&!l("edge")?parseFloat(a.split("Version/")[1]):void 0);l.add("mac",0<=a.indexOf("Macintosh"));
  if(k.match(/(iPhone|iPod|iPad)/)){var h=RegExp.$1.replace(/P/,"p"),e=k.match(/OS ([\d_]+)/)?RegExp.$1:"1",e=parseFloat(e.replace(/_/,".").replace(/_/g,""));l.add(h,e);l.add("ios",e)}l.add("trident",parseFloat(a.split("Trident/")[1])||void 0);l("webkit")||(0<=k.indexOf("Opera")&&l.add("opera",9.8<=p?parseFloat(k.split("Version/")[1])||p:p),0<=k.indexOf("Gecko")&&!l("trident")&&!l("edge")&&l.add("mozilla",p),l("mozilla")&&l.add("ff",parseFloat(k.split("Firefox/")[1]||k.split("Minefield/")[1])||void 0),
  document.all&&!l("opera")&&(k=parseFloat(a.split("MSIE ")[1])||void 0,(a=document.documentMode)&&5!=a&&Math.floor(k)!=a&&(k=a),l.add("ie",k)))}return l})},"dojo/_base/connect":function(){define("./kernel ../on ../topic ../aspect ./event ../mouse ./sniff ./lang ../keys".split(" "),function(l,a,k,p,h,e,f,m){function c(b,d,g,c,f){c=m.hitch(g,c);if(!b||!b.addEventListener&&!b.attachEvent)return p.after(b||l.global,d,c,!0);"string"==typeof d&&"on"==d.substring(0,2)&&(d=d.substring(2));b||(b=l.global);
  if(!f)switch(d){case "keypress":d=v;break;case "mouseenter":d=e.enter;break;case "mouseleave":d=e.leave}return a(b,d,c,f)}function b(b){b.keyChar=b.charCode?String.fromCharCode(b.charCode):"";b.charOrCode=b.keyChar||b.keyCode}f.add("events-keypress-typed",function(){var b={charCode:0};try{b=document.createEvent("KeyboardEvent"),(b.initKeyboardEvent||b.initKeyEvent).call(b,"keypress",!0,!0,null,!1,!1,!1,!1,9,3)}catch(y){}return 0==b.charCode&&!f("opera")});var g={106:42,111:47,186:59,187:43,188:44,
  189:45,190:46,191:47,192:96,219:91,220:92,221:93,222:39,229:113},t=f("mac")?"metaKey":"ctrlKey",d=function(d,a){a=m.mixin({},d,a);b(a);a.preventDefault=function(){d.preventDefault()};a.stopPropagation=function(){d.stopPropagation()};return a},v;v=f("events-keypress-typed")?function(b,c){var t=a(b,"keydown",function(b){var a=b.keyCode,u=13!=a&&32!=a&&(27!=a||!f("ie"))&&(48>a||90<a)&&(96>a||111<a)&&(186>a||192<a)&&(219>a||222<a)&&229!=a;if(u||b.ctrlKey){u=u?0:a;if(b.ctrlKey){if(3==a||13==a)return c.call(b.currentTarget,
  b);u=95<u&&106>u?u-48:!b.shiftKey&&65<=u&&90>=u?u+32:g[u]||u}a=d(b,{type:"keypress",faux:!0,charCode:u});c.call(b.currentTarget,a);if(f("ie"))try{b.keyCode=a.keyCode}catch(z){}}}),v=a(b,"keypress",function(b){var a=b.charCode;b=d(b,{charCode:32<=a?a:0,faux:!0});return c.call(this,b)});return{remove:function(){t.remove();v.remove()}}}:f("opera")?function(b,g){return a(b,"keypress",function(b){var a=b.which;3==a&&(a=99);a=32>a&&!b.shiftKey?0:a;b.ctrlKey&&!b.shiftKey&&65<=a&&90>=a&&(a+=32);return g.call(this,
  d(b,{charCode:a}))})}:function(d,g){return a(d,"keypress",function(a){b(a);return g.call(this,a)})};var A={_keypress:v,connect:function(b,a,d,g,f){var n=arguments,u=[],t=0;u.push("string"==typeof n[0]?null:n[t++],n[t++]);var v=n[t+1];u.push("string"==typeof v||"function"==typeof v?n[t++]:null,n[t++]);for(v=n.length;t<v;t++)u.push(n[t]);return c.apply(this,u)},disconnect:function(b){b&&b.remove()},subscribe:function(b,a,d){return k.subscribe(b,m.hitch(a,d))},publish:function(b,a){return k.publish.apply(k,
  [b].concat(a))},connectPublisher:function(b,a,d){var g=function(){A.publish(b,arguments)};return d?A.connect(a,d,g):A.connect(a,g)},isCopyKey:function(b){return b[t]}};A.unsubscribe=A.disconnect;m.mixin(l,A);return A})},"dojo/on":function(){define(["require","./_base/kernel","./sniff"],function(l,a,k){function p(b,a,c,t,e){if(t=a.match(/(.*):(.*)/))return a=t[2],t=t[1],f.selector(t,a).call(e,b,c);k("touch")&&m.test(a)&&(c=d(c));if(b.addEventListener){var v=a in g,n=v?g[a]:a;b.addEventListener(n,c,
  v);return{remove:function(){b.removeEventListener(n,c,v)}}}throw Error("Target must be an event emitter");}function h(){this.cancelable=!1;this.defaultPrevented=!0}function e(){this.bubbles=!1}k("dom")&&k("touch");var f=function(b,a,d,g){return"function"!=typeof b.on||"function"==typeof a||b.nodeType?f.parse(b,a,d,p,g,this):b.on(a,d)};f.pausable=function(b,a,d,g){var c;b=f(b,a,function(){if(!c)return d.apply(this,arguments)},g);b.pause=function(){c=!0};b.resume=function(){c=!1};return b};f.once=function(b,
  a,d,g){var c=f(b,a,function(){c.remove();return d.apply(this,arguments)});return c};f.parse=function(b,a,d,g,c,t){var n;if(a.call)return a.call(t,b,d);a instanceof Array?n=a:-1<a.indexOf(",")&&(n=a.split(/\s*,\s*/));if(n){var v=[];a=0;for(var u;u=n[a++];)v.push(f.parse(b,u,d,g,c,t));v.remove=function(){for(var b=0;b<v.length;b++)v[b].remove()};return v}return g(b,a,d,c,t)};var m=/^touch/;f.matches=function(b,d,g,c,f){f=f&&"function"==typeof f.matches?f:a.query;c=!1!==c;1!=b.nodeType&&(b=b.parentNode);
  for(;!f.matches(b,d,g);)if(b==g||!1===c||!(b=b.parentNode)||1!=b.nodeType)return!1;return b};f.selector=function(b,a,d){return function(g,c){function t(a){return f.matches(a,b,g,d,n)}var n="function"==typeof b?{matches:b}:this,e=a.bubble;return e?f(g,e(t),c):f(g,a,function(b){var a=t(b.target);if(a)return b.selectorTarget=a,c.call(a,b)})}};var c=[].slice,b=f.emit=function(b,a,d){var g=c.call(arguments,2),f="on"+a;if("parentNode"in b){var t=g[0]={},n;for(n in d)t[n]=d[n];t.preventDefault=h;t.stopPropagation=
  e;t.target=b;t.type=a;d=t}do b[f]&&b[f].apply(b,g);while(d&&d.bubbles&&(b=b.parentNode));return d&&d.cancelable&&d},g={};f.emit=function(a,d,g){if(a.dispatchEvent&&document.createEvent){var c=(a.ownerDocument||document).createEvent("HTMLEvents");c.initEvent(d,!!g.bubbles,!!g.cancelable);for(var t in g)t in c||(c[t]=g[t]);return a.dispatchEvent(c)&&c}return b.apply(f,arguments)};if(k("touch"))var t=window.orientation,d=function(b){return function(a){var d=a.corrected;if(!d){var g=a.type;try{delete a.type}catch(n){}if(a.type){var d=
  {},c;for(c in a)d[c]=a[c];d.preventDefault=function(){a.preventDefault()};d.stopPropagation=function(){a.stopPropagation()}}else d=a,d.type=g;a.corrected=d;if("resize"==g){if(t==window.orientation)return null;t=window.orientation;d.type="orientationchange";return b.call(this,d)}"rotation"in d||(d.rotation=0,d.scale=1);if(window.TouchEvent&&a instanceof TouchEvent){var g=d.changedTouches[0],f;for(f in g)delete d[f],d[f]=g[f]}}return b.call(this,d)}};return f})},"dojo/topic":function(){define(["./Evented"],
  function(l){var a=new l;return{publish:function(k,p){return a.emit.apply(a,arguments)},subscribe:function(k,p){return a.on.apply(a,arguments)}}})},"dojo/Evented":function(){define(["./aspect","./on"],function(l,a){function k(){}var p=l.after;k.prototype={on:function(h,e){return a.parse(this,h,e,function(a,m){return p(a,"on"+m,e,!0)})},emit:function(h,e){var f=[this];f.push.apply(f,arguments);return a.emit.apply(a,f)}};return k})},"dojo/aspect":function(){define([],function(){function l(a,e,c,b){var g=
  a[e],f="around"==e,d;if(f){var m=c(function(){return g.advice(this,arguments)});d={remove:function(){m&&(m=a=c=null)},advice:function(b,a){return m?m.apply(b,a):g.advice(b,a)}}}else d={remove:function(){if(d.advice){var b=d.previous,g=d.next;g||b?(b?b.next=g:a[e]=g,g&&(g.previous=b)):delete a[e];a=c=d.advice=null}},id:a.nextId++,advice:c,receiveArguments:b};if(g&&!f)if("after"==e){for(;g.next&&(g=g.next););g.next=d;d.previous=g}else"before"==e&&(a[e]=d,d.next=g,g.previous=d);else a[e]=d;return d}
  function a(a){return function(f,c,b,g){var t=f[c],d;t&&t.target==f||(f[c]=d=function(){for(var b=d.nextId,a=arguments,g=d.before;g;)g.advice&&(a=g.advice.apply(this,a)||a),g=g.next;if(d.around)var c=d.around.advice(this,a);for(g=d.after;g&&g.id<b;){if(g.advice)if(g.receiveArguments)var f=g.advice.apply(this,a),c=f===k?c:f;else c=g.advice.call(this,c,a);g=g.next}return c},t&&(d.around={advice:function(b,a){return t.apply(b,a)}}),d.target=f,d.nextId=d.nextId||0);f=l(d||t,a,b,g);b=null;return f}}var k,
  p=a("after"),h=a("before"),e=a("around");return{before:h,around:e,after:p}})},"dojo/_base/event":function(){define(["./kernel","../on","../has","../dom-geometry"],function(l,a,k,p){if(a._fixEvent){var h=a._fixEvent;a._fixEvent=function(a,f){(a=h(a,f))&&p.normalizeEvent(a);return a}}k={fix:function(e,f){return a._fixEvent?a._fixEvent(e,f):e},stop:function(a){a.preventDefault();a.stopPropagation()}};l.fixEvent=k.fix;l.stopEvent=k.stop;return k})},"dojo/dom-geometry":function(){define(["./sniff","./_base/window",
  "./dom","./dom-style"],function(l,a,k,p){function h(b,a,c,d,f,e){e=e||"px";b=b.style;isNaN(a)||(b.left=a+e);isNaN(c)||(b.top=c+e);0<=d&&(b.width=d+e);0<=f&&(b.height=f+e)}function e(b){return"button"==b.tagName.toLowerCase()||"input"==b.tagName.toLowerCase()&&"button"==(b.getAttribute("type")||"").toLowerCase()}function f(b){return"border-box"==m.boxModel||"table"==b.tagName.toLowerCase()||e(b)}var m={boxModel:"content-box"};l("ie")&&(m.boxModel="BackCompat"==document.compatMode?"border-box":"content-box");
  m.getPadExtents=function(b,a){b=k.byId(b);var g=a||p.getComputedStyle(b),d=p.toPixelValue;a=d(b,g.paddingLeft);var c=d(b,g.paddingTop),f=d(b,g.paddingRight);b=d(b,g.paddingBottom);return{l:a,t:c,r:f,b:b,w:a+f,h:c+b}};m.getBorderExtents=function(b,a){b=k.byId(b);var g=p.toPixelValue,d=a||p.getComputedStyle(b);a="none"!=d.borderLeftStyle?g(b,d.borderLeftWidth):0;var c="none"!=d.borderTopStyle?g(b,d.borderTopWidth):0,f="none"!=d.borderRightStyle?g(b,d.borderRightWidth):0;b="none"!=d.borderBottomStyle?
  g(b,d.borderBottomWidth):0;return{l:a,t:c,r:f,b:b,w:a+f,h:c+b}};m.getPadBorderExtents=function(b,a){b=k.byId(b);var g=a||p.getComputedStyle(b);a=m.getPadExtents(b,g);b=m.getBorderExtents(b,g);return{l:a.l+b.l,t:a.t+b.t,r:a.r+b.r,b:a.b+b.b,w:a.w+b.w,h:a.h+b.h}};m.getMarginExtents=function(b,a){b=k.byId(b);var g=a||p.getComputedStyle(b),d=p.toPixelValue;a=d(b,g.marginLeft);var c=d(b,g.marginTop),f=d(b,g.marginRight);b=d(b,g.marginBottom);return{l:a,t:c,r:f,b:b,w:a+f,h:c+b}};m.getMarginBox=function(b,
  a){b=k.byId(b);a=a||p.getComputedStyle(b);a=m.getMarginExtents(b,a);var g=b.offsetLeft-a.l,d=b.offsetTop-a.t,c=b.parentNode,f=p.toPixelValue;8==l("ie")&&c&&(c=p.getComputedStyle(c),g-="none"!=c.borderLeftStyle?f(b,c.borderLeftWidth):0,d-="none"!=c.borderTopStyle?f(b,c.borderTopWidth):0);return{l:g,t:d,w:b.offsetWidth+a.w,h:b.offsetHeight+a.h}};m.getContentBox=function(b,a){b=k.byId(b);var g=a||p.getComputedStyle(b);a=b.clientWidth;var d,c=m.getPadExtents(b,g);d=m.getBorderExtents(b,g);var g=b.offsetLeft+
  c.l+d.l,f=b.offsetTop+c.t+d.t;a?d=b.clientHeight:(a=b.offsetWidth-d.w,d=b.offsetHeight-d.h);if(8==l("ie")){var e=b.parentNode,h=p.toPixelValue;e&&(e=p.getComputedStyle(e),g-="none"!=e.borderLeftStyle?h(b,e.borderLeftWidth):0,f-="none"!=e.borderTopStyle?h(b,e.borderTopWidth):0)}return{l:g,t:f,w:a-c.w,h:d-c.h}};m.setContentSize=function(b,a,c){b=k.byId(b);var d=a.w;a=a.h;f(b)&&(c=m.getPadBorderExtents(b,c),0<=d&&(d+=c.w),0<=a&&(a+=c.h));h(b,NaN,NaN,d,a)};var c={l:0,t:0,w:0,h:0};m.setMarginBox=function(b,
  a,t){b=k.byId(b);var d=t||p.getComputedStyle(b);t=a.w;var g=a.h,A=f(b)?c:m.getPadBorderExtents(b,d),d=m.getMarginExtents(b,d);if(l("webkit")&&e(b)){var w=b.style;0<=t&&!w.width&&(w.width="4px");0<=g&&!w.height&&(w.height="4px")}0<=t&&(t=Math.max(t-A.w-d.w,0));0<=g&&(g=Math.max(g-A.h-d.h,0));h(b,a.l,a.t,t,g)};m.isBodyLtr=function(b){b=b||a.doc;return"ltr"==(a.body(b).dir||b.documentElement.dir||"ltr").toLowerCase()};m.docScroll=function(b){b=b||a.doc;var c=a.doc.parentWindow||a.doc.defaultView;return"pageXOffset"in
  c?{x:c.pageXOffset,y:c.pageYOffset}:(c=b.documentElement)&&{x:m.fixIeBiDiScrollLeft(c.scrollLeft||0,b),y:c.scrollTop||0}};m.getIeDocumentElementOffset=function(b){return{x:0,y:0}};m.fixIeBiDiScrollLeft=function(b,c){c=c||a.doc;var g=l("ie");if(g&&!m.isBodyLtr(c)){c=c.documentElement;var d=a.global;6==g&&d.frameElement&&c.scrollHeight>c.clientHeight&&(b+=c.clientLeft);return 8>g?b+c.clientWidth-c.scrollWidth:-b}return b};m.position=function(b,c){b=k.byId(b);a.body(b.ownerDocument);var g=b.getBoundingClientRect(),
  g={x:g.left,y:g.top,w:g.right-g.left,h:g.bottom-g.top};9>l("ie")&&(g.x-=0,g.y-=0);c&&(b=m.docScroll(b.ownerDocument),g.x+=b.x,g.y+=b.y);return g};m.getMarginSize=function(b,a){b=k.byId(b);a=m.getMarginExtents(b,a||p.getComputedStyle(b));b=b.getBoundingClientRect();return{w:b.right-b.left+a.w,h:b.bottom-b.top+a.h}};m.normalizeEvent=function(b){"layerX"in b||(b.layerX=b.offsetX,b.layerY=b.offsetY);if(!("pageX"in b)){var a=b.target,a=a&&a.ownerDocument||document,c=a.documentElement;b.pageX=b.clientX+
  m.fixIeBiDiScrollLeft(c.scrollLeft||0,a);b.pageY=b.clientY+(c.scrollTop||0)}};return m})},"dojo/_base/window":function(){define(["./kernel","./lang","../sniff"],function(l,a,k){var p={global:l.global,doc:l.global.document||null,body:function(a){a=a||l.doc;return a.body||a.getElementsByTagName("body")[0]},setContext:function(a,e){l.global=p.global=a;l.doc=p.doc=e},withGlobal:function(a,e,f,m){var c=l.global;try{return l.global=p.global=a,p.withDoc.call(null,a.document,e,f,m)}finally{l.global=p.global=
  c}},withDoc:function(a,e,f,m){var c=p.doc,b=k("ie"),g,t,d;try{return l.doc=p.doc=a,l.isQuirks=0,k("ie")&&(d=a.parentWindow)&&d.navigator&&(g=parseFloat(d.navigator.appVersion.split("MSIE ")[1])||void 0,(t=a.documentMode)&&5!=t&&Math.floor(g)!=t&&(g=t),l.isIE=k.add("ie",g,!0,!0)),f&&"string"==typeof e&&(e=f[e]),e.apply(f,m||[])}finally{l.doc=p.doc=c,l.isQuirks=0,l.isIE=k.add("ie",b,!0,!0)}}};a.mixin(l,p);return p})},"dojo/dom":function(){define(["./sniff","./_base/window","./_base/kernel"],function(l,
  a,k){if(7>=l("ie"))try{document.execCommand("BackgroundImageCache",!1,!0)}catch(e){}var p={};l("ie")?p.byId=function(e,f){if("string"!=typeof e)return e;var m=f||a.doc;f=e&&m.getElementById(e);if(!f||f.attributes.id.value!=e&&f.id!=e){m=m.all[e];if(!m||m.nodeName)m=[m];for(var c=0;f=m[c++];)if(f.attributes&&f.attributes.id&&f.attributes.id.value==e||f.id==e)return f}else return f}:p.byId=function(e,f){return("string"==typeof e?(f||a.doc).getElementById(e):e)||null};k=k.global.document||null;l.add("dom-contains",
  !(!k||!k.contains));p.isDescendant=l("dom-contains")?function(a,f){return!(!(f=p.byId(f))||!f.contains(p.byId(a)))}:function(a,f){try{for(a=p.byId(a),f=p.byId(f);a;){if(a==f)return!0;a=a.parentNode}}catch(m){}return!1};l.add("css-user-select",function(a,f,m){if(!m)return!1;a=m.style;f=["Khtml","O","Moz","Webkit"];m=f.length;var c="userSelect";do if("undefined"!==typeof a[c])return c;while(m--&&(c=f[m]+"UserSelect"));return!1});var h=l("css-user-select");p.setSelectable=h?function(a,f){p.byId(a).style[h]=
  f?"":"none"}:function(a,f){a=p.byId(a);var e=a.getElementsByTagName("*"),c=e.length;if(f)for(a.removeAttribute("unselectable");c--;)e[c].removeAttribute("unselectable");else for(a.setAttribute("unselectable","on");c--;)e[c].setAttribute("unselectable","on")};return p})},"dojo/dom-style":function(){define(["./sniff","./dom","./_base/window"],function(l,a,k){function p(b,a,d){a=a.toLowerCase();if("auto"==d){if("height"==a)return b.offsetHeight;if("width"==a)return b.offsetWidth}if("fontweight"==a)switch(d){case 700:return"bold";
  default:return"normal"}a in g||(g[a]=t.test(a));return g[a]?f(b,d):d}var h,e={};h=l("webkit")?function(b){var a;if(1==b.nodeType){var d=b.ownerDocument.defaultView;a=d.getComputedStyle(b,null);!a&&b.style&&(b.style.display="",a=d.getComputedStyle(b,null))}return a||{}}:l("ie")&&9>l("ie")?function(b){return 1==b.nodeType&&b.currentStyle?b.currentStyle:{}}:function(b){if(1===b.nodeType){var a=b.ownerDocument.defaultView;return(a.opener?a:k.global.window).getComputedStyle(b,null)}return{}};e.getComputedStyle=
  h;var f;f=l("ie")?function(b,a){if(!a)return 0;if("medium"==a)return 4;if(a.slice&&"px"==a.slice(-2))return parseFloat(a);var d=b.style,c=b.runtimeStyle,g=d.left,f=c.left;c.left=b.currentStyle.left;try{d.left=a,a=d.pixelLeft}catch(n){a=0}d.left=g;c.left=f;return a}:function(b,a){return parseFloat(a)||0};e.toPixelValue=f;var m=function(b,a){try{return b.filters.item("DXImageTransform.Microsoft.Alpha")}catch(w){return a?{}:null}},c=9>l("ie")||(l("ie"),0)?function(b){try{return m(b).Opacity/100}catch(A){return 1}}:
  function(b){return h(b).opacity},b=9>l("ie")||(l("ie"),0)?function(a,d){""===d&&(d=1);var c=100*d;1===d?(a.style.zoom="",m(a)&&(a.style.filter=a.style.filter.replace(/\s*progid:DXImageTransform.Microsoft.Alpha\([^\)]+?\)/i,""))):(a.style.zoom=1,m(a)?m(a,1).Opacity=c:a.style.filter+=" progid:DXImageTransform.Microsoft.Alpha(Opacity\x3d"+c+")",m(a,1).Enabled=!0);if("tr"==a.tagName.toLowerCase())for(a=a.firstChild;a;a=a.nextSibling)"td"==a.tagName.toLowerCase()&&b(a,d);return d}:function(b,a){return b.style.opacity=
  a},g={left:!0,top:!0},t=/margin|padding|width|height|max|min|offset/,d={cssFloat:1,styleFloat:1,"float":1};e.get=function(b,g){var f=a.byId(b),t=arguments.length;if(2==t&&"opacity"==g)return c(f);g=d[g]?"cssFloat"in f.style?"cssFloat":"styleFloat":g;var m=e.getComputedStyle(f);return 1==t?m:p(f,g,m[g]||f.style[g])};e.set=function(c,g,f){var t=a.byId(c),m=arguments.length,h="opacity"==g;g=d[g]?"cssFloat"in t.style?"cssFloat":"styleFloat":g;if(3==m)return h?b(t,f):t.style[g]=f;for(var n in g)e.set(c,
  n,g[n]);return e.getComputedStyle(t)};return e})},"dojo/mouse":function(){define(["./_base/kernel","./on","./has","./dom","./_base/window"],function(l,a,k,p,h){function e(f,m){var c=function(b,c){return a(b,f,function(a){if(m)return m(a,c);if(!p.isDescendant(a.relatedTarget,b))return c.call(this,a)})};c.bubble=function(b){return e(f,function(a,c){var d=b(a.target),g=a.relatedTarget;if(d&&d!=(g&&1==g.nodeType&&b(g)))return c.call(d,a)})};return c}k={LEFT:0,MIDDLE:1,RIGHT:2,isButton:function(a,e){return a.button==
  e},isLeft:function(a){return 0==a.button},isMiddle:function(a){return 1==a.button},isRight:function(a){return 2==a.button}};l.mouseButtons=k;return{_eventHandler:e,enter:e("mouseover"),leave:e("mouseout"),wheel:"mousewheel",isLeft:k.isLeft,isMiddle:k.isMiddle,isRight:k.isRight}})},"dojo/_base/sniff":function(){define(["./kernel","./lang","../sniff"],function(l,a,k){if(!k("host-browser"))return k;l._name="browser";a.mixin(l,{isBrowser:!0,isFF:k("ff"),isIE:k("ie"),isKhtml:0,isWebKit:k("webkit"),isMozilla:k("mozilla"),
  isMoz:k("mozilla"),isOpera:k("opera"),isSafari:k("safari"),isChrome:k("chrome"),isMac:k("mac"),isIos:k("ios"),isAndroid:0,isWii:0,isQuirks:0,isAir:0});return k})},"dojo/keys":function(){define(["./_base/kernel","./sniff"],function(l,a){return l.keys={BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:a("webkit")?91:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,
  RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,UP_DPAD:175,DOWN_DPAD:176,LEFT_DPAD:177,RIGHT_DPAD:178,copyKey:a("mac")?a("safari")?91:224:17}})},"dojo/_base/unload":function(){define(["./kernel",
  "./lang","../on"],function(l,a,k){var p=window,h={addOnWindowUnload:function(e,f){l.windowUnloaded||k(p,"unload",l.windowUnloaded=function(){});k(p,"unload",a.hitch(e,f))},addOnUnload:function(e,f){k(p,"beforeunload",a.hitch(e,f))}};l.addOnWindowUnload=h.addOnWindowUnload;l.addOnUnload=h.addOnUnload;return h})},"dojo/_base/html":function(){define("./kernel ../dom ../dom-style ../dom-attr ../dom-prop ../dom-class ../dom-construct ../dom-geometry".split(" "),function(l,a,k,p,h,e,f,m){l.byId=a.byId;
  l.isDescendant=a.isDescendant;l.setSelectable=a.setSelectable;l.getAttr=p.get;l.setAttr=p.set;l.hasAttr=p.has;l.removeAttr=p.remove;l.getNodeProp=p.getNodeProp;l.attr=function(a,b,g){return 2==arguments.length?p["string"==typeof b?"get":"set"](a,b):p.set(a,b,g)};l.hasClass=e.contains;l.addClass=e.add;l.removeClass=e.remove;l.toggleClass=e.toggle;l.replaceClass=e.replace;l._toDom=l.toDom=f.toDom;l.place=f.place;l.create=f.create;l.empty=function(a){f.empty(a)};l._destroyElement=l.destroy=function(a){f.destroy(a)};
  l._getPadExtents=l.getPadExtents=m.getPadExtents;l._getBorderExtents=l.getBorderExtents=m.getBorderExtents;l._getPadBorderExtents=l.getPadBorderExtents=m.getPadBorderExtents;l._getMarginExtents=l.getMarginExtents=m.getMarginExtents;l._getMarginSize=l.getMarginSize=m.getMarginSize;l._getMarginBox=l.getMarginBox=m.getMarginBox;l.setMarginBox=m.setMarginBox;l._getContentBox=l.getContentBox=m.getContentBox;l.setContentSize=m.setContentSize;l._isBodyLtr=l.isBodyLtr=m.isBodyLtr;l._docScroll=l.docScroll=
  m.docScroll;l._getIeDocumentElementOffset=l.getIeDocumentElementOffset=m.getIeDocumentElementOffset;l._fixIeBiDiScrollLeft=l.fixIeBiDiScrollLeft=m.fixIeBiDiScrollLeft;l.position=m.position;l.marginBox=function(a,b){return b?m.setMarginBox(a,b):m.getMarginBox(a)};l.contentBox=function(a,b){return b?m.setContentSize(a,b):m.getContentBox(a)};l.coords=function(c,b){l.deprecated("dojo.coords()","Use dojo.position() or dojo.marginBox().");c=a.byId(c);var g=k.getComputedStyle(c),g=m.getMarginBox(c,g);c=
  m.position(c,b);g.x=c.x;g.y=c.y;return g};l.getProp=h.get;l.setProp=h.set;l.prop=function(a,b,g){return 2==arguments.length?h["string"==typeof b?"get":"set"](a,b):h.set(a,b,g)};l.getStyle=k.get;l.setStyle=k.set;l.getComputedStyle=k.getComputedStyle;l.__toPixelValue=l.toPixelValue=k.toPixelValue;l.style=function(a,b,g){switch(arguments.length){case 1:return k.get(a);case 2:return k["string"==typeof b?"get":"set"](a,b)}return k.set(a,b,g)};return l})},"dojo/dom-attr":function(){define("exports ./sniff ./_base/lang ./dom ./dom-style ./dom-prop".split(" "),
  function(l,a,k,p,h,e){function f(b,a){b=b.getAttributeNode&&b.getAttributeNode(a);return!!b&&b.specified}var m={innerHTML:1,textContent:1,className:1,htmlFor:a("ie"),value:1},c={classname:"class",htmlfor:"for",tabindex:"tabIndex",readonly:"readOnly"};l.has=function(b,a){var g=a.toLowerCase();return m[e.names[g]||a]||f(p.byId(b),c[g]||a)};l.get=function(b,a){b=p.byId(b);var g=a.toLowerCase(),d=e.names[g]||a,h=b[d];if(m[d]&&"undefined"!=typeof h)return h;if("textContent"==d)return e.get(b,d);if("href"!=
  d&&("boolean"==typeof h||k.isFunction(h)))return h;a=c[g]||a;return f(b,a)?b.getAttribute(a):null};l.set=function(b,a,f){b=p.byId(b);if(2==arguments.length){for(var d in a)l.set(b,d,a[d]);return b}d=a.toLowerCase();var g=e.names[d]||a,t=m[g];if("style"==g&&"string"!=typeof f)return h.set(b,f),b;if(t||"boolean"==typeof f||k.isFunction(f))return e.set(b,a,f);b.setAttribute(c[d]||a,f);return b};l.remove=function(b,a){p.byId(b).removeAttribute(c[a.toLowerCase()]||a)};l.getNodeProp=function(b,a){b=p.byId(b);
  var g=a.toLowerCase(),d=e.names[g]||a;if(d in b&&"href"!=d)return b[d];a=c[g]||a;return f(b,a)?b.getAttribute(a):null}})},"dojo/dom-prop":function(){define("exports ./_base/kernel ./sniff ./_base/lang ./dom ./dom-style ./dom-construct ./_base/connect".split(" "),function(l,a,k,p,h,e,f,m){var c={},b=1,g=a._scopeName+"attrid";l.names={"class":"className","for":"htmlFor",tabindex:"tabIndex",readonly:"readOnly",colspan:"colSpan",frameborder:"frameBorder",rowspan:"rowSpan",textcontent:"textContent",valuetype:"valueType"};
  l.get=function(b,a){b=h.byId(b);var d=a.toLowerCase();return b[l.names[d]||a]};l.set=function(a,d,v){a=h.byId(a);if(2==arguments.length&&"string"!=typeof d){for(var t in d)l.set(a,t,d[t]);return a}t=d.toLowerCase();t=l.names[t]||d;if("style"==t&&"string"!=typeof v)return e.set(a,v),a;if("innerHTML"==t)return k("ie")&&a.tagName.toLowerCase()in{col:1,colgroup:1,table:1,tbody:1,tfoot:1,thead:1,tr:1,title:1}?(f.empty(a),a.appendChild(f.toDom(v,a.ownerDocument))):a[t]=v,a;if(p.isFunction(v)){var w=a[g];
  w||(w=b++,a[g]=w);c[w]||(c[w]={});var y=c[w][t];if(y)m.disconnect(y);else try{delete a[t]}catch(B){}v?c[w][t]=m.connect(a,t,v):a[t]=null;return a}a[t]=v;return a}})},"dojo/dom-construct":function(){define("exports ./_base/kernel ./sniff ./_base/window ./dom ./dom-attr".split(" "),function(l,a,k,p,h,e){function f(b,a){var d=a.parentNode;d&&d.insertBefore(b,a)}function m(b){if("innerHTML"in b)try{b.innerHTML="";return}catch(n){}for(var a;a=b.lastChild;)b.removeChild(a)}var c={option:["select"],tbody:["table"],
  thead:["table"],tfoot:["table"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","thead","tr"],legend:["fieldset"],caption:["table"],colgroup:["table"],col:["table","colgroup"],li:["ul"]},b=/<\s*([\w\:]+)/,g={},t=0,d="__"+a._scopeName+"ToDomId",v;for(v in c)c.hasOwnProperty(v)&&(a=c[v],a.pre="option"==v?'\x3cselect multiple\x3d"multiple"\x3e':"\x3c"+a.join("\x3e\x3c")+"\x3e",a.post="\x3c/"+a.reverse().join("\x3e\x3c/")+"\x3e");var A;8>=k("ie")&&(A=function(b){b.__dojo_html5_tested="yes";
  var a=w("div",{innerHTML:"\x3cnav\x3ea\x3c/nav\x3e",style:{visibility:"hidden"}},b.body);1!==a.childNodes.length&&"abbr article aside audio canvas details figcaption figure footer header hgroup mark meter nav output progress section summary time video".replace(/\b\w+\b/g,function(a){b.createElement(a)});y(a)});l.toDom=function(a,f){f=f||p.doc;var n=f[d];n||(f[d]=n=++t+"",g[n]=f.createElement("div"));8>=k("ie")&&!f.__dojo_html5_tested&&f.body&&A(f);a+="";var e=a.match(b),u=e?e[1].toLowerCase():"",
  n=g[n];if(e&&c[u])for(e=c[u],n.innerHTML=e.pre+a+e.post,a=e.length;a;--a)n=n.firstChild;else n.innerHTML=a;if(1==n.childNodes.length)return n.removeChild(n.firstChild);for(a=f.createDocumentFragment();f=n.firstChild;)a.appendChild(f);return a};l.place=function(b,a,d){a=h.byId(a);"string"==typeof b&&(b=/^\s*</.test(b)?l.toDom(b,a.ownerDocument):h.byId(b));if("number"==typeof d){var c=a.childNodes;!c.length||c.length<=d?a.appendChild(b):f(b,c[0>d?0:d])}else switch(d){case "before":f(b,a);break;case "after":d=
  b;(c=a.parentNode)&&(c.lastChild==a?c.appendChild(d):c.insertBefore(d,a.nextSibling));break;case "replace":a.parentNode.replaceChild(b,a);break;case "only":l.empty(a);a.appendChild(b);break;case "first":if(a.firstChild){f(b,a.firstChild);break}default:a.appendChild(b)}return b};var w=l.create=function(b,a,d,c){var g=p.doc;d&&(d=h.byId(d),g=d.ownerDocument);"string"==typeof b&&(b=g.createElement(b));a&&e.set(b,a);d&&l.place(b,d,c);return b};l.empty=function(b){m(h.byId(b))};var y=l.destroy=function(b){if(b=
  h.byId(b)){var a=b;b=b.parentNode;a.firstChild&&m(a);b&&(k("ie")&&b.canHaveChildren&&"removeNode"in a?a.removeNode(!1):b.removeChild(a))}}})},"dojo/dom-class":function(){define(["./_base/lang","./_base/array","./dom"],function(l,a,k){function p(c){if("string"==typeof c||c instanceof String){if(c&&!e.test(c))return f[0]=c,f;c=c.split(e);c.length&&!c[0]&&c.shift();c.length&&!c[c.length-1]&&c.pop();return c}return c?a.filter(c,function(b){return b}):[]}var h,e=/\s+/,f=[""],m={};return h={contains:function(a,
  b){return 0<=(" "+k.byId(a).className+" ").indexOf(" "+b+" ")},add:function(a,b){a=k.byId(a);b=p(b);var c=a.className,f,c=c?" "+c+" ":" ";f=c.length;for(var d=0,e=b.length,m;d<e;++d)(m=b[d])&&0>c.indexOf(" "+m+" ")&&(c+=m+" ");f<c.length&&(a.className=c.substr(1,c.length-2))},remove:function(a,b){a=k.byId(a);var c;if(void 0!==b){b=p(b);c=" "+a.className+" ";for(var f=0,d=b.length;f<d;++f)c=c.replace(" "+b[f]+" "," ");c=l.trim(c)}else c="";a.className!=c&&(a.className=c)},replace:function(a,b,g){a=
  k.byId(a);m.className=a.className;h.remove(m,g);h.add(m,b);a.className!==m.className&&(a.className=m.className)},toggle:function(a,b,g){a=k.byId(a);if(void 0===g){b=p(b);for(var c=0,d=b.length,f;c<d;++c)f=b[c],h[h.contains(a,f)?"remove":"add"](a,f)}else h[g?"add":"remove"](a,b);return g}}})},"dojo/_base/array":function(){define(["./kernel","../has","./lang"],function(l,a,k){function p(b){return f[b]=new Function("item","index","array",b)}function h(b){var a=!b;return function(c,d,g){var e=0,m=c&&
  c.length||0,t;m&&"string"==typeof c&&(c=c.split(""));"string"==typeof d&&(d=f[d]||p(d));if(g)for(;e<m;++e){if(t=!d.call(g,c[e],e,c),b^t)return!t}else for(;e<m;++e)if(t=!d(c[e],e,c),b^t)return!t;return a}}function e(b){var a=1,f=0,d=0;b||(a=f=d=-1);return function(g,e,t,h){if(h&&0<a)return c.lastIndexOf(g,e,t);h=g&&g.length||0;var k=b?h+d:f;t===m?t=b?f:h+d:0>t?(t=h+t,0>t&&(t=f)):t=t>=h?h+d:t;for(h&&"string"==typeof g&&(g=g.split(""));t!=k;t+=a)if(g[t]==e)return t;return-1}}var f={},m,c={every:h(!1),
  some:h(!0),indexOf:e(!0),lastIndexOf:e(!1),forEach:function(b,a,c){var d=0,g=b&&b.length||0;g&&"string"==typeof b&&(b=b.split(""));"string"==typeof a&&(a=f[a]||p(a));if(c)for(;d<g;++d)a.call(c,b[d],d,b);else for(;d<g;++d)a(b[d],d,b)},map:function(b,a,c,d){var g=0,e=b&&b.length||0;d=new (d||Array)(e);e&&"string"==typeof b&&(b=b.split(""));"string"==typeof a&&(a=f[a]||p(a));if(c)for(;g<e;++g)d[g]=a.call(c,b[g],g,b);else for(;g<e;++g)d[g]=a(b[g],g,b);return d},filter:function(b,a,c){var d=0,g=b&&b.length||
  0,e=[],m;g&&"string"==typeof b&&(b=b.split(""));"string"==typeof a&&(a=f[a]||p(a));if(c)for(;d<g;++d)m=b[d],a.call(c,m,d,b)&&e.push(m);else for(;d<g;++d)m=b[d],a(m,d,b)&&e.push(m);return e},clearCache:function(){f={}}};k.mixin(l,c);return c})},"dojo/_base/NodeList":function(){define(["./kernel","../query","./array","./html","../NodeList-dom"],function(l,a,k){a=a.NodeList;var p=a.prototype;p.connect=a._adaptAsForEach(function(){return l.connect.apply(this,arguments)});p.coords=a._adaptAsMap(l.coords);
  a.events="blur focus change click error keydown keypress keyup load mousedown mouseenter mouseleave mousemove mouseout mouseover mouseup submit".split(" ");k.forEach(a.events,function(a){var e="on"+a;p[e]=function(a,m){return this.connect(e,a,m)}});return l.NodeList=a})},"dojo/query":function(){define("./_base/kernel ./has ./dom ./on ./_base/array ./_base/lang ./selector/_loader ./selector/_loader!default".split(" "),function(l,a,k,p,h,e,f,m){function c(b,a){var d=function(d,c){if("string"==typeof c&&
  (c=k.byId(c),!c))return new a([]);d="string"==typeof d?b(d,c):d?d.end&&d.on?d:[d]:[];return d.end&&d.on?d:new a(d)};d.matches=b.match||function(b,a,c){return 0<d.filter([b],a,c).length};d.filter=b.filter||function(b,a,c){return d(a,c).filter(function(a){return-1<h.indexOf(b,a)})};if("function"!=typeof b){var c=b.search;b=function(b,a){return c(a||document,b)}}return d}var b=Array.prototype,g=b.slice,t=b.concat,d=h.forEach,v=function(b,a,d){a=[0].concat(g.call(a,0));d=d||l.global;return function(c){a[0]=
  c;return b.apply(d,a)}},A=function(b){var a=this instanceof w&&1;"number"==typeof b&&(b=Array(b));var d=b&&"length"in b?b:arguments;if(a||!d.sort){for(var c=a?this:[],g=c.length=d.length,f=0;f<g;f++)c[f]=d[f];if(a)return c;d=c}e._mixin(d,y);d._NodeListCtor=function(b){return w(b)};return d},w=A,y=w.prototype=[];w._wrap=y._wrap=function(b,a,d){b=new (d||this._NodeListCtor||w)(b);return a?b._stash(a):b};w._adaptAsMap=function(b,a){return function(){return this.map(v(b,arguments,a))}};w._adaptAsForEach=
  function(b,a){return function(){this.forEach(v(b,arguments,a));return this}};w._adaptAsFilter=function(b,a){return function(){return this.filter(v(b,arguments,a))}};w._adaptWithCondition=function(b,a,d){return function(){var c=arguments,g=v(b,c,d);if(a.call(d||l.global,c))return this.map(g);this.forEach(g);return this}};d(["slice","splice"],function(a){var d=b[a];y[a]=function(){return this._wrap(d.apply(this,arguments),"slice"==a?this:null)}});d(["indexOf","lastIndexOf","every","some"],function(b){var a=
  h[b];y[b]=function(){return a.apply(l,[this].concat(g.call(arguments,0)))}});e.extend(A,{constructor:w,_NodeListCtor:w,toString:function(){return this.join(",")},_stash:function(b){this._parent=b;return this},on:function(b,a){var d=this.map(function(d){return p(d,b,a)});d.remove=function(){for(var b=0;b<d.length;b++)d[b].remove()};return d},end:function(){return this._parent?this._parent:new this._NodeListCtor(0)},concat:function(b){var a=g.call(this,0),d=h.map(arguments,function(b){return g.call(b,
  0)});return this._wrap(t.apply(a,d),this)},map:function(b,a){return this._wrap(h.map(this,b,a),this)},forEach:function(b,a){d(this,b,a);return this},filter:function(b){var a=arguments,d=this,c=0;if("string"==typeof b){d=B._filterResult(this,a[0]);if(1==a.length)return d._stash(this);c=1}return this._wrap(h.filter(d,a[c],a[c+1]),this)},instantiate:function(b,a){var d=e.isFunction(b)?b:e.getObject(b);a=a||{};return this.forEach(function(b){new d(a,b)})},at:function(){var b=new this._NodeListCtor(0);
  d(arguments,function(a){0>a&&(a=this.length+a);this[a]&&b.push(this[a])},this);return b._stash(this)}});var B=c(m,A);l.query=c(m,function(b){return A(b)});B.load=function(b,a,d){f.load(b,a,function(b){d(c(b,A))})};l._filterQueryResult=B._filterResult=function(b,a,d){return new A(B.filter(b,a,d))};l.NodeList=B.NodeList=A;return B})},"dojo/selector/_loader":function(){define(["../has","require"],function(l,a){"undefined"!==typeof document&&document.createElement("div");var k;return{load:function(p,
  h,e,f){if(f&&f.isBuild)e();else{f=a;p="default"==p?l("config-selectorEngine")||"css3":p;p="css2"==p||"lite"==p?"./lite":"css2.1"==p?"./lite":"css3"==p?"./lite":"acme"==p?"./acme":(f=h)&&p;if("?"==p.charAt(p.length-1)){p=p.substring(0,p.length-1);var m=!0}if(m&&(l("dom-compliant-qsa")||k))return e(k);f([p],function(a){"./lite"!=p&&(k=a);e(a)})}}}})},"dojo/selector/lite":function(){define(["../has","../_base/kernel"],function(l,a){var k=document.createElement("div"),p=k.matches||k.webkitMatchesSelector||
  k.mozMatchesSelector||k.msMatchesSelector||k.oMatchesSelector,h=k.querySelectorAll,e=/([^\s,](?:"(?:\\.|[^"])+"|'(?:\\.|[^'])+'|[^,])*)/g,f=function(c,b){var g=b?b.ownerDocument||b:a.doc||document,e=(h?/^([\w]*)#([\w\-]+$)|^(\.)([\w\-\*]+$)|^(\w+$)/:/^([\w]*)#([\w\-]+)(?:\s+(.*))?$|(?:^|(>|.+\s+))([\w\-\*]+)(\S*$)/).exec(c);b=b||g;if(e){var d=(l("ie"),null!==b.parentNode&&9!==b.nodeType&&b.parentNode===g);if(e[2]&&d){var k=a.byId?a.byId(e[2],g):g.getElementById(e[2]);if(!k||e[1]&&e[1]!=k.tagName.toLowerCase())return[];
  if(b!=g)for(c=k;c!=b;)if(c=c.parentNode,!c)return[];return e[3]?f(e[3],k):[k]}if(e[3]&&b.getElementsByClassName)return b.getElementsByClassName(e[4]);if(e[5])if(k=b.getElementsByTagName(e[5]),e[4]||e[6])c=(e[4]||"")+e[6];else return k}if(h)return 1===b.nodeType&&"object"!==b.nodeName.toLowerCase()?m(b,c,b.querySelectorAll):b.querySelectorAll(c);k||(k=b.getElementsByTagName("*"));e=[];g=0;for(d=k.length;g<d;g++){var p=k[g];1==p.nodeType&&(void 0)(p,c,b)&&e.push(p)}return e},m=function(a,b,g){var c=
  a,d=a.getAttribute("id"),f=d||"__dojo__",m=a.parentNode,h=/^\s*[+~]/.test(b);if(h&&!m)return[];d?f=f.replace(/'/g,"\\$\x26"):a.setAttribute("id",f);h&&m&&(a=a.parentNode);b=b.match(e);for(m=0;m<b.length;m++)b[m]="[id\x3d'"+f+"'] "+b[m];b=b.join(",");try{return g.call(a,b)}finally{d||c.removeAttribute("id")}};f.match=p?function(a,b,g){return g&&9!=g.nodeType?m(g,b,function(b){return p.call(a,b)}):p.call(a,b)}:void 0;return f})},"dojo/NodeList-dom":function(){define("./_base/kernel ./query ./_base/array ./_base/lang ./dom-class ./dom-construct ./dom-geometry ./dom-attr ./dom-style".split(" "),
  function(l,a,k,p,h,e,f,m,c){function b(b){return function(a,d,c){return 2==arguments.length?b["string"==typeof d?"get":"set"](a,d):b.set(a,d,c)}}var g=function(b){return 1==b.length&&"string"==typeof b[0]},t=function(b){var a=b.parentNode;a&&a.removeChild(b)},d=a.NodeList,v=d._adaptWithCondition,A=d._adaptAsForEach,w=d._adaptAsMap;p.extend(d,{_normalize:function(b,a){var d=!0===b.parse;if("string"==typeof b.template){var c=b.templateFunc||l.string&&l.string.substitute;b=c?c(b.template,b):b}c=typeof b;
  "string"==c||"number"==c?(b=e.toDom(b,a&&a.ownerDocument),b=11==b.nodeType?p._toArray(b.childNodes):[b]):p.isArrayLike(b)?p.isArray(b)||(b=p._toArray(b)):b=[b];d&&(b._runParse=!0);return b},_cloneNode:function(b){return b.cloneNode(!0)},_place:function(b,a,d,c){if(1==a.nodeType||"only"!=d)for(var g,f=b.length,m=f-1;0<=m;m--){var n=c?this._cloneNode(b[m]):b[m];if(b._runParse&&l.parser&&l.parser.parse)for(g||(g=a.ownerDocument.createElement("div")),g.appendChild(n),l.parser.parse(g),n=g.firstChild;g.firstChild;)g.removeChild(g.firstChild);
  m==f-1?e.place(n,a,d):a.parentNode.insertBefore(n,a);a=n}},position:w(f.position),attr:v(b(m),g),style:v(b(c),g),addClass:A(h.add),removeClass:A(h.remove),toggleClass:A(h.toggle),replaceClass:A(h.replace),empty:A(e.empty),removeAttr:A(m.remove),marginBox:w(f.getMarginBox),place:function(b,d){var c=a(b)[0];return this.forEach(function(b){e.place(b,c,d)})},orphan:function(b){return(b?a._filterResult(this,b):this).forEach(t)},adopt:function(b,d){return a(b).place(this[0],d)._stash(this)},query:function(b){if(!b)return this;
  var c=new d;this.map(function(d){a(b,d).forEach(function(b){void 0!==b&&c.push(b)})});return c._stash(this)},filter:function(b){var d=arguments,c=this,g=0;if("string"==typeof b){c=a._filterResult(this,d[0]);if(1==d.length)return c._stash(this);g=1}return this._wrap(k.filter(c,d[g],d[g+1]),this)},addContent:function(b,a){b=this._normalize(b,this[0]);for(var d=0,c;c=this[d];d++)b.length?this._place(b,c,a,0<d):e.empty(c);return this}});return d})},"dojo/_base/xhr":function(){define("./kernel ./sniff require ../io-query ../dom ../dom-form ./Deferred ./config ./json ./lang ./array ../on ../aspect ../request/watch ../request/xhr ../request/util".split(" "),
  function(l,a,k,p,h,e,f,m,c,b,g,t,d,v,A,w){l._xhrObj=A._create;var y=l.config;l.objectToQuery=p.objectToQuery;l.queryToObject=p.queryToObject;l.fieldToObject=e.fieldToObject;l.formToObject=e.toObject;l.formToQuery=e.toQuery;l.formToJson=e.toJson;l._blockAsync=!1;var B=l._contentHandlers=l.contentHandlers={text:function(b){return b.responseText},json:function(b){return c.fromJson(b.responseText||null)},"json-comment-filtered":function(b){m.useCommentedJson||console.warn("Consider using the standard mimetype:application/json. json-commenting can introduce security issues. To decrease the chances of hijacking, use the standard the 'json' handler and prefix your json with: {}\x26\x26\nUse djConfig.useCommentedJson\x3dtrue to turn off this message.");
  b=b.responseText;var a=b.indexOf("/*"),d=b.lastIndexOf("*/");if(-1==a||-1==d)throw Error("JSON was not comment filtered");return c.fromJson(b.substring(a+2,d))},javascript:function(b){return l.eval(b.responseText)},xml:function(b){var d=b.responseXML;d&&!d.querySelectorAll&&(d=(new DOMParser).parseFromString(b.responseText,"application/xml"));if(a("ie")&&(!d||!d.documentElement)){var c=function(b){return"MSXML"+b+".DOMDocument"},c=["Microsoft.XMLDOM",c(6),c(4),c(3),c(2)];g.some(c,function(a){try{var c=
  new ActiveXObject(a);c.async=!1;c.loadXML(b.responseText);d=c}catch(G){return!1}return!0})}return d},"json-comment-optional":function(b){return b.responseText&&/^[^{\[]*\/\*/.test(b.responseText)?B["json-comment-filtered"](b):B.json(b)}};B.arraybuffer=B.blob=B.document=function(b,a){return b.response};l._ioSetArgs=function(a,d,c,g){var u={args:a,url:a.url},m=null;if(a.form){var m=h.byId(a.form),n=m.getAttributeNode("action");u.url=u.url||(n?n.value:l.doc?l.doc.URL:null);m=e.toObject(m)}n={};m&&b.mixin(n,
  m);a.content&&b.mixin(n,a.content);a.preventCache&&(n["dojo.preventCache"]=(new Date).valueOf());u.query=p.objectToQuery(n);u.handleAs=a.handleAs||"text";var k=new f(function(b){b.canceled=!0;d&&d(b);var a=b.ioArgs.error;a||(a=Error("request cancelled"),a.dojoType="cancel",b.ioArgs.error=a);return a});k.addCallback(c);var t=a.load;t&&b.isFunction(t)&&k.addCallback(function(b){return t.call(a,b,u)});var v=a.error;v&&b.isFunction(v)&&k.addErrback(function(b){return v.call(a,b,u)});var A=a.handle;A&&
  b.isFunction(A)&&k.addBoth(function(b){return A.call(a,b,u)});k.addErrback(function(b){return g(b,k)});y.ioPublish&&l.publish&&!1!==u.args.ioPublish&&(k.addCallbacks(function(b){l.publish("/dojo/io/load",[k,b]);return b},function(b){l.publish("/dojo/io/error",[k,b]);return b}),k.addBoth(function(b){l.publish("/dojo/io/done",[k,b]);return b}));k.ioArgs=u;return k};var C=function(b){b=B[b.ioArgs.handleAs](b.ioArgs.xhr,b.ioArgs);return void 0===b?null:b},n=function(b,a){a.ioArgs.args.failOk||console.error(b);
  return b},D=function(b){0>=u&&(u=0,y.ioPublish&&l.publish&&(!b||b&&!1!==b.ioArgs.args.ioPublish)&&l.publish("/dojo/io/stop"))},u=0;d.after(v,"_onAction",function(){--u});d.after(v,"_onInFlight",D);l._ioCancelAll=v.cancelAll;l._ioNotifyStart=function(b){y.ioPublish&&l.publish&&!1!==b.ioArgs.args.ioPublish&&(u||l.publish("/dojo/io/start"),u+=1,l.publish("/dojo/io/send",[b]))};l._ioWatch=function(a,d,c,g){a.ioArgs.options=a.ioArgs.args;b.mixin(a,{response:a.ioArgs,isValid:function(b){return d(a)},isReady:function(b){return c(a)},
  handleResponse:function(b){return g(a)}});v(a);D(a)};l._ioAddQueryToUrl=function(b){b.query.length&&(b.url+=(-1==b.url.indexOf("?")?"?":"\x26")+b.query,b.query=null)};l.xhr=function(b,a,d){var c,g=l._ioSetArgs(a,function(b){c&&c.cancel()},C,n),f=g.ioArgs;"postData"in a?f.query=a.postData:"putData"in a?f.query=a.putData:"rawBody"in a?f.query=a.rawBody:(2<arguments.length&&!d||-1==="POST|PUT".indexOf(b.toUpperCase()))&&l._ioAddQueryToUrl(f);var u={method:b,handleAs:{arraybuffer:1,blob:1,document:1}[a.handleAs]?
  a.handleAs:"text",responseType:a.responseType,timeout:a.timeout,withCredentials:a.withCredentials,ioArgs:f};"undefined"!==typeof a.headers&&(u.headers=a.headers);"undefined"!==typeof a.contentType&&(u.headers||(u.headers={}),u.headers["Content-Type"]=a.contentType);"undefined"!==typeof f.query&&(u.data=f.query);"undefined"!==typeof a.sync&&(u.sync=a.sync);l._ioNotifyStart(g);try{c=A(f.url,u,!0)}catch(S){return g.cancel(),g}g.ioArgs.xhr=c.response.xhr;c.then(function(){g.resolve(g)}).otherwise(function(b){f.error=
  b;b.response&&(b.status=b.response.status,b.responseText=b.response.text,b.xhr=b.response.xhr);g.reject(b)});return g};l.xhrGet=function(b){return l.xhr("GET",b)};l.rawXhrPost=l.xhrPost=function(b){return l.xhr("POST",b,!0)};l.rawXhrPut=l.xhrPut=function(b){return l.xhr("PUT",b,!0)};l.xhrDelete=function(b){return l.xhr("DELETE",b)};l._isDocumentOk=function(b){return w.checkStatus(b.status)};l._getText=function(b){var a;l.xhrGet({url:b,sync:!0,load:function(b){a=b}});return a};b.mixin(l.xhr,{_xhrObj:l._xhrObj,
  fieldToObject:e.fieldToObject,formToObject:e.toObject,objectToQuery:p.objectToQuery,formToQuery:e.toQuery,formToJson:e.toJson,queryToObject:p.queryToObject,contentHandlers:B,_ioSetArgs:l._ioSetArgs,_ioCancelAll:l._ioCancelAll,_ioNotifyStart:l._ioNotifyStart,_ioWatch:l._ioWatch,_ioAddQueryToUrl:l._ioAddQueryToUrl,_isDocumentOk:l._isDocumentOk,_getText:l._getText,get:l.xhrGet,post:l.xhrPost,put:l.xhrPut,del:l.xhrDelete});return l.xhr})},"dojo/io-query":function(){define(["./_base/lang"],function(l){var a=
  {};return{objectToQuery:function(k){var p=encodeURIComponent,h=[],e;for(e in k){var f=k[e];if(f!=a[e]){var m=p(e)+"\x3d";if(l.isArray(f))for(var c=0,b=f.length;c<b;++c)h.push(m+p(f[c]));else h.push(m+p(f))}}return h.join("\x26")},queryToObject:function(a){var k=decodeURIComponent;a=a.split("\x26");for(var h={},e,f,m=0,c=a.length;m<c;++m)if(f=a[m],f.length){var b=f.indexOf("\x3d");0>b?(e=k(f),f=""):(e=k(f.slice(0,b)),f=k(f.slice(b+1)));"string"==typeof h[e]&&(h[e]=[h[e]]);l.isArray(h[e])?h[e].push(f):
  h[e]=f}return h}}})},"dojo/dom-form":function(){define(["./_base/lang","./dom","./io-query","./json"],function(l,a,k,p){var h={fieldToObject:function(e){var f=null;if(e=a.byId(e)){var m=e.name,c=(e.type||"").toLowerCase();if(m&&c&&!e.disabled)if("radio"==c||"checkbox"==c)e.checked&&(f=e.value);else if(e.multiple)for(f=[],e=[e.firstChild];e.length;)for(m=e.pop();m;m=m.nextSibling)if(1==m.nodeType&&"option"==m.tagName.toLowerCase())m.selected&&f.push(m.value);else{m.nextSibling&&e.push(m.nextSibling);
  m.firstChild&&e.push(m.firstChild);break}else f=e.value}return f},toObject:function(e){var f={};e=a.byId(e).elements;for(var m=0,c=e.length;m<c;++m){var b=e[m],g=b.name,k=(b.type||"").toLowerCase();if(g&&k&&0>"file|submit|image|reset|button".indexOf(k)&&!b.disabled){var d=f,p=g,b=h.fieldToObject(b);if(null!==b){var A=d[p];"string"==typeof A?d[p]=[A,b]:l.isArray(A)?A.push(b):d[p]=b}"image"==k&&(f[g+".x"]=f[g+".y"]=f[g].x=f[g].y=0)}}return f},toQuery:function(a){return k.objectToQuery(h.toObject(a))},
  toJson:function(a,f){return p.stringify(h.toObject(a),null,f?4:0)}};return h})},"dojo/json":function(){define(["./has"],function(l){return JSON})},"dojo/_base/Deferred":function(){define("./kernel ../Deferred ../promise/Promise ../errors/CancelError ../has ./lang ../when".split(" "),function(l,a,k,p,h,e,f){var m=function(){},c=Object.freeze||function(){},b=l.Deferred=function(g){function f(b){if(l)throw Error("This deferred has already been resolved");v=b;l=!0;d()}function d(){for(var b;!b&&n;){var d=
  n;n=n.next;if(b=d.progress==m)l=!1;var c=B?d.error:d.resolved;h("config-useDeferredInstrumentation")&&B&&a.instrumentRejected&&a.instrumentRejected(v,!!c);if(c)try{var g=c(v);g&&"function"===typeof g.then?g.then(e.hitch(d.deferred,"resolve"),e.hitch(d.deferred,"reject"),e.hitch(d.deferred,"progress")):(c=b&&void 0===g,b&&!c&&(B=g instanceof Error),d.deferred[c&&B?"reject":"resolve"](c?v:g))}catch(L){d.deferred.reject(L)}else B?d.deferred.reject(v):d.deferred.resolve(v)}}var v,l,w,y,B,C,n,D=this.promise=
  new k;this.isResolved=D.isResolved=function(){return 0==y};this.isRejected=D.isRejected=function(){return 1==y};this.isFulfilled=D.isFulfilled=function(){return 0<=y};this.isCanceled=D.isCanceled=function(){return w};this.resolve=this.callback=function(b){this.fired=y=0;this.results=[b,null];f(b)};this.reject=this.errback=function(b){B=!0;this.fired=y=1;h("config-useDeferredInstrumentation")&&a.instrumentRejected&&a.instrumentRejected(b,!!n);f(b);this.results=[null,b]};this.progress=function(b){for(var a=
  n;a;){var d=a.progress;d&&d(b);a=a.next}};this.addCallbacks=function(b,a){this.then(b,a,m);return this};D.then=this.then=function(a,c,g){var f=g==m?this:new b(D.cancel);a={resolved:a,error:c,progress:g,deferred:f};n?C=C.next=a:n=C=a;l&&d();return f.promise};var u=this;D.cancel=this.cancel=function(){if(!l){var b=g&&g(u);l||(b instanceof Error||(b=new p(b)),b.log=!1,u.reject(b))}w=!0};c(D)};e.extend(b,{addCallback:function(b){return this.addCallbacks(e.hitch.apply(l,arguments))},addErrback:function(b){return this.addCallbacks(null,
  e.hitch.apply(l,arguments))},addBoth:function(b){var a=e.hitch.apply(l,arguments);return this.addCallbacks(a,a)},fired:-1});b.when=l.when=f;return b})},"dojo/Deferred":function(){define(["./has","./_base/lang","./errors/CancelError","./promise/Promise","./has!config-deferredInstrumentation?./promise/instrumentation"],function(l,a,k,p,h){var e=Object.freeze||function(){},f=function(b,a,c,f,e){l("config-deferredInstrumentation")&&2===a&&g.instrumentRejected&&0===b.length&&g.instrumentRejected(c,!1,
  f,e);for(e=0;e<b.length;e++)m(b[e],a,c,f)},m=function(a,d,f,e){var m=a[d],k=a.deferred;if(m)try{var h=m(f);if(0===d)"undefined"!==typeof h&&b(k,d,h);else{if(h&&"function"===typeof h.then){a.cancel=h.cancel;h.then(c(k,1),c(k,2),c(k,0));return}b(k,1,h)}}catch(C){b(k,2,C)}else b(k,d,f);l("config-deferredInstrumentation")&&2===d&&g.instrumentRejected&&g.instrumentRejected(f,!!m,e,k.promise)},c=function(a,d){return function(c){b(a,d,c)}},b=function(b,a,c){if(!b.isCanceled())switch(a){case 0:b.progress(c);
  break;case 1:b.resolve(c);break;case 2:b.reject(c)}},g=function(b){var a=this.promise=new p,c=this,h,t,y,B=!1,C=[];l("config-deferredInstrumentation")&&Error.captureStackTrace&&(Error.captureStackTrace(c,g),Error.captureStackTrace(a,g));this.isResolved=a.isResolved=function(){return 1===h};this.isRejected=a.isRejected=function(){return 2===h};this.isFulfilled=a.isFulfilled=function(){return!!h};this.isCanceled=a.isCanceled=function(){return B};this.progress=function(b,d){if(h){if(!0===d)throw Error("This deferred has already been fulfilled.");
  return a}f(C,0,b,null,c);return a};this.resolve=function(b,d){if(h){if(!0===d)throw Error("This deferred has already been fulfilled.");return a}f(C,h=1,t=b,null,c);C=null;return a};var n=this.reject=function(b,d){if(h){if(!0===d)throw Error("This deferred has already been fulfilled.");return a}l("config-deferredInstrumentation")&&Error.captureStackTrace&&Error.captureStackTrace(y={},n);f(C,h=2,t=b,y,c);C=null;return a};this.then=a.then=function(b,d,c){var f=[c,b,d];f.cancel=a.cancel;f.deferred=new g(function(b){return f.cancel&&
  f.cancel(b)});h&&!C?m(f,h,t,y):C.push(f);return f.deferred.promise};this.cancel=a.cancel=function(a,d){if(!h){b&&(d=b(a),a="undefined"===typeof d?a:d);B=!0;if(!h)return"undefined"===typeof a&&(a=new k),n(a),a;if(2===h&&t===a)return a}else if(!0===d)throw Error("This deferred has already been fulfilled.");};e(a)};g.prototype.toString=function(){return"[object Deferred]"};h&&h(g);return g})},"dojo/errors/CancelError":function(){define(["./create"],function(l){return l("CancelError",null,null,{dojoType:"cancel",
  log:!1})})},"dojo/errors/create":function(){define(["../_base/lang"],function(l){return function(a,k,p,h){p=p||Error;var e=function(a){if(p===Error){Error.captureStackTrace&&Error.captureStackTrace(this,e);var f=Error.call(this,a),c;for(c in f)f.hasOwnProperty(c)&&(this[c]=f[c]);this.message=a;this.stack=f.stack}else p.apply(this,arguments);k&&k.apply(this,arguments)};e.prototype=l.delegate(p.prototype,h);e.prototype.name=a;return e.prototype.constructor=e}})},"dojo/promise/Promise":function(){define(["../_base/lang"],
  function(l){function a(){throw new TypeError("abstract");}return l.extend(function(){},{then:function(k,p,h){a()},cancel:function(k,p){a()},isResolved:function(){a()},isRejected:function(){a()},isFulfilled:function(){a()},isCanceled:function(){a()},always:function(a){return this.then(a,a)},"catch":function(a){return this.then(null,a)},otherwise:function(a){return this.then(null,a)},trace:function(){return this},traceRejected:function(){return this},toString:function(){return"[object Promise]"}})})},
  "dojo/when":function(){define(["./Deferred","./promise/Promise"],function(l,a){return function(k,p,h,e){var f=k&&"function"===typeof k.then,m=f&&k instanceof a;if(!f)return 1<arguments.length?p?p(k):k:(new l).resolve(k);m||(f=new l(k.cancel),k.then(f.resolve,f.reject,f.progress),k=f.promise);return p||h||e?k.then(p,h,e):k}})},"dojo/_base/json":function(){define(["./kernel","../json"],function(l,a){l.fromJson=function(a){return eval("("+a+")")};l._escapeString=a.stringify;l.toJsonIndentStr="\t";l.toJson=
  function(k,p){return a.stringify(k,function(a,e){return e&&(a=e.__json__||e.json,"function"==typeof a)?a.call(e):e},p&&l.toJsonIndentStr)};return l})},"dojo/request/watch":function(){define("./util ../errors/RequestTimeoutError ../errors/CancelError ../_base/array ../has!host-browser?../_base/window: ../has!host-browser?dom-addeventlistener?:../on:".split(" "),function(l,a,k,p,h,e){function f(){for(var g=+new Date,f=0,d;f<b.length&&(d=b[f]);f++){var e=d.response,h=e.options;d.isCanceled&&d.isCanceled()||
  d.isValid&&!d.isValid(e)?(b.splice(f--,1),m._onAction&&m._onAction()):d.isReady&&d.isReady(e)?(b.splice(f--,1),d.handleResponse(e),m._onAction&&m._onAction()):d.startTime&&d.startTime+(h.timeout||0)<g&&(b.splice(f--,1),d.cancel(new a("Timeout exceeded",e)),m._onAction&&m._onAction())}m._onInFlight&&m._onInFlight(d);b.length||(clearInterval(c),c=null)}function m(a){a.response.options.timeout&&(a.startTime=+new Date);a.isFulfilled()||(b.push(a),c||(c=setInterval(f,50)),a.response.options.sync&&f())}
  var c=null,b=[];m.cancelAll=function(){try{p.forEach(b,function(b){try{b.cancel(new k("All requests canceled."))}catch(t){}})}catch(g){}};h&&e&&h.doc.attachEvent&&e(h.global,"unload",function(){m.cancelAll()});return m})},"dojo/request/util":function(){define("exports ../errors/RequestError ../errors/CancelError ../Deferred ../io-query ../_base/array ../_base/lang ../promise/Promise ../has".split(" "),function(l,a,k,p,h,e,f,m,c){function b(b){return t(b)}function g(b){return void 0!==b.data?b.data:
  b.text}l.deepCopy=function(b,a){for(var d in a){var c=b[d],g=a[d];c!==g&&(c&&"object"===typeof c&&g&&"object"===typeof g?g instanceof Date?b[d]=new Date(g):l.deepCopy(c,g):b[d]=g)}return b};l.deepCreate=function(b,a){a=a||{};var d=f.delegate(b),c,g;for(c in b)(g=b[c])&&"object"===typeof g&&(d[c]=l.deepCreate(g,a[c]));return l.deepCopy(d,a)};var t=Object.freeze||function(b){return b};l.deferred=function(d,c,e,h,y,B){var v=new p(function(b){c&&c(v,d);return b&&(b instanceof a||b instanceof k)?b:new k("Request canceled",
  d)});v.response=d;v.isValid=e;v.isReady=h;v.handleResponse=y;e=v.then(b).otherwise(function(b){b.response=d;throw b;});l.notify&&e.then(f.hitch(l.notify,"emit","load"),f.hitch(l.notify,"emit","error"));h=e.then(g);y=new m;for(var n in h)h.hasOwnProperty(n)&&(y[n]=h[n]);y.response=e;t(y);B&&v.then(function(b){B.call(v,b)},function(b){B.call(v,d,b)});v.promise=y;v.then=y.then;return v};l.addCommonMethods=function(b,a){e.forEach(a||["GET","POST","PUT","DELETE"],function(a){b[("DELETE"===a?"DEL":a).toLowerCase()]=
  function(d,c){c=f.delegate(c||{});c.method=a;return b(d,c)}})};l.parseArgs=function(b,a,c){var d=a.data,g=a.query;!d||c||"object"!==typeof d||d instanceof ArrayBuffer||d instanceof Blob||(a.data=h.objectToQuery(d));g?("object"===typeof g&&(g=h.objectToQuery(g)),a.preventCache&&(g+=(g?"\x26":"")+"request.preventCache\x3d"+ +new Date)):a.preventCache&&(g="request.preventCache\x3d"+ +new Date);b&&g&&(b+=(~b.indexOf("?")?"\x26":"?")+g);return{url:b,options:a,getHeader:function(b){return null}}};l.checkStatus=
  function(b){b=b||0;return 200<=b&&300>b||304===b||1223===b||!b}})},"dojo/errors/RequestError":function(){define(["./create"],function(l){return l("RequestError",function(a,k){this.response=k})})},"dojo/errors/RequestTimeoutError":function(){define(["./create","./RequestError"],function(l,a){return l("RequestTimeoutError",null,a,{dojoType:"timeout"})})},"dojo/request/xhr":function(){define(["../errors/RequestError","./watch","./handlers","./util","../has"],function(l,a,k,p,h){function e(b,a){var d=
  b.xhr;b.status=b.xhr.status;try{b.text=d.responseText}catch(n){}"xml"===b.options.handleAs&&(b.data=d.responseXML);var c;if(a)this.reject(a);else{try{k(b)}catch(n){c=n}p.checkStatus(d.status)?c?this.reject(c):this.resolve(b):(a=c?new l("Unable to load "+b.url+" status: "+d.status+" and an error in handleAs: transformation of response",b):new l("Unable to load "+b.url+" status: "+d.status,b),this.reject(a))}}function f(b){return this.xhr.getResponseHeader(b)}function m(k,y,B){var w=y&&y.data&&y.data instanceof
  FormData,n=p.parseArgs(k,p.deepCreate(A,y),w);k=n.url;y=n.options;var D=!y.data&&"POST"!==y.method&&"PUT"!==y.method;10>=h("ie")&&(k=k.split("#")[0]);var u,z=p.deferred(n,d,b,g,e,function(){u&&u()}),F=n.xhr=m._create();if(!F)return z.cancel(new l("XHR was not created")),B?z:z.promise;n.getHeader=f;t&&(u=t(F,z,n,y.uploadProgress));var I="undefined"===typeof y.data?null:y.data,J=!y.sync,L=y.method;try{F.open(L,k,J,y.user||v,y.password||v);y.withCredentials&&(F.withCredentials=y.withCredentials);y.handleAs in
  c&&(F.responseType=c[y.handleAs]);var G=y.headers;k=w||D?!1:"application/x-www-form-urlencoded";if(G)for(var H in G)"content-type"===H.toLowerCase()?k=G[H]:G[H]&&F.setRequestHeader(H,G[H]);k&&!1!==k&&F.setRequestHeader("Content-Type",k);G&&"X-Requested-With"in G||F.setRequestHeader("X-Requested-With","XMLHttpRequest");p.notify&&p.notify.emit("send",n,z.promise.cancel);F.send(I)}catch(S){z.reject(S)}a(z);F=null;return B?z:z.promise}h.add("dojo-force-activex-xhr",function(){return 0});var c={blob:"blob",
  document:"document",arraybuffer:"arraybuffer"},b,g,t,d;b=function(b){return!this.isFulfilled()};d=function(b,a){a.xhr.abort()};t=function(b,a,d,c){function g(b){a.handleResponse(d)}function f(b){b=new l("Unable to load "+d.url+" status: "+b.target.status,d);a.handleResponse(d,b)}function u(b,c){d.transferType=b;c.lengthComputable?(d.loaded=c.loaded,d.total=c.total,a.progress(d)):3===d.xhr.readyState&&(d.loaded="loaded"in c?c.loaded:c.position,a.progress(d))}function e(b){return u("download",b)}function m(b){return u("upload",
  b)}b.addEventListener("load",g,!1);b.addEventListener("error",f,!1);b.addEventListener("progress",e,!1);c&&b.upload&&b.upload.addEventListener("progress",m,!1);return function(){b.removeEventListener("load",g,!1);b.removeEventListener("error",f,!1);b.removeEventListener("progress",e,!1);b.upload.removeEventListener("progress",m,!1);b=null}};var v,A={data:null,query:null,sync:!1,method:"GET"};m._create=function(){throw Error("XMLHTTP not available");};h("dojo-force-activex-xhr")||(m._create=function(){return new XMLHttpRequest});
  p.addCommonMethods(m);return m})},"dojo/request/handlers":function(){define(["../json","../_base/kernel","../_base/array","../has","../has!dom?../selector/_loader"],function(l,a,k,p){function h(a){var f=e[a.options.handleAs];a.data=f?f(a):a.data||a.text;return a}k=function(a){return a.xhr.response};var e={javascript:function(f){return a.eval(f.text||"")},json:function(a){return l.parse(a.text||null)},xml:void 0,blob:k,arraybuffer:k,document:k};h.register=function(a,m){e[a]=m};return h})},"dojo/_base/fx":function(){define("./kernel ./config ./lang ../Evented ./Color ../aspect ../sniff ../dom ../dom-style".split(" "),
  function(l,a,k,p,h,e,f,m,c){var b=k.mixin,g={},t=g._Line=function(b,a){this.start=b;this.end=a};t.prototype.getValue=function(b){return(this.end-this.start)*b+this.start};var d=g.Animation=function(a){b(this,a);k.isArray(this.curve)&&(this.curve=new t(this.curve[0],this.curve[1]))};d.prototype=new p;k.extend(d,{duration:350,repeat:0,rate:20,_percent:0,_startRepeatCount:0,_getStep:function(){var b=this._percent,a=this.easing;return a?a(b):b},_fire:function(b,d){d=d||[];if(this[b])if(a.debugAtAllCosts)this[b].apply(this,
  d);else try{this[b].apply(this,d)}catch(D){console.error("exception in animation handler for:",b),console.error(D)}return this},play:function(b,a){this._delayTimer&&this._clearTimer();if(a)this._stopTimer(),this._active=this._paused=!1,this._percent=0;else if(this._active&&!this._paused)return this;this._fire("beforeBegin",[this.node]);b=b||this.delay;a=k.hitch(this,"_play",a);if(0<b)return this._delayTimer=setTimeout(a,b),this;a();return this},_play:function(b){this._delayTimer&&this._clearTimer();
  this._startTime=(new Date).valueOf();this._paused&&(this._startTime-=this.duration*this._percent);this._active=!0;this._paused=!1;b=this.curve.getValue(this._getStep());this._percent||(this._startRepeatCount||(this._startRepeatCount=this.repeat),this._fire("onBegin",[b]));this._fire("onPlay",[b]);this._cycle();return this},pause:function(){this._delayTimer&&this._clearTimer();this._stopTimer();if(!this._active)return this;this._paused=!0;this._fire("onPause",[this.curve.getValue(this._getStep())]);
  return this},gotoPercent:function(b,a){this._stopTimer();this._active=this._paused=!0;this._percent=b;a&&this.play();return this},stop:function(b){this._delayTimer&&this._clearTimer();if(!this._timer)return this;this._stopTimer();b&&(this._percent=1);this._fire("onStop",[this.curve.getValue(this._getStep())]);this._active=this._paused=!1;return this},destroy:function(){this.stop()},status:function(){return this._active?this._paused?"paused":"playing":"stopped"},_cycle:function(){if(this._active){var b=
  (new Date).valueOf(),b=0===this.duration?1:(b-this._startTime)/this.duration;1<=b&&(b=1);this._percent=b;this.easing&&(b=this.easing(b));this._fire("onAnimate",[this.curve.getValue(b)]);1>this._percent?this._startTimer():(this._active=!1,0<this.repeat?(this.repeat--,this.play(null,!0)):-1==this.repeat?this.play(null,!0):this._startRepeatCount&&(this.repeat=this._startRepeatCount,this._startRepeatCount=0),this._percent=0,this._fire("onEnd",[this.node]),!this.repeat&&this._stopTimer())}return this},
  _clearTimer:function(){clearTimeout(this._delayTimer);delete this._delayTimer}});var v=0,A=null,w={run:function(){}};k.extend(d,{_startTimer:function(){this._timer||(this._timer=e.after(w,"run",k.hitch(this,"_cycle"),!0),v++);A||(A=setInterval(k.hitch(w,"run"),this.rate))},_stopTimer:function(){this._timer&&(this._timer.remove(),this._timer=null,v--);0>=v&&(clearInterval(A),A=null,v=0)}});var y=f("ie")?function(b){var a=b.style;a.width.length||"auto"!=c.get(b,"width")||(a.width="auto")}:function(){};
  g._fade=function(a){a.node=m.byId(a.node);var d=b({properties:{}},a);a=d.properties.opacity={};a.start="start"in d?d.start:function(){return+c.get(d.node,"opacity")||0};a.end=d.end;a=g.animateProperty(d);e.after(a,"beforeBegin",k.partial(y,d.node),!0);return a};g.fadeIn=function(a){return g._fade(b({end:1},a))};g.fadeOut=function(a){return g._fade(b({end:0},a))};g._defaultEasing=function(b){return.5+Math.sin((b+1.5)*Math.PI)/2};var B=function(b){this._properties=b;for(var a in b){var d=b[a];d.start instanceof
  h&&(d.tempColor=new h)}};B.prototype.getValue=function(b){var a={},d;for(d in this._properties){var c=this._properties[d],g=c.start;g instanceof h?a[d]=h.blendColors(g,c.end,b,c.tempColor).toCss():k.isArray(g)||(a[d]=(c.end-g)*b+g+("opacity"!=d?c.units||"px":0))}return a};g.animateProperty=function(a){var g=a.node=m.byId(a.node);a.easing||(a.easing=l._defaultEasing);a=new d(a);e.after(a,"beforeBegin",k.hitch(a,function(){var a={},d;for(d in this.properties){var f=function(b,a){var d={height:b.offsetHeight,
  width:b.offsetWidth}[a];if(void 0!==d)return d;d=c.get(b,a);return"opacity"==a?+d:m?d:parseFloat(d)};if("width"==d||"height"==d)this.node.display="block";var e=this.properties[d];k.isFunction(e)&&(e=e(g));e=a[d]=b({},k.isObject(e)?e:{end:e});k.isFunction(e.start)&&(e.start=e.start(g));k.isFunction(e.end)&&(e.end=e.end(g));var m=0<=d.toLowerCase().indexOf("color");"end"in e?"start"in e||(e.start=f(g,d)):e.end=f(g,d);m?(e.start=new h(e.start),e.end=new h(e.end)):e.start="opacity"==d?+e.start:parseFloat(e.start)}this.curve=
  new B(a)}),!0);e.after(a,"onAnimate",k.hitch(c,"set",a.node),!0);return a};g.anim=function(b,a,c,f,e,m){return g.animateProperty({node:b,duration:c||d.prototype.duration,properties:a,easing:f,onEnd:e}).play(m||0)};b(l,g);l._Animation=d;return g})},"dojo/_base/Color":function(){define(["./kernel","./lang","./array","./config"],function(l,a,k,p){var h=l.Color=function(a){a&&this.setColor(a)};h.named={black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,
  0,0],purple:[128,0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],transparent:p.transparentColor||[0,0,0,0]};a.extend(h,{r:255,g:255,b:255,a:1,_set:function(a,f,m,c){this.r=a;this.g=f;this.b=m;this.a=c},setColor:function(e){a.isString(e)?h.fromString(e,this):a.isArray(e)?h.fromArray(e,this):(this._set(e.r,e.g,e.b,e.a),e instanceof h||this.sanitize());return this},sanitize:function(){return this},
  toRgb:function(){return[this.r,this.g,this.b]},toRgba:function(){return[this.r,this.g,this.b,this.a]},toHex:function(){return"#"+k.map(["r","g","b"],function(a){a=this[a].toString(16);return 2>a.length?"0"+a:a},this).join("")},toCss:function(a){var f=this.r+", "+this.g+", "+this.b;return(a?"rgba("+f+", "+this.a:"rgb("+f)+")"},toString:function(){return this.toCss(!0)}});h.blendColors=l.blendColors=function(a,f,m,c){c=c||new h;c.r=Math.round(a.r+(f.r-a.r)*m);c.g=Math.round(a.g+(f.g-a.g)*m);c.b=Math.round(a.b+
  (f.b-a.b)*m);c.a=a.a+(f.a-a.a)*m;return c.sanitize()};h.fromRgb=l.colorFromRgb=function(a,f){return(a=a.toLowerCase().match(/^rgba?\(([\s\.,0-9]+)\)/))&&h.fromArray(a[1].split(/\s*,\s*/),f)};h.fromHex=l.colorFromHex=function(a,f){var e=f||new h,c=4==a.length?4:8,b=(1<<c)-1;a=Number("0x"+a.substr(1));if(isNaN(a))return null;k.forEach(["b","g","r"],function(g){var f=a&b;a>>=c;e[g]=4==c?17*f:f});e.a=1;return e};h.fromArray=l.colorFromArray=function(a,f){f=f||new h;f._set(Number(a[0]),Number(a[1]),Number(a[2]),
  Number(a[3]));isNaN(f.a)&&(f.a=1);return f.sanitize()};h.fromString=l.colorFromString=function(a,f){var e=h.named[a];return e&&h.fromArray(e,f)||h.fromRgb(a,f)||h.fromHex(a,f)};return h})},"esri/config":function(){define(["require","exports","./core/global"],function(l,a,k){l={applicationUrl:k.location&&k.location.href,screenDPI:96,fontsUrl:"https://static.arcgis.com/fonts",geometryService:null,geometryServiceUrl:"https://utility.arcgisonline.com/arcgis/rest/services/Geometry/GeometryServer",geoRSSServiceUrl:"https://utility.arcgis.com/sharing/rss",
  kmlServiceUrl:"https://utility.arcgis.com/sharing/kml",portalUrl:"https://www.arcgis.com",workers:{loaderConfig:{has:{},paths:{},map:{},packages:[]}},request:{httpsDomains:"arcgis.com arcgisonline.com esrikr.com premiumservices.blackbridge.com esripremium.accuweather.com gbm.digitalglobe.com firstlook.digitalglobe.com msi.digitalglobe.com".split(" "),interceptors:[],maxUrlLength:2E3,proxyRules:[],proxyUrl:null,timeout:6E4,trustedServers:[],useIdentity:!0}};l.request.corsEnabledServers=[];l.request.corsEnabledServers.push=
  function(){console.warn("[esri.config]","request.corsEnabledServers is not supported and will be removed in a future release. See http://esriurl.com/cors8664");return 0};return l})},"esri/core/global":function(){define(["require","exports"],function(l,a){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof global)return global}()})},"esri/kernel":function(){define(["require","./core/promiseUtils","./core/has","./support/revision",
  "dojo/_base/kernel"],function(l,a,k,p,h){(function(){var a=h.config,f=a.has&&void 0!==a.has["config-deferredInstrumentation"],m=a.has&&void 0!==a.has["config-useDeferredInstrumentation"];void 0!==a.useDeferredInstrumentation||f||m||(k.add("config-deferredInstrumentation",!1,!0,!0),k.add("config-useDeferredInstrumentation",!1,!0,!0))})();return{version:"4.12",workerMessages:{request:function(e){return a.create(function(a){l(["./request"],a)}).then(function(a){var f=e.options||{};f.responseType="array-buffer";
  return a(e.url,f)}).then(function(a){return{result:{data:a.data,ssl:a.ssl},transferList:[a.data]}})}},revision:p.commitHash}})},"esri/core/promiseUtils":function(){define("require exports @dojo/framework/shim/AbortController dojo/Deferred dojo/promise/all ./Error ./events ./maybe ./has @dojo/framework/shim/Promise".split(" "),function(l,a,k,p,h,e,f,m,c){function b(b,a){if(c("esri-native-promise"))return new Promise(b);var d=new p(a);try{b(function(b){return D(b).then(d.resolve)},d.reject)}catch(I){d.reject(I)}return d.promise}
  function g(b){void 0===b&&(b="Aborted");b=new e("AbortError",b);b.dojoType="cancel";return b}function t(){return new k.default}function d(b){if(A(b))throw g();}function v(b){return m.isSome(b)?"aborted"in b?b:b.signal:b}function A(b){b=v(b);return m.isSome(b)&&b.aborted}function w(b){return b&&("AbortError"===b.name||"cancel"===b.dojoType)}function y(a){var d=null;a=b(function(b,a){d={resolve:b,reject:a}},a);d.promise=a;d.cancel=function(){d.reject(g())};return d}function B(a){if(a){if("function"!==
  typeof a.forEach){var d=Object.keys(a),c=d.map(function(b){return a[b]});return B(c).then(function(b){var a={};d.forEach(function(d,c){return a[d]=b[c]});return a})}var f=null,u=C;return b(function(b,d){var c=[],e=a.length;0===e&&b(c);a.forEach(function(a){var m={promise:a||u(a)};c.push(m);m.promise.then(function(b){m.value=b}).catch(function(b){m.error=b}).then(function(){--e;0===e&&(f?d(g()):b(c))})})},function(b){f=b||"Invocation cancellation";a.forEach(function(a){return a.cancel(b)})})}}function C(b){void 0===
  b&&(b=void 0);if(c("esri-native-promise"))return Promise.resolve(b);var a=new p;a.resolve(b);return a.promise}function n(a,d){void 0===d&&(d=void 0);var c=0;return b(function(b){c=setTimeout(function(){b(d)},a)},function(){c&&(clearTimeout(c),c=0)})}function D(b){return b&&"object"===typeof b&&"then"in b&&"function"===typeof b.then?b:C(b)}Object.defineProperty(a,"__esModule",{value:!0});c.add("esri-native-promise",!1);a.all=function(b){return h(b)};a.filter=function(b,a){var d=b.slice();return h(b.map(function(b,
  d){return a(b,d)})).then(function(b){return d.filter(function(a,d){return b[d]})})};a.create=b;a.createAbortError=g;a.createAbortController=t;a.throwIfAborted=d;a.isAborted=A;a.throwIfAbortError=function(b){if(w(b))throw b;};a.onAbort=function(b,a){b=v(b);if(!m.isNone(b))if(b.aborted)a();else return f.once(b,"abort",a)};a.onAbortOrThrow=function(b,a){b=v(b);if(!m.isNone(b))return d(b),f.once(b,"abort",a)};a.isAbortError=w;a.createDeferred=y;a.eachAlways=B;a.eachAlwaysValues=function(b){return B(b).then(function(b){return b.filter(function(b){return!!b.value}).map(function(b){return b.value})})};
  a.first=function(a){return a&&a.length?b(function(b,d){for(var c=0;c<a.length;c++)a[c].then(b,d)}):C()};a.reject=function(b){if(c("esri-native-promise"))return Promise.reject(b);var a=new p;a.reject(b);return a.promise};a.resolve=C;a.after=n;a.timeout=function(b,a,d){var c=0,g=new p(b.cancel);b.then(function(b){g.isFulfilled()||(g.resolve(b),c&&(clearTimeout(c),c=0))});b.catch(function(b){g.isFulfilled()||(g.reject(b),c&&(clearTimeout(c),c=0))});c=setTimeout(function(){var b=d||new e("promiseUtils:timeout",
  "The wrapped promise did not resolve within "+a+" ms");g.reject(b)},a);return g.promise};a.wrapCallback=function(a){var d=!1;return b(function(){a(function(b){d||C(b)})},function(){return d=!0})};a.isThenable=function(b){return b&&"function"===typeof b.then};a.when=D;a.debounce=function(b,a){void 0===a&&(a=-1);var d,c,f,e,u=null,m=function(){for(var h=[],k=0;k<arguments.length;k++)h[k]=arguments[k];if(d)return c=h,e&&e.reject(g()),e=y(),h=e.promise,u&&(k=u,u=null,k.abort()),h;f=e||y();e=null;if(0<
  a){var p=t(),v=d=b.apply(void 0,h.concat([p.signal]));n(a).then(function(){d===v&&(e?p.abort():u=p)})}else d=b.apply(void 0,h);var h=function(){var b=c;c=f=d=u=null;null!=b&&m.apply(void 0,b)},k=d,l=f;k.then(h,h);k.then(l.resolve,l.reject);return l.promise};return m};a.createResolver=function(a){var d,c;a=b(function(b,a){d=b;c=a},a);var g=function(b){d(b)};g.resolve=function(b){return d(b)};g.reject=function(b){return c(b)};g.promise=a;return g};a.always=function(b,a){return b.then(a,a)}})},"@dojo/framework/shim/AbortController":function(){(function(l){"object"===
  typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&define(["require","exports","./global","../has/has","./array"],l)})(function(l,a){Object.defineProperty(a,"__esModule",{value:!0});var k=l("./global"),p=l("../has/has"),h=l("./array");a.ShimAbortSignal=k.default.AbortSignal;p.default("abort-signal")||(k.default.AbortSignal=a.ShimAbortSignal=function(){function a(){this._aborted=!1;this.listeners={}}Object.defineProperty(a.prototype,
  "aborted",{get:function(){return this._aborted},enumerable:!0,configurable:!0});a.prototype.addEventListener=function(a,e){a in this.listeners||(this.listeners[a]=[]);this.listeners[a].push(e)};a.prototype.removeEventListener=function(a,e){if(a in this.listeners){var c=h.findIndex(this.listeners[a],function(b){return b===e});0<=c&&this.listeners[a].splice(c,1)}};a.prototype.dispatchEvent=function(a){var f=this,c=a.type;"abort"===c&&(this._aborted=!0,"function"===typeof this.onabort&&this.onabort.call(this,
  a));if(!(c in this.listeners))return!1;this.listeners[c].forEach(function(b){setTimeout(function(){return b.call(f,a)},0)});return!a.preventDefault};return a}());a.ShimAbortController=k.default.AbortController;p.default("abort-controller")||(k.default.AbortController=a.ShimAbortController=function(){function e(){this.signal=new a.ShimAbortSignal}e.prototype.abort=function(){var a;try{a=new Event("abort")}catch(m){"undefined"!==typeof document?(a=document.createEvent("Event"),a.initEvent("abort",!1,
  !1)):a={type:"abort",bubbles:!1,cancelable:!1}}this.signal.dispatchEvent(a)};return e}());a.default=a.ShimAbortController})},"@dojo/framework/shim/global":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&define(["require","exports"],l)})(function(l,a){Object.defineProperty(a,"__esModule",{value:!0});l=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;
  if("undefined"!==typeof global)return global}();a.default=l})},"@dojo/framework/has/has":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&define(["require","exports","tslib","../shim/global"],l)})(function(l,a){function k(b){b=b.toLowerCase();return!!(b in m||b in a.testCache||a.testFunctions[b])}function p(b,c,f){void 0===f&&(f=!1);var d=b.toLowerCase();if(k(d)&&!f&&!(d in
  m))throw new TypeError('Feature "'+b+'" exists and overwrite not true.');"function"===typeof c?a.testFunctions[d]=c:(a.testCache[d]=c,delete a.testFunctions[d])}function h(b){var c=b.toLowerCase();if(c in m)b=m[c];else if(a.testFunctions[c])b=a.testCache[c]=a.testFunctions[c].call(null),delete a.testFunctions[c];else if(c in a.testCache)b=a.testCache[c];else throw new TypeError('Attempt to detect unregistered has feature "'+b+'"');return b}Object.defineProperty(a,"__esModule",{value:!0});var e=l("tslib"),
  f=l("../shim/global");a.testCache={};a.testFunctions={};l=(f.default.DojoHasEnvironment||{}).staticFeatures;"DojoHasEnvironment"in f.default&&delete f.default.DojoHasEnvironment;var m=l?"function"===typeof l?l.apply(f.default):l:{};a.load=function(b,a,c,d){b?a([b],c):c()};a.normalize=function(b,a){function c(b){var a=d[g++];if(":"===a)return null;if("?"===d[g++]){if(!b&&h(a))return c();c(!0);return c(b)}return a}var d=b.match(/[\?:]|[^:\?]*/g)||[],g=0;return(b=c())&&a(b)};a.exists=k;a.add=p;a.default=
  h;p("public-path",void 0);p("dojo-debug",!1);p("host-browser","undefined"!==typeof document&&"undefined"!==typeof location);p("host-node",function(){if("object"===typeof process&&process.versions&&process.versions.node)return process.versions.node});p("fetch","fetch"in f.default&&"function"===typeof f.default.fetch,!0);p("es6-array",function(){return["from","of"].every(function(b){return b in f.default.Array})&&["findIndex","find","copyWithin"].every(function(b){return b in f.default.Array.prototype})},
  !0);p("es6-array-fill",function(){return"fill"in f.default.Array.prototype?1===[1].fill(9,Number.POSITIVE_INFINITY)[0]:!1},!0);p("es7-array",function(){return"includes"in f.default.Array.prototype},!0);p("es6-map",function(){if("function"===typeof f.default.Map)try{var b=new f.default.Map([[0,1]]);return b.has(0)&&"function"===typeof b.keys&&h("es6-symbol")&&"function"===typeof b.values&&"function"===typeof b.entries}catch(g){}return!1},!0);p("es6-math",function(){return"clz32 sign log10 log2 log1p expm1 cosh sinh tanh acosh asinh atanh trunc fround cbrt hypot".split(" ").every(function(b){return"function"===
  typeof f.default.Math[b]})},!0);p("es6-math-imul",function(){return"imul"in f.default.Math?-5===Math.imul(4294967295,5):!1},!0);p("es6-object",function(){return h("es6-symbol")&&["assign","is","getOwnPropertySymbols","setPrototypeOf"].every(function(b){return"function"===typeof f.default.Object[b]})},!0);p("es2017-object",function(){return["values","entries","getOwnPropertyDescriptors"].every(function(b){return"function"===typeof f.default.Object[b]})},!0);p("es-observable",function(){return"undefined"!==
  typeof f.default.Observable},!0);p("es6-promise",function(){return"undefined"!==typeof f.default.Promise&&h("es6-symbol")},!0);p("es2018-promise-finally",function(){return h("es6-promise")&&"undefined"!==typeof f.default.Promise.prototype.finally},!0);p("es6-set",function(){if("function"===typeof f.default.Set){var b=new f.default.Set([1]);return b.has(1)&&"keys"in b&&"function"===typeof b.keys&&h("es6-symbol")}return!1},!0);p("es6-string",function(){return["fromCodePoint"].every(function(b){return"function"===
  typeof f.default.String[b]})&&"codePointAt normalize repeat startsWith endsWith includes".split(" ").every(function(b){return"function"===typeof f.default.String.prototype[b]})},!0);p("es6-string-raw",function(){function b(b){for(var a=1;a<arguments.length;a++);a=e.__spread(b);a.raw=b.raw;return a}if("raw"in f.default.String){var a=b(c||(c=e.__makeTemplateObject(["a\n",""],["a\\n",""])),1);a.raw=["a\\n"];return"a\\n"===f.default.String.raw(a,42)}return!1},!0);p("es2017-string",function(){return["padStart",
  "padEnd"].every(function(b){return"function"===typeof f.default.String.prototype[b]})},!0);p("es6-symbol",function(){return"undefined"!==typeof f.default.Symbol&&"symbol"===typeof Symbol()},!0);p("es6-weakmap",function(){if("undefined"!==typeof f.default.WeakMap){var b={},a={},c=new f.default.WeakMap([[b,1]]);Object.freeze(b);return 1===c.get(b)&&c.set(a,2)===c&&h("es6-symbol")}return!1},!0);p("microtasks",function(){return h("es6-promise")||0||h("dom-mutationobserver")},!0);p("postmessage",function(){return"undefined"!==
  typeof f.default.window&&"function"===typeof f.default.postMessage},!0);p("raf",function(){return"function"===typeof f.default.requestAnimationFrame},!0);p("setimmediate",function(){return"undefined"!==typeof f.default.setImmediate},!0);p("dom-mutationobserver",function(){if(h("host-browser")&&(f.default.MutationObserver||f.default.WebKitMutationObserver)){var b=document.createElement("div"),a=new (f.default.MutationObserver||f.default.WebKitMutationObserver)(function(){});a.observe(b,{attributes:!0});
  b.style.setProperty("display","block");return!!a.takeRecords().length}return!1},!0);p("dom-webanimation",function(){return h("host-browser")&&void 0!==f.default.Animation&&void 0!==f.default.KeyframeEffect},!0);p("abort-controller",function(){return"undefined"!==typeof f.default.AbortController});p("abort-signal",function(){return"undefined"!==typeof f.default.AbortSignal});p("dom-intersection-observer",function(){return h("host-browser")&&void 0!==f.default.IntersectionObserver},!0);p("dom-resize-observer",
  function(){return h("host-browser")&&void 0!==f.default.ResizeObserver},!0);p("dom-pointer-events",function(){return h("host-browser")&&void 0!==f.default.onpointerdown},!0);p("build-elide",!1);var c})},"tslib/tslib":function(){var l,a,k,p,h,e,f,m,c,b,g,t,d,v,A,w,y,B,C;(function(b){function a(b,a){b!==d&&("function"===typeof Object.create?Object.defineProperty(b,"__esModule",{value:!0}):b.__esModule=!0);return function(d,c){return b[d]=a?a(d,c):c}}var d="object"===typeof global?global:"object"===
  typeof self?self:"object"===typeof this?this:{};"function"===typeof define&&define.amd?define("tslib",["exports"],function(c){b(a(d,a(c)))}):"object"===typeof module&&"object"===typeof module.exports?b(a(d,a(module.exports))):b(a(d))})(function(n){var D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,a){b.__proto__=a}||function(b,a){for(var d in a)a.hasOwnProperty(d)&&(b[d]=a[d])};l=function(b,a){function d(){this.constructor=b}D(b,a);b.prototype=null===a?Object.create(a):(d.prototype=
  a.prototype,new d)};a=Object.assign||function(b){for(var a,d=1,c=arguments.length;d<c;d++){a=arguments[d];for(var g in a)Object.prototype.hasOwnProperty.call(a,g)&&(b[g]=a[g])}return b};k=function(b,a){var d={},c;for(c in b)Object.prototype.hasOwnProperty.call(b,c)&&0>a.indexOf(c)&&(d[c]=b[c]);if(null!=b&&"function"===typeof Object.getOwnPropertySymbols){var g=0;for(c=Object.getOwnPropertySymbols(b);g<c.length;g++)0>a.indexOf(c[g])&&(d[c[g]]=b[c[g]])}return d};p=function(b,a,d,c){var g=arguments.length,
  f=3>g?a:null===c?c=Object.getOwnPropertyDescriptor(a,d):c,e;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)f=Reflect.decorate(b,a,d,c);else for(var u=b.length-1;0<=u;u--)if(e=b[u])f=(3>g?e(f):3<g?e(a,d,f):e(a,d))||f;return 3<g&&f&&Object.defineProperty(a,d,f),f};h=function(b,a){return function(d,c){a(d,c,b)}};e=function(b,a){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(b,a)};f=function(b,a,d,c){return new (d||(d=Promise))(function(g,
  f){function e(b){try{m(c.next(b))}catch(E){f(E)}}function u(b){try{m(c["throw"](b))}catch(E){f(E)}}function m(b){b.done?g(b.value):(new d(function(a){a(b.value)})).then(e,u)}m((c=c.apply(b,a||[])).next())})};m=function(b,a){function d(b){return function(a){return c([b,a])}}function c(d){if(f)throw new TypeError("Generator is already executing.");for(;g;)try{if(f=1,e&&(u=d[0]&2?e["return"]:d[0]?e["throw"]||((u=e["return"])&&u.call(e),0):e.next)&&!(u=u.call(e,d[1])).done)return u;if(e=0,u)d=[d[0]&2,
  u.value];switch(d[0]){case 0:case 1:u=d;break;case 4:return g.label++,{value:d[1],done:!1};case 5:g.label++;e=d[1];d=[0];continue;case 7:d=g.ops.pop();g.trys.pop();continue;default:if(!(u=g.trys,u=0<u.length&&u[u.length-1])&&(6===d[0]||2===d[0])){g=0;continue}if(3===d[0]&&(!u||d[1]>u[0]&&d[1]<u[3]))g.label=d[1];else if(6===d[0]&&g.label<u[1])g.label=u[1],u=d;else if(u&&g.label<u[2])g.label=u[2],g.ops.push(d);else{u[2]&&g.ops.pop();g.trys.pop();continue}}d=a.call(b,g)}catch(E){d=[6,E],e=0}finally{f=
  u=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}var g={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},f,e,u,m;return m={next:d(0),"throw":d(1),"return":d(2)},"function"===typeof Symbol&&(m[Symbol.iterator]=function(){return this}),m};c=function(b,a){for(var d in b)a.hasOwnProperty(d)||(a[d]=b[d])};b=function(b){var a="function"===typeof Symbol&&b[Symbol.iterator],d=0;return a?a.call(b):{next:function(){b&&d>=b.length&&(b=void 0);return{value:b&&b[d++],done:!b}}}};
  g=function(b,a){var d="function"===typeof Symbol&&b[Symbol.iterator];if(!d)return b;b=d.call(b);var c,g=[],f;try{for(;(void 0===a||0<a--)&&!(c=b.next()).done;)g.push(c.value)}catch(G){f={error:G}}finally{try{c&&!c.done&&(d=b["return"])&&d.call(b)}finally{if(f)throw f.error;}}return g};t=function(){for(var b=[],a=0;a<arguments.length;a++)b=b.concat(g(arguments[a]));return b};d=function(b){return this instanceof d?(this.v=b,this):new d(b)};v=function(b,a,c){function g(b){h[b]&&(k[b]=function(a){return new Promise(function(d,
  c){1<n.push([b,a,d,c])||f(b,a)})})}function f(b,a){try{var c=h[b](a);c.value instanceof d?Promise.resolve(c.value.v).then(e,u):m(n[0][2],c)}catch(T){m(n[0][3],T)}}function e(b){f("next",b)}function u(b){f("throw",b)}function m(b,a){(b(a),n.shift(),n.length)&&f(n[0][0],n[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var h=c.apply(b,a||[]),k,n=[];return k={},g("next"),g("throw"),g("return"),k[Symbol.asyncIterator]=function(){return this},k};A=function(b){function a(a,
  f){c[a]=b[a]?function(c){return(g=!g)?{value:d(b[a](c)),done:"return"===a}:f?f(c):c}:f}var c,g;return c={},a("next"),a("throw",function(b){throw b;}),a("return"),c[Symbol.iterator]=function(){return this},c};w=function(a){function d(b){f[b]=a[b]&&function(d){return new Promise(function(g,f){d=a[b](d);c(g,f,d.done,d.value)})}}function c(b,a,d,c){Promise.resolve(c).then(function(a){b({value:a,done:d})},a)}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var g=a[Symbol.asyncIterator],
  f;return g?g.call(a):(a="function"===typeof b?b(a):a[Symbol.iterator](),f={},d("next"),d("throw"),d("return"),f[Symbol.asyncIterator]=function(){return this},f)};y=function(b,a){Object.defineProperty?Object.defineProperty(b,"raw",{value:a}):b.raw=a;return b};B=function(b){if(b&&b.__esModule)return b;var a={};if(null!=b)for(var d in b)Object.hasOwnProperty.call(b,d)&&(a[d]=b[d]);a["default"]=b;return a};C=function(b){return b&&b.__esModule?b:{"default":b}};n("__extends",l);n("__assign",a);n("__rest",
  k);n("__decorate",p);n("__param",h);n("__metadata",e);n("__awaiter",f);n("__generator",m);n("__exportStar",c);n("__values",b);n("__read",g);n("__spread",t);n("__await",d);n("__asyncGenerator",v);n("__asyncDelegator",A);n("__asyncValues",w);n("__makeTemplateObject",y);n("__importStar",B);n("__importDefault",C)})},"@dojo/framework/shim/array":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&
  define.amd&&define("require exports tslib ./global ./iterator ./number ../has/has ./support/util".split(" "),l)})(function(l,a){Object.defineProperty(a,"__esModule",{value:!0});var k=l("tslib"),p=l("./global"),h=l("./iterator"),e=l("./number"),f=l("../has/has");l=l("./support/util");if(f.default("es6-array")&&f.default("es6-array-fill"))a.from=p.default.Array.from,a.of=p.default.Array.of,a.copyWithin=l.wrapNative(p.default.Array.prototype.copyWithin),a.fill=l.wrapNative(p.default.Array.prototype.fill),
  a.find=l.wrapNative(p.default.Array.prototype.find),a.findIndex=l.wrapNative(p.default.Array.prototype.findIndex);else{var m=function(b){if(isNaN(b))return 0;b=Number(b);isFinite(b)&&(b=Math.floor(b));return Math.min(Math.max(b,0),e.MAX_SAFE_INTEGER)},c=function(b){b=Number(b);return isNaN(b)?0:0!==b&&isFinite(b)?(0<b?1:-1)*Math.floor(Math.abs(b)):b},b=function(b,a){return 0>b?Math.max(a+b,0):Math.min(b,a)};a.from=function(b,a,d){if(null==b)throw new TypeError("from: requires an array-like object");
  a&&d&&(a=a.bind(d));d=m(b.length);var c="function"===typeof this?Object(new this(d)):Array(d);if(!h.isArrayLike(b)&&!h.isIterable(b))return c;if(h.isArrayLike(b)){if(0===d)return[];for(var g=0;g<b.length;g++)c[g]=a?a(b[g],g):b[g]}else{g=0;try{for(var f=k.__values(b),e=f.next();!e.done;e=f.next()){var p=e.value;c[g]=a?a(p,g):p;g++}}catch(D){t={error:D}}finally{try{e&&!e.done&&(n=f.return)&&n.call(f)}finally{if(t)throw t.error;}}}void 0!==b.length&&(c.length=d);return c;var t,n};a.of=function(){for(var b=
  [],a=0;a<arguments.length;a++)b[a]=arguments[a];return Array.prototype.slice.call(b)};a.copyWithin=function(a,f,d,e){if(null==a)throw new TypeError("copyWithin: target must be an array-like object");var g=m(a.length);f=b(c(f),g);d=b(c(d),g);e=b(void 0===e?g:c(e),g);e=Math.min(e-d,g-f);g=1;f>d&&f<d+e&&(g=-1,d+=e-1,f+=e-1);for(;0<e;)d in a?a[f]=a[d]:delete a[f],f+=g,d+=g,e--;return a};a.fill=function(a,f,d,e){var g=m(a.length);d=b(c(d),g);for(e=b(void 0===e?g:c(e),g);d<e;)a[d++]=f;return a};a.find=
  function(b,c,d){c=a.findIndex(b,c,d);return-1!==c?b[c]:void 0};a.findIndex=function(b,a,d){var c=m(b.length);if(!a)throw new TypeError("find: second argument must be a function");d&&(a=a.bind(d));for(d=0;d<c;d++)if(a(b[d],d,b))return d;return-1}}f.default("es7-array")?a.includes=l.wrapNative(p.default.Array.prototype.includes):a.includes=function(b,a,d){void 0===d&&(d=0);var c;c=b.length;c=Number(c);isNaN(c)?c=0:(isFinite(c)&&(c=Math.floor(c)),c=Math.min(Math.max(c,0),e.MAX_SAFE_INTEGER));for(;d<
  c;++d){var g=b[d];if(a===g||a!==a&&g!==g)return!0}return!1}})},"@dojo/framework/shim/iterator":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&define(["require","exports","./Symbol","./string"],l)})(function(l,a){function k(a){return a&&"function"===typeof a[Symbol.iterator]}function p(a){return a&&"number"===typeof a.length}function h(a){if(k(a))return a[Symbol.iterator]();
  if(p(a))return new m(a)}Object.defineProperty(a,"__esModule",{value:!0});l("./Symbol");var e=l("./string"),f={done:!0,value:void 0},m=function(){function a(b){this._nextIndex=-1;k(b)?this._nativeIterator=b[Symbol.iterator]():this._list=b}a.prototype.next=function(){return this._nativeIterator?this._nativeIterator.next():this._list?++this._nextIndex<this._list.length?{done:!1,value:this._list[this._nextIndex]}:f:f};a.prototype[Symbol.iterator]=function(){return this};return a}();a.ShimIterator=m;a.isIterable=
  k;a.isArrayLike=p;a.get=h;a.forOf=function(a,b,g){function c(){d=!0}var d=!1;if(p(a)&&"string"===typeof a)for(var f=a.length,m=0;m<f;++m){var k=a[m];if(m+1<f){var l=k.charCodeAt(0);l>=e.HIGH_SURROGATE_MIN&&l<=e.HIGH_SURROGATE_MAX&&(k+=a[++m])}b.call(g,k,a,c);if(d)break}else if(f=h(a))for(m=f.next();!m.done;){b.call(g,m.value,a,c);if(d)break;m=f.next()}}})},"@dojo/framework/shim/Symbol":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==
  l&&(module.exports=l)):"function"===typeof define&&define.amd&&define(["require","exports","../has/has","./global","./support/util"],l)})(function(l,a){function k(b){return b&&("symbol"===typeof b||"Symbol"===b["@@toStringTag"])||!1}Object.defineProperty(a,"__esModule",{value:!0});var p=l("../has/has"),h=l("./global"),e=l("./support/util");a.Symbol=h.default.Symbol;if(!p.default("es6-symbol")){var f=function(b){if(!k(b))throw new TypeError(b+" is not a symbol");return b},m=Object.defineProperties,
  c=Object.defineProperty,b=Object.create,g=Object.prototype,t={},d=function(){var a=b(null);return function(b){for(var d=0,f;a[String(b)+(d||"")];)++d;b+=String(d||"");a[b]=!0;f="@@"+b;Object.getOwnPropertyDescriptor(g,f)||c(g,f,{set:function(b){c(this,f,e.getValueDescriptor(b))}});return f}}(),v=function w(b){if(this instanceof v)throw new TypeError("TypeError: Symbol is not a constructor");return w(b)};a.Symbol=h.default.Symbol=function y(b){if(this instanceof y)throw new TypeError("TypeError: Symbol is not a constructor");
  var a=Object.create(v.prototype);b=void 0===b?"":String(b);return m(a,{__description__:e.getValueDescriptor(b),__name__:e.getValueDescriptor(d(b))})};c(a.Symbol,"for",e.getValueDescriptor(function(b){return t[b]?t[b]:t[b]=a.Symbol(String(b))}));m(a.Symbol,{keyFor:e.getValueDescriptor(function(b){var a;f(b);for(a in t)if(t[a]===b)return a}),hasInstance:e.getValueDescriptor(a.Symbol.for("hasInstance"),!1,!1),isConcatSpreadable:e.getValueDescriptor(a.Symbol.for("isConcatSpreadable"),!1,!1),iterator:e.getValueDescriptor(a.Symbol.for("iterator"),
  !1,!1),match:e.getValueDescriptor(a.Symbol.for("match"),!1,!1),observable:e.getValueDescriptor(a.Symbol.for("observable"),!1,!1),replace:e.getValueDescriptor(a.Symbol.for("replace"),!1,!1),search:e.getValueDescriptor(a.Symbol.for("search"),!1,!1),species:e.getValueDescriptor(a.Symbol.for("species"),!1,!1),split:e.getValueDescriptor(a.Symbol.for("split"),!1,!1),toPrimitive:e.getValueDescriptor(a.Symbol.for("toPrimitive"),!1,!1),toStringTag:e.getValueDescriptor(a.Symbol.for("toStringTag"),!1,!1),unscopables:e.getValueDescriptor(a.Symbol.for("unscopables"),
  !1,!1)});m(v.prototype,{constructor:e.getValueDescriptor(a.Symbol),toString:e.getValueDescriptor(function(){return this.__name__},!1,!1)});m(a.Symbol.prototype,{toString:e.getValueDescriptor(function(){return"Symbol ("+f(this).__description__+")"}),valueOf:e.getValueDescriptor(function(){return f(this)})});c(a.Symbol.prototype,a.Symbol.toPrimitive,e.getValueDescriptor(function(){return f(this)}));c(a.Symbol.prototype,a.Symbol.toStringTag,e.getValueDescriptor("Symbol",!1,!1,!0));c(v.prototype,a.Symbol.toPrimitive,
  e.getValueDescriptor(a.Symbol.prototype[a.Symbol.toPrimitive],!1,!1,!0));c(v.prototype,a.Symbol.toStringTag,e.getValueDescriptor(a.Symbol.prototype[a.Symbol.toStringTag],!1,!1,!0))}a.isSymbol=k;"hasInstance isConcatSpreadable iterator species replace search split match toPrimitive toStringTag unscopables observable".split(" ").forEach(function(b){a.Symbol[b]||Object.defineProperty(a.Symbol,b,e.getValueDescriptor(a.Symbol.for(b),!1,!1))});a.default=a.Symbol})},"@dojo/framework/shim/support/util":function(){(function(l){"object"===
  typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&define(["require","exports"],l)})(function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.getValueDescriptor=function(a,p,h,e){void 0===p&&(p=!1);void 0===h&&(h=!0);void 0===e&&(e=!0);return{value:a,enumerable:p,writable:h,configurable:e}};a.wrapNative=function(a){return function(k){for(var h=[],e=1;e<arguments.length;e++)h[e-1]=arguments[e];return a.apply(k,
  h)}}})},"@dojo/framework/shim/string":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ../has/has ./support/util".split(" "),l)})(function(l,a){Object.defineProperty(a,"__esModule",{value:!0});var k=l("tslib"),p=l("./global"),h=l("../has/has");l=l("./support/util");a.HIGH_SURROGATE_MIN=55296;a.HIGH_SURROGATE_MAX=56319;a.LOW_SURROGATE_MIN=
  56320;a.LOW_SURROGATE_MAX=57343;if(h.default("es6-string")&&h.default("es6-string-raw"))a.fromCodePoint=p.default.String.fromCodePoint,a.raw=p.default.String.raw,a.codePointAt=l.wrapNative(p.default.String.prototype.codePointAt),a.endsWith=l.wrapNative(p.default.String.prototype.endsWith),a.includes=l.wrapNative(p.default.String.prototype.includes),a.normalize=l.wrapNative(p.default.String.prototype.normalize),a.repeat=l.wrapNative(p.default.String.prototype.repeat),a.startsWith=l.wrapNative(p.default.String.prototype.startsWith);
  else{var e=function(a,e,c,b,g){void 0===g&&(g=!1);if(null==e)throw new TypeError("string."+a+" requires a valid string to search against.");a=e.length;return[e,String(c),Math.min(Math.max(b!==b?g?a:0:b,0),a)]};a.fromCodePoint=function(){for(var f=0;f<arguments.length;f++);f=arguments.length;if(!f)return"";for(var e=String.fromCharCode,c=[],b=-1,g="";++b<f;){var h=Number(arguments[b]);if(!(isFinite(h)&&Math.floor(h)===h&&0<=h&&1114111>=h))throw RangeError("string.fromCodePoint: Invalid code point "+
  h);65535>=h?c.push(h):(h-=65536,c.push((h>>10)+a.HIGH_SURROGATE_MIN,h%1024+a.LOW_SURROGATE_MIN));if(b+1===f||16384<c.length)g+=e.apply(null,c),c.length=0}return g};a.raw=function(a){for(var f=[],c=1;c<arguments.length;c++)f[c-1]=arguments[c];var c=a.raw,b="",g=f.length;if(null==a||null==a.raw)throw new TypeError("string.raw requires a valid callSite object with a raw value");for(var e=0,d=c.length;e<d;e++)b+=c[e]+(e<g&&e<d-1?f[e]:"");return b};a.codePointAt=function(f,e){void 0===e&&(e=0);if(null==
  f)throw new TypeError("string.codePointAt requries a valid string.");var c=f.length;e!==e&&(e=0);if(!(0>e||e>=c)){var b=f.charCodeAt(e);return b>=a.HIGH_SURROGATE_MIN&&b<=a.HIGH_SURROGATE_MAX&&c>e+1&&(f=f.charCodeAt(e+1),f>=a.LOW_SURROGATE_MIN&&f<=a.LOW_SURROGATE_MAX)?1024*(b-a.HIGH_SURROGATE_MIN)+f-a.LOW_SURROGATE_MIN+65536:b}};a.endsWith=function(a,m,c){if(""===m)return!0;if("undefined"===typeof c)c=a.length;else if(null===c||isNaN(c))return!1;c=k.__read(e("endsWith",a,m,c,!0),3);a=c[0];m=c[1];
  c=c[2];var b=c-m.length;return 0>b?!1:a.slice(b,c)===m};a.includes=function(a,m,c){void 0===c&&(c=0);c=k.__read(e("includes",a,m,c),3);a=c[0];m=c[1];c=c[2];return-1!==a.indexOf(m,c)};a.repeat=function(a,e){void 0===e&&(e=0);if(null==a)throw new TypeError("string.repeat requires a valid string.");e!==e&&(e=0);if(0>e||Infinity===e)throw new RangeError("string.repeat requires a non-negative finite count.");for(var c="";e;)e%2&&(c+=a),1<e&&(a+=a),e>>=1;return c};a.startsWith=function(a,m,c){void 0===
  c&&(c=0);m=String(m);c=k.__read(e("startsWith",a,m,c),3);a=c[0];m=c[1];c=c[2];var b=c+m.length;return b>a.length?!1:a.slice(c,b)===m}}h.default("es2017-string")?(a.padEnd=l.wrapNative(p.default.String.prototype.padEnd),a.padStart=l.wrapNative(p.default.String.prototype.padStart)):(a.padEnd=function(f,e,c){void 0===c&&(c=" ");if(null===f||void 0===f)throw new TypeError("string.repeat requires a valid string.");if(Infinity===e)throw new RangeError("string.padEnd requires a non-negative finite count.");
  if(null===e||void 0===e||0>e)e=0;f=String(f);e-=f.length;0<e&&(f+=a.repeat(c,Math.floor(e/c.length))+c.slice(0,e%c.length));return f},a.padStart=function(f,e,c){void 0===c&&(c=" ");if(null===f||void 0===f)throw new TypeError("string.repeat requires a valid string.");if(Infinity===e)throw new RangeError("string.padStart requires a non-negative finite count.");if(null===e||void 0===e||0>e)e=0;f=String(f);e-=f.length;0<e&&(f=a.repeat(c,Math.floor(e/c.length))+c.slice(0,e%c.length)+f);return f})})},"@dojo/framework/shim/number":function(){(function(l){"object"===
  typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&define(["require","exports","./global"],l)})(function(l,a){function k(a){return"number"===typeof a&&h.default.isFinite(a)}function p(a){return k(a)&&Math.floor(a)===a}Object.defineProperty(a,"__esModule",{value:!0});var h=l("./global");a.EPSILON=1;a.MAX_SAFE_INTEGER=Math.pow(2,53)-1;a.MIN_SAFE_INTEGER=-a.MAX_SAFE_INTEGER;a.isNaN=function(a){return"number"===
  typeof a&&h.default.isNaN(a)};a.isFinite=k;a.isInteger=p;a.isSafeInteger=function(e){return p(e)&&Math.abs(e)<=a.MAX_SAFE_INTEGER}})},"dojo/promise/all":function(){define(["../_base/array","../_base/lang","../Deferred","../when"],function(l,a,k,p){var h=l.some;return function(e){var f,m;a.isArray(e)?m=e:e&&"object"===typeof e&&(f=e);var c,b=[];if(f){m=[];for(var g in f)Object.hasOwnProperty.call(f,g)&&(b.push(g),m.push(f[g]));c={}}else m&&(c=[]);if(!m||!m.length)return(new k).resolve(c);var t=new k;
  t.promise.always(function(){c=b=null});var d=m.length;h(m,function(a,g){f||b.push(g);p(a,function(a){t.isFulfilled()||(c[b[g]]=a,0===--d&&t.resolve(c))},t.reject);return t.isFulfilled()});return t.promise}})},"esri/core/Error":function(){define(["require","exports","./tsSupport/extendsHelper","./lang","./Message"],function(l,a,k,p,h){l=function(a){function f(e,c,b){var g=a.call(this,e,c,b)||this;return g instanceof f?g:new f(e,c,b)}k(f,a);f.prototype.toJSON=function(){return{name:this.name,message:this.message,
  details:p.clone(this.details),dojoType:this.dojoType}};f.fromJSON=function(a){var c=new f(a.name,a.message,a.details);null!=a.dojoType&&(c.dojoType=a.dojoType);return c};return f}(h);l.prototype.type="error";return l})},"esri/core/tsSupport/extendsHelper":function(){define([],function(){return function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,k){a.__proto__=k}||function(a,k){for(var p in k)k.hasOwnProperty(p)&&(a[p]=k[p])};return function(a,k){function p(){this.constructor=
  a}l(a,k);a.prototype=null===k?Object.create(k):(p.prototype=k.prototype,new p)}}()})},"esri/core/lang":function(){define(["require","exports","./typedArrayUtil"],function(l,a,k){function p(a,e){var c;if(e)for(c in a)a.hasOwnProperty(c)&&(void 0===a[c]?delete a[c]:a[c]instanceof Object&&p(a[c],!0));else for(c in a)a.hasOwnProperty(c)&&void 0===a[c]&&delete a[c];return a}function h(a){return a&&"object"===typeof a&&"function"!==typeof a?k.isInt8Array(a)||k.isUint8Array(a)||k.isUint8ClampedArray(a)||
  k.isInt16Array(a)||k.isUint16Array(a)||k.isInt32Array(a)||k.isUint32Array(a)||k.isFloat32Array(a)||k.isFloat64Array(a)?k.slice(a):a instanceof Date?new Date(a.getTime()):a instanceof ArrayBuffer?a.slice(0,a.byteLength):"function"===typeof a.clone?a.clone():"function"===typeof a.map&&"function"===typeof a.forEach?a.map(h):"function"===typeof a.notifyChange&&"function"===typeof a.watch?a.clone():e({},a,h):a}function e(a,e,c){var b,g,f={};for(b in e){g=e[b];var d=!(b in f)||f[b]!==g;if(!(b in a)||a[b]!==
  g&&d)a[b]=c?c(g):g}return a}Object.defineProperty(a,"__esModule",{value:!0});a.fixJson=p;a.clone=h;a.equals=function(a,e){return a===e||"number"===typeof a&&isNaN(a)&&"number"===typeof e&&isNaN(e)||"function"===typeof(a||{}).getTime&&"function"===typeof(e||{}).getTime&&a.getTime()===e.getTime()||!1};a.mixin=function(a){void 0===a&&(a={});for(var f=1;f<arguments.length;f++);for(var f=1,c=arguments.length;f<c;f++)e(a,arguments[f]);return a}})},"esri/core/typedArrayUtil":function(){define(["require",
  "exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.forEach=function(a,p){if(a.forEach)a.forEach(p);else for(var h=0;h<a.length;h++)p(a[h],h,a)};a.slice=function(a,p,h){if(a.slice)return a.slice(p,h);void 0===p?p=0:(0>p&&(p+=a.length),p=Math.min(a.length,Math.max(0,p)));void 0===h?h=a.length:(0>h&&(h+=a.length),h=Math.min(a.length,Math.max(0,h)));h=Math.max(0,h-p);for(var e=new a.constructor(h),f=0;f<h;f++)e[f]=a[p+f];return e};a.isArrayBuffer=function(a){return a instanceof
  ArrayBuffer||a&&a.constructor&&"ArrayBuffer"===a.constructor.name};a.isInt8Array=function(a){return a instanceof Int8Array||a&&a.constructor&&"Int8Array"===a.constructor.name};a.isUint8Array=function(a){return a instanceof Uint8Array||a&&a.constructor&&"Uint8Array"===a.constructor.name};a.isUint8ClampedArray=function(a){return a instanceof Uint8ClampedArray||a&&a.constructor&&"Uint8ClampedArray"===a.constructor.name};a.isInt16Array=function(a){return a instanceof Int16Array||a&&a.constructor&&"Int16Array"===
  a.constructor.name};a.isUint16Array=function(a){return a instanceof Uint16Array||a&&a.constructor&&"Uint16Array"===a.constructor.name};a.isInt32Array=function(a){return a instanceof Int32Array||a&&a.constructor&&"Int32Array"===a.constructor.name};a.isUint32Array=function(a){return a instanceof Uint32Array||a&&a.constructor&&"Uint32Array"===a.constructor.name};a.isFloat32Array=function(a){return a instanceof Float32Array||a&&a.constructor&&"Float32Array"===a.constructor.name};a.isFloat64Array=function(a){return a instanceof
  Float64Array||a&&a.constructor&&"Float64Array"===a.constructor.name};a.toArray=function(a){for(var k=Array(a.length),h=0;h<a.length;h++)k[h]=a[h];return k}})},"esri/core/Message":function(){define(["require","exports","./object"],function(l,a,k){function p(a,e){return a.replace(/\$\{([^\s\:\}]*)(?:\:([^\s\:\}]+))?\}/g,function(a,h,c){if(""===h)return"$";a=k.getDeepValue(h,e);a=null==a?"":a;if("undefined"===typeof a)throw Error('could not find key "'+h+'" in template');return a.toString()})}return function(){function a(e,
  f,h){this instanceof a&&(this.name=e,this.message=f&&p(f,h)||"",this.details=h)}a.prototype.toString=function(){return"["+this.name+"]: "+this.message};return a}()})},"esri/core/object":function(){define(["require","exports"],function(l,a){function k(a,h,e){for(var f=0;f<a.length;f++){var m=a[f];if(null==e)return;if(!(m in e))if(h)e[m]={};else return;e=e[m]}return e}Object.defineProperty(a,"__esModule",{value:!0});a.getDeepValue=function(a,h){if(null!=h)return h[a]||k(a.split("."),!1,h)};a.setDeepValue=
  function(a,h,e){var f=a.split(".");a=f.pop();(e=k(f,!0,e))&&a&&(e[a]=h)}})},"esri/core/events":function(){define(["require","exports"],function(l,a){function k(a){return a&&("function"===typeof a.on||"function"===typeof a.addEventListener)}function p(a,e,f){if(!k(a))throw new TypeError("target is not a Evented or EventTarget object");if("on"in a)return a.on(e,f);if(Array.isArray(e)){for(var h=e.slice(),c=0;c<h.length;c++)a.addEventListener(h[c],f);return{remove:function(){for(var b=0;b<h.length;b++)a.removeEventListener(h[b],
  f)}}}a.addEventListener(e,f);return{remove:function(){a.removeEventListener(e,f)}}}Object.defineProperty(a,"__esModule",{value:!0});a.isEventTarget=k;a.on=p;a.once=function(a,e,f){if(!k(a))throw new TypeError("target is not a Evented or EventTarget object");if("once"in a)return a.once(e,f);var h=p(a,e,function(c){h.remove();f.call(a,c)});return{remove:function(){h.remove()}}};a.pausable=function(a,e,f){var h=!1,c=p(a,e,function(b){h||f.call(a,b)});return{resume:function(){h=!1},pause:function(){h=
  !0},remove:function(){c.remove()}}};a.ieKeyNormalizationMap={Win:"Meta",Scroll:"ScrollLock",Spacebar:" ",Down:"ArrowDown",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Del:"Delete",Apps:"ContextMenu",Esc:"Escape",Multiply:"*",Add:"+",Subtract:"-",Decimal:".",Divide:"/"};a.eventKey=function(h){h=h.key;return a.ieKeyNormalizationMap[h]||h}})},"esri/core/maybe":function(){define(["require","exports","./has"],function(l,a,k){function p(a,e,f){return null!=a?f(a):e}Object.defineProperty(a,"__esModule",
  {value:!0});a.isSome=function(a){return null!=a};a.isNone=function(a){return null==a};a.applySome=function(a,e){return null!=a?e(a):null};a.unwrap=function(a){return a};a.unwrapOr=function(a,e){return null!=a?a:"function"===typeof e?e():e};a.expect=function(a){return a};a.mapSome=function(a,e){var f=[];a.forEach(function(a){a=e(a);null!=a&&f.push(a)});return f};a.mapMany=function(a,e){for(var f=[],h=0;h<a.length;h++)f.push(p(a[h],null,e));return f};a.forEachSome=function(a,e){for(var f=0;f<a.length;f++)p(a[f],
  null,e)};a.mapOr=p;a.andThen=function(a,e){return null!=a?e(a):null};a.mapSomeFirst=function(a,e){for(var f=0;f<a.length;f++){var h=e(a[f]);if(null!=h)return h}return null};a.get=function(a){for(var e=[],f=1;f<arguments.length;f++)e[f-1]=arguments[f];for(var f=a,h=0;h<e.length&&f;)f=f[e[h++]];return f}})},"esri/core/has":function(){define(["require","exports","dojo/sniff","./global","../views/webgl/context-util"],function(l,a,k,p,h){function e(){if(m)return m;m={available:!1,version:0,majorPerformanceCaveat:!1,
  supportsHighPrecisionFragment:!1,supportsVertexShaderSamplers:!1,supportsElementIndexUint:!1,supportsStandardDerivatives:!1,supportsInstancedArrays:!1,supportsTextureFloat:!1};var a=document.createElement("canvas");if(!a)return m;var c=h.createContext(a,{failIfMajorPerformanceCaveat:!0},"webgl");!c&&(c=h.createContext(a,{},"webgl"))&&(m.majorPerformanceCaveat=!0);if(!c)return m;a=c.getParameter(c.VERSION);if(!a)return m;if(a=a.match(/^WebGL\s+([\d.]*)/)){m.version=parseFloat(a[1]);m.available=.94<=
  m.version;if(a=c.getShaderPrecisionFormat(c.FRAGMENT_SHADER,c.HIGH_FLOAT))m.supportsHighPrecisionFragment=0<a.precision;m.supportsVertexShaderSamplers=0<c.getParameter(c.MAX_VERTEX_TEXTURE_IMAGE_UNITS);m.supportsElementIndexUint=null!==c.getExtension("OES_element_index_uint");m.supportsStandardDerivatives=null!==c.getExtension("OES_standard_derivatives");m.supportsInstancedArrays=null!==c.getExtension("ANGLE_instanced_arrays");m.supportsTextureFloat=null!==c.getExtension("OES_texture_float")}return m}
  function f(){if(c)return c;c={available:!1,version:0};var a=document.createElement("canvas");if(!a)return c;a=h.createContext(a,{},"webgl2");if(!a)return c;c.available=!0;a=a.getParameter(a.VERSION);if(!a)return c;if(a=a.match(/^WebGL\s+([\d.]*)/))c.version=parseFloat(a[1]);return c}(function(){var a=navigator.userAgent,c=a.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini|IEMobile/i),a=a.match(/iPhone/i);c&&k.add("esri-mobile",c);a&&k.add("esri-iPhone",a);k.add("esri-geolocation",function(){return!!navigator.geolocation});
  k.add("esri-canvas-svg-support",function(){return!(k("trident")||k("ie"))});k.add("esri-secure-context",function(){if("isSecureContext"in p)return p.isSecureContext;if(p.location&&p.location.origin)return 0===p.location.origin.indexOf("https:")});k.add("esri-wasm","WebAssembly"in p);k.add("esri-shared-array-buffer","SharedArrayBuffer"in p);k.add("esri-workers","Worker"in p);k("host-webworker")||(k.add("esri-abortable-fetch","fetch"in p&&"signal"in new Request("https://www.arcgis.com")),k.add("esri-image-decode",
  function(){if("decode"in new Image){var a=new Image;a.src='data:image/svg+xml;charset\x3dUTF-8,\x3csvg version\x3d"1.1" xmlns\x3d"http://www.w3.org/2000/svg"\x3e\x3c/svg\x3e';a.decode().then(function(){k.add("esri-image-decode",!0,!0,!0)}).catch(function(){k.add("esri-image-decode",!1,!0,!0)})}else return!1}),k.add("esri-url-encodes-apostrophe",function(){var a=p.document.createElement("a");a.href="?'";return-1<a.href.indexOf("?%27")}),k.add("esri-webgl",function(){return e().available}),k.add("esri-webgl-high-precision-fragment",
  function(){return e().supportsHighPrecisionFragment}),k.add("esri-webgl-vertex-shader-samplers",function(){return e().supportsVertexShaderSamplers}),k.add("esri-webgl-element-index-uint",function(){return e().supportsElementIndexUint}),k.add("esri-webgl-standard-derivatives",function(){return e().supportsStandardDerivatives}),k.add("esri-webgl-texture-float",function(){return e().supportsTextureFloat}),k.add("esri-webgl-instanced-arrays",function(){return e().supportsInstancedArrays}),k.add("esri-webgl-major-performance-caveat",
  function(){return e().majorPerformanceCaveat}),k.add("esri-featurelayer-webgl",!0),k.add("esri-featurelayer-webgl-labeling",!0),k.add("esri-webgl2",function(){return f().available}))})();var m=null,c=null;return k})},"esri/views/webgl/context-util":function(){define(["require","exports"],function(l,a){function k(a,e,c){void 0===e&&(e={});var b;switch(c){case "webgl":b=["webgl","experimental-webgl","webkit-3d","moz-webgl"];break;case "webgl2":b=["webgl2"];break;default:b=["webgl","experimental-webgl",
  "webkit-3d","moz-webgl"]}c=null;for(var g=0;g<b.length;g++){var f=b[g];try{c=a.getContext(f,e)}catch(d){}if(c)break}return c}function p(a,e){(a=a.parentNode)&&(a.innerHTML='\x3ctable style\x3d"background-color: #8CE; width: 100%; height: 100%;"\x3e\x3ctr\x3e\x3ctd align\x3d"center"\x3e\x3cdiv style\x3d"display: table-cell; vertical-align: middle;"\x3e\x3cdiv style\x3d""\x3e'+e+"\x3c/div\x3e\x3c/div\x3e\x3c/td\x3e\x3c/tr\x3e\x3c/table\x3e")}Object.defineProperty(a,"__esModule",{value:!0});a.createContextOrErrorHTML=
  function(a,m,c){void 0===m&&(m={});if(!window.WebGLRenderingContext)return p(a,h),null;m=k(a,m,c);return m?m:(p(a,e),null)};a.createContext=k;var h='This page requires a browser that supports WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org"\x3eClick here to upgrade your browser.\x3c/a\x3e',e='It doesn\'t appear your computer can support WebGL.\x3cbr/\x3e\x3ca href\x3d"http://get.webgl.org/troubleshooting/"\x3eClick here for more information.\x3c/a\x3e'})},"@dojo/framework/shim/Promise":function(){(function(l){"object"===
  typeof module&&"object"===typeof module.exports?(l=l(require,exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&define("require exports tslib ./global ./support/queue ./Symbol ../has/has".split(" "),l)})(function(l,a){Object.defineProperty(a,"__esModule",{value:!0});var k=l("tslib"),p=l("./global"),h=l("./support/queue");l("./Symbol");l=l("../has/has");a.ShimPromise=p.default.Promise;a.isThenable=function(a){return a&&"function"===typeof a.then};l.default("es6-promise")||
  (p.default.Promise=a.ShimPromise=(e=function(){function f(e){var c=this;this.state=1;this[Symbol.toStringTag]="Promise";var b=!1,g=[],m=function(a){g&&g.push(a)},d=function(a,b){1===c.state&&(c.state=a,c.resolvedValue=b,m=h.queueMicroTask,g&&0<g.length&&h.queueMicroTask(function(){if(g){for(var a=g.length,b=0;b<a;++b)g[b].call(null);g=null}}))},k=function(g,f){1!==c.state||b||(a.isThenable(f)?(f.then(d.bind(null,0),d.bind(null,2)),b=!0):d(g,f))};this.then=function(a,b){return new f(function(d,g){m(function(){var f=
  2===c.state?b:a;if("function"===typeof f)try{d(f(c.resolvedValue))}catch(n){g(n)}else 2===c.state?g(c.resolvedValue):d(c.resolvedValue)})})};try{e(k.bind(null,0),k.bind(null,2))}catch(A){d(2,A)}}f.all=function(e){return new this(function(c,b){function g(a,b){d[a]=b;++m;l||m<p||c(d)}function h(d,c){++p;a.isThenable(c)?c.then(g.bind(null,d),b):f.resolve(c).then(g.bind(null,d))}var d=[],m=0,p=0,l=!0,y=0;try{for(var B=k.__values(e),C=B.next();!C.done;C=B.next())h(y,C.value),y++}catch(u){n={error:u}}finally{try{C&&
  !C.done&&(D=B.return)&&D.call(B)}finally{if(n)throw n.error;}}(l=!1,m<p)||c(d);var n,D})};f.race=function(a){return new this(function(c,b){try{for(var g=k.__values(a),e=g.next();!e.done;e=g.next()){var d=e.value;d instanceof f?d.then(c,b):f.resolve(d).then(c)}}catch(w){h={error:w}}finally{try{e&&!e.done&&(m=g.return)&&m.call(g)}finally{if(h)throw h.error;}}var h,m})};f.reject=function(a){return new this(function(c,b){b(a)})};f.resolve=function(a){return new this(function(c){c(a)})};f.prototype.catch=
  function(a){return this.then(void 0,a)};return f}(),e[Symbol.species]=a.ShimPromise,e));l.default("es2018-promise-finally")||(p.default.Promise.prototype.finally=function(a){return this.then(a&&function(f){return Promise.resolve(a()).then(function(){return f})},a&&function(f){return Promise.resolve(a()).then(function(){throw f;})})});a.default=a.ShimPromise;var e})},"@dojo/framework/shim/support/queue":function(){(function(l){"object"===typeof module&&"object"===typeof module.exports?(l=l(require,
  exports),void 0!==l&&(module.exports=l)):"function"===typeof define&&define.amd&&define(["require","exports","../global","../../has/has"],l)})(function(l,a){function k(a){a&&a.isActive&&a.callback&&a.callback()}function p(a,c){return{destroy:function(){this.destroy=function(){};a.isActive=!1;a.callback=null;c&&c()}}}Object.defineProperty(a,"__esModule",{value:!0});var h=l("../global"),e=l("../../has/has"),f,m;a.queueTask=function(){function a(a){a={isActive:!0,callback:a};var b=m(a);return p(a,c&&
  function(){c(b)})}var c,m;if(e.default("postmessage")){var d=[];h.default.addEventListener("message",function(a){a.source===h.default&&"dojo-queue-message"===a.data&&(a.stopPropagation(),d.length&&k(d.shift()))});m=function(a){d.push(a);h.default.postMessage("dojo-queue-message","*")}}else e.default("setimmediate")?(c=h.default.clearImmediate,m=function(a){return setImmediate(k.bind(null,a))}):(c=h.default.clearTimeout,m=function(a){return setTimeout(k.bind(null,a),0)});return e.default("microtasks")?
  a:function(b){f();return a(b)}}();if(!e.default("microtasks")){var c=!1;m=[];f=function(){c||(c=!0,a.queueTask(function(){c=!1;if(m.length)for(var a=void 0;a=m.shift();)k(a)}))}}a.queueAnimationTask=function(){function b(a){a={isActive:!0,callback:a};var b=requestAnimationFrame(k.bind(null,a));return p(a,function(){cancelAnimationFrame(b)})}return e.default("raf")?e.default("microtasks")?b:function(a){f();return b(a)}:a.queueTask}();a.queueMicroTask=function(){var a;if(e.default("host-node"))a=function(a){h.default.process.nextTick(k.bind(null,
  a))};else if(e.default("es6-promise"))a=function(a){h.default.Promise.resolve(a).then(k)};else if(e.default("dom-mutationobserver")){var c=h.default.MutationObserver||h.default.WebKitMutationObserver,t=document.createElement("div"),d=[];(new c(function(){for(;0<d.length;){var a=d.shift();a&&a.isActive&&a.callback&&a.callback()}})).observe(t,{attributes:!0});a=function(a){d.push(a);t.setAttribute("queueStatus","1")}}else a=function(a){f();m.push(a)};return function(b){b={isActive:!0,callback:b};a(b);
  return p(b)}}()})},"esri/support/revision":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.commitHash="a9fc9765e609426b067613d8e0c9986ad5725398"})},"esri/core/workers/RemoteClient":function(){define(["require","exports","../Error","../promiseUtils","./utils"],function(l,a,k,p,h){function e(a,b){a["delete"](b)}var f=h.MessageType.CLOSE,m=h.MessageType.ABORT,c=h.MessageType.INVOKE,b=h.MessageType.RESPONSE,g=h.MessageType.OPEN_PORT,t=function(){function a(a){this._timer=
  null;this._cancelledJobIds=new Set;this._invokeMessages=[];this._invoke=a;this._timer=null;this._process=this._process.bind(this)}a.prototype.push=function(a){a.type===h.MessageType.ABORT?this._cancelledJobIds.add(a.jobId):(this._invokeMessages.push(a),null===this._timer&&(this._timer=setTimeout(this._process,0)))};a.prototype.clear=function(){this._invokeMessages.length=0;this._cancelledJobIds.clear();this._timer=null};a.prototype._process=function(){this._timer=null;for(var a=0,b=this._invokeMessages;a<
  b.length;a++){var d=b[a];this._cancelledJobIds.has(d.jobId)||this._invoke(d)}this._cancelledJobIds.clear();this._invokeMessages.length=0};return a}();return function(){function a(a,b,d){var c=this;this._port=a;this._client=b;this._outJobs=new Map;this._inJobs=new Map;this._queue=new t(function(a){return c._onInvoke(a)});this._responseQueue=[];this._onMessage=this._onMessage.bind(this);this._port.addEventListener("message",this._onMessage);this._port.start();this._channel=d.channel;d.scheduler&&(this._frameTask=
  d.scheduler.registerTask(1,function(a){return c._update(a)},function(){return 0<c._responseQueue.length}))}a.connect=function(b){var d=new MessageChannel;b="function"===typeof b?new b:"default"in b&&"function"===typeof b.default?new b.default:b;b.remoteClient=new a(d.port1,b,{channel:d});return d.port2};a.prototype.close=function(){this._post({type:f});this._close()};a.prototype.isBusy=function(){return 0<this._outJobs.size};a.prototype.invoke=function(a,b,d){var g=this,f=d&&d.signal,t=d&&d.transferList;
  if(!this._port)return p.reject(new k("remote-client:port-closed","Can't invoke(), port is closed"));var n=h.newJobId(),l=function(){var a=g._outJobs.get(n);a&&(e(g._outJobs,n),g._post({type:m,jobId:n}),a.reject(p.createAbortError()))};return p.create(function(d,e){p.onAbortOrThrow(f,function(){l();e(p.createAbortError())});g._outJobs.set(n,{resolve:d,reject:e});g._post({type:c,jobId:n,methodName:a,abortable:!0},b,t)},l)};a.prototype.openPort=function(){var a=this,b=h.newJobId(),d=function(){e(a._outJobs,
  b);a._post({type:m,jobId:b})};return p.create(function(c,f){a._outJobs.set(b,{resolve:c,reject:f,signal:d});a._post({type:g,jobId:b})},d)};a.prototype._close=function(){this._channel&&(this._channel=null);this._port.removeEventListener("message",this._onMessage);this._port.close();this._outJobs.forEach(function(a){return a.reject(p.createAbortError("Abort job: worker closing"))});this._inJobs.clear();this._outJobs.clear();this._queue.clear();this._port=this._client=null;this._frameTask&&this._frameTask.remove();
  this._responseQueue=this._frameTask=null};a.prototype._onMessage=function(a){if(a=h.receiveMessage(a))switch(a.type){case b:this._onResponse(a);break;case c:this._queue.push(a);break;case m:this._onAbort(a);break;case f:this._onClose();break;case g:this._onOpenPort(a)}};a.prototype._onAbort=function(a){var b=this._inJobs,d=a.jobId,c=b.get(d);this._queue.push(a);c&&(c.controller&&c.controller.abort(),e(b,d))};a.prototype._onClose=function(){var a=this._client;this._close();a&&a.remoteClient===this&&
  "destroy"in a&&a.destroy();a.remoteClient=null};a.prototype._onInvoke=function(a){var d=this,c=a.methodName,g=a.jobId,f=a.data;a=a.abortable?p.createAbortController():null;var m=this._inJobs,n=this._client,k=n[c],u;try{if(!k&&c&&-1!==c.indexOf("."))for(var t=c.split("."),l=0;l<t.length-1;l++)n=n[t[l]],k=n[t[l+1]];if("function"!==typeof k)throw new TypeError(c+" is not a function");u=k.call(n,f,{client:this,signal:a?a.signal:null})}catch(I){this._post({type:b,jobId:g,error:h.toInvokeError(I)});return}if(p.isThenable(u)){m.set(g,
  {controller:a,promise:u});if(a&&"cancel"in u)p.onAbort(a.signal,function(){return u.cancel()});u.then(function(a){m.has(g)&&(e(m,g),d._post({type:b,jobId:g},a))}).catch(function(a){m.has(g)&&(e(m,g),p.isAbortError(a)||d._post({type:b,jobId:g,error:h.toInvokeError(a||{message:"Error encountered at method "+c})}))})}else this._post({type:b,jobId:g},u)};a.prototype._onOpenPort=function(d){var c=new MessageChannel;new a(c.port1,this._client,{});this._post({type:b,jobId:d.jobId},c.port2,[c.port2])};a.prototype._onResponse=
  function(a){this._frameTask?this._responseQueue.push(a):this._handleResponse(a)};a.prototype._update=function(a){for(;!a.done&&0<this._responseQueue.length;)this._handleResponse(this._responseQueue.shift()),a.madeProgress()};a.prototype._handleResponse=function(a){var b=a.jobId,d=a.error;a=a.data;var c=this._outJobs;if(c.has(b)){var g=c.get(b);e(c,b);d?g.reject(k.fromJSON(JSON.parse(d))):g.resolve(a)}};a.prototype._post=function(a,b,d){return h.postMessage(this._port,a,b,d)};return a}()})},"esri/core/workers/utils":function(){define(["require",
  "exports","../has"],function(l,a,k){function p(a){return a&&"object"===typeof a&&("result"in a||"transferList"in a)}function h(a){return a instanceof ArrayBuffer||a&&a.constructor&&"ArrayBuffer"===a.constructor.name}Object.defineProperty(a,"__esModule",{value:!0});(function(a){a[a.HANDSHAKE=0]="HANDSHAKE";a[a.CONFIGURE=1]="CONFIGURE";a[a.CONFIGURED=2]="CONFIGURED";a[a.OPEN=3]="OPEN";a[a.OPENED=4]="OPENED";a[a.RESPONSE=5]="RESPONSE";a[a.INVOKE=6]="INVOKE";a[a.ABORT=7]="ABORT";a[a.CLOSE=8]="CLOSE";
  a[a.OPEN_PORT=9]="OPEN_PORT"})(a.MessageType||(a.MessageType={}));var e=0;a.newJobId=function(){return e++};a.isTranferableResult=p;a.toInvokeError=function(a){return a?a.toJSON?JSON.stringify(a):JSON.stringify({name:a.name,message:a.message,details:a.details,stack:a.stack}):null};a.postMessage=function(a,e,c,b){2===arguments.length||void 0===c&&void 0===b?a.postMessage(e):(k("esri-workers-arraybuffer-transfer")||(b?(b=b.filter(function(a){return!h(a)}),b.length||(b=null)):p(c)&&c.transferList&&(c.transferList=
  c.transferList.filter(function(a){return!h(a)}),c.transferList.length||(c.transferList=null))),b?(e.data=c,a.postMessage(e,b)):p(c)?(e.data=c.result,c.transferList?a.postMessage(e,c.transferList):a.postMessage(e)):(e.data=c,a.postMessage(e)))};a.receiveMessage=function(a){return a?(a=a.data)?"string"===typeof a?JSON.parse(a):a:null:null}})},"esri/core/workers/request":function(){define(["require","exports","../tsSupport/assignHelper","../Error","../global"],function(l,a,k,p,h){Object.defineProperty(a,
  "__esModule",{value:!0});var e;a.execute=function(a,m){void 0===m&&(m={});var c=m.responseType;c?"json"!==c&&"text"!==c&&"blob"!==c&&"array-buffer"!==c&&(c="text"):c="json";var b=m&&m.signal;delete m.signal;return h.invokeStaticMessage("request",{url:a,options:m},{signal:b}).then(function(b){var g=b.data,d,f,h;if(g&&("json"===c||"text"===c||"blob"===c)&&(d=new Blob([g]),"json"===c||"text"===c)&&(e||(e=new FileReaderSync),f=e.readAsText(d),"json"===c)){try{h=JSON.parse(f||null)}catch(w){throw b=k({},
  w,{url:a,requestOptions:m}),new p("request:server",w.message,b);}if(h.error)throw b=k({},h.error,{url:a,requestOptions:m}),new p("request:server",h.error.message,b);}switch(c){case "json":break;case "text":h=f;break;case "blob":h=d;break;default:h=g}return{data:h,requestOptions:m,ssl:b.ssl,url:a}})}})},"esri/core/tsSupport/assignHelper":function(){define([],function(){return Object.assign||function(l){for(var a,k=1,p=arguments.length;k<p;k++){a=arguments[k];for(var h in a)Object.prototype.hasOwnProperty.call(a,
  h)&&(l[h]=a[h])}return l}})},"esri/views/2d/engine/vectorTiles/WorkerTileHandler":function(){define("require exports ../../../../core/promiseUtils ./WorkerTile ./style/StyleRepository ../../tiling/enums".split(" "),function(l,a,k,p,h,e){return function(){function a(){this._tiles=new Map;this._spriteInfo={};this._glyphInfo={}}a.prototype.reset=function(){this._spriteInfo={};this._glyphInfo={};var a=this._tiles;a.forEach(function(a){return a.setObsolete()});a.clear();return k.resolve()};a.prototype.getLayers=
  function(){return this._layers};a.prototype.setLayers=function(a){this._layers=(new h(a)).layers;return k.resolve({data:""})};a.prototype.createTileAndParse=function(a,c){for(var b=this,g=a.key,f=a.cacheTile,d=p.pool.acquire(),h={},m=0,l=Object.keys(a.sourceName2DataAndRefKey);m<l.length;m++){var y=l[m];h[y]=a.sourceName2DataAndRefKey[y].refKey}d.initialize(g,h,this,a.rotation);return d.setDataAndParse(a.sourceName2DataAndRefKey,c).then(function(a){f&&d.status!==e.TileStatus.INVALID&&b._tiles.set(g,
  d);return a}).catch(function(a){d.setObsolete();p.pool.release(d);if(b._tiles.has(d.tileKey))b._tiles["delete"](d.tileKey);return k.reject(a)}).catch(function(a){return a}).then(function(a){f||p.pool.release(d);return a})};a.prototype.updateSymbols=function(a){var c=this._tiles.get(a.key);return c?c.updateSymbols(a.rotation):k.reject()};a.prototype.updateStyle=function(a,c){this._layers=(new h(a)).layers;this._tiles.forEach(function(a,g){a.reparse(c).then(function(b){c.client.invoke("updateTileData",
  {tileId:a.tileKey,tileData:b.result})})});return k.resolve({data:""})};a.prototype.destructTileData=function(a){this._tiles.has(a)&&(p.pool.release(this._tiles.get(a)),this._tiles["delete"](a));return k.resolve()};a.prototype.fetchSprites=function(a,c,b){var g=[],e=this._spriteInfo;a.forEach(function(a){void 0===e[a]&&g.push(a)});return 0===g.length?k.resolve():c.invoke("getSprites",g,{signal:b&&b.signal}).then(function(a){for(var b in a)e[b]=a[b]})};a.prototype.getSpriteItems=function(){return this._spriteInfo};
  a.prototype.fetchGlyphs=function(a,c,b,g,e){var d=[],f=this._glyphInfo[c];f?b.forEach(function(a){f[a]||d.push(a)}):(f=this._glyphInfo[c]=[],b.forEach(function(a){return d.push(a)}));return 0===d.length?k.resolve():g.invoke("getGlyphs",{tileID:a,font:c,codePoints:d},e).then(function(a){for(var b in a)f[b]=a[b]})};a.prototype.getGlyphItems=function(a){return this._glyphInfo[a]};return a}()})},"esri/views/2d/engine/vectorTiles/WorkerTile":function(){define("require exports ../../../../core/tsSupport/generatorHelper ../../../../core/tsSupport/awaiterHelper ../../../../core/asyncUtils ../../../../core/executeAsync ../../../../core/maybe ../../../../core/ObjectPool ../../../../core/promiseUtils ./BackgroundBucket ./CircleBucket ./FillBucket ./GeometryUtils ./IndexMemoryBuffer ./LineBucket ./Placement ./SymbolBucket ./TileParser ./VertexMemoryBuffer ../../tiling/enums".split(" "),
  function(l,a,k,p,h,e,f,m,c,b,g,t,d,v,A,w,y,B,C,n){return function(){function a(){this.rotation=0;this.status=n.TileStatus.INITIALIZED;this._symbolBuckets=[];this.placementEngine=new w.PlacementEngine;this.fillVertexBuffer=new C.FillVertexBuffer(!1);this.fillDDVertexBuffer=new C.FillVertexBuffer(!0);this.fillIndexBuffer=new v.TriangleIndexBuffer;this.outlineVertexBuffer=new C.OutlineVertexBuffer(!1);this.outlineDDVertexBuffer=new C.OutlineVertexBuffer(!0);this.outlineIndexBuffer=new v.TriangleIndexBuffer;
  this.lineVertexBuffer=new C.LineVertexBuffer(!1);this.lineDDVertexBuffer=new C.LineVertexBuffer(!0);this.lineIndexBuffer=new v.TriangleIndexBuffer;this.iconVertexBuffer=new C.SymbolVertexBuffer(!1);this.iconDDVertexBuffer=new C.SymbolVertexBuffer(!0);this.iconIndexBuffer=new v.TriangleIndexBuffer;this.textVertexBuffer=new C.SymbolVertexBuffer(!1);this.textDDVertexBuffer=new C.SymbolVertexBuffer(!0);this.textIndexBuffer=new v.TriangleIndexBuffer;this.circleVertexBuffer=new C.CircleVertexBuffer;this.circleIndexBuffer=
  new v.TriangleIndexBuffer}a.prototype.initialize=function(a,b,c,g){void 0===g&&(g=0);this.tileKey=a;this.refKeys=b;this._workerTileHandler=c;this.rotation=g;this.placementEngine.setAngle(d.C_DEG_TO_RAD*g)};a.prototype.release=function(){this.tileKey="";this.refKeys=null;this.status=n.TileStatus.INITIALIZED;this.rotation=0;this.resetData();this._workerTileHandler=null};a.prototype.resetData=function(){this.fillVertexBuffer.reset();this.fillDDVertexBuffer.reset();this.fillIndexBuffer.reset();this.outlineVertexBuffer.reset();
  this.outlineDDVertexBuffer.reset();this.outlineIndexBuffer.reset();this.lineVertexBuffer.reset();this.lineDDVertexBuffer.reset();this.lineIndexBuffer.reset();this.iconVertexBuffer.reset();this.iconDDVertexBuffer.reset();this.iconIndexBuffer.reset();this.textVertexBuffer.reset();this.textDDVertexBuffer.reset();this.textIndexBuffer.reset();this.circleVertexBuffer.reset();this.circleIndexBuffer.reset();this.placementEngine.reset();this._symbolBuckets.length=0};a.prototype.reparse=function(a){this.resetData();
  return this.setDataAndParse(this._data,a)};a.prototype.setDataAndParse=function(a,d){var c=this,e=d&&d.signal;if(f.isSome(e)){var u=function(){e.removeEventListener("abort",u);c.status=n.TileStatus.INVALID};e.addEventListener("abort",u)}this._data=a;return h.safeCast(this._parse(a,d)).then(function(a){c.status=n.TileStatus.READY;for(var d=new Uint32Array([1,c.fillVertexBuffer.sizeInBytes,2,c.fillDDVertexBuffer.sizeInBytes,3,c.fillIndexBuffer.sizeInBytes,4,c.outlineVertexBuffer.sizeInBytes,5,c.outlineDDVertexBuffer.sizeInBytes,
  6,c.outlineIndexBuffer.sizeInBytes,7,c.lineVertexBuffer.sizeInBytes,8,c.lineDDVertexBuffer.sizeInBytes,9,c.lineIndexBuffer.sizeInBytes,10,c.iconVertexBuffer.sizeInBytes,11,c.iconDDVertexBuffer.sizeInBytes,12,c.iconIndexBuffer.sizeInBytes,13,c.textVertexBuffer.sizeInBytes,14,c.textDDVertexBuffer.sizeInBytes,15,c.textIndexBuffer.sizeInBytes,16,c.circleVertexBuffer.sizeInBytes,17,c.circleIndexBuffer.sizeInBytes]),e=[],f=a.length,u=0;u<f;u++){var h=a[u];if(h instanceof t)e.push(h.layerIndex),e.push(1),
  e.push(h.fillIndexStart),e.push(h.fillIndexCount),e.push(h.outlineIndexStart),e.push(h.outlineIndexCount);else if(h instanceof A)e.push(h.layerIndex),e.push(2),e.push(h.lineIndexStart),e.push(h.lineIndexCount);else if(h instanceof y){e.push(h.layerIndex);e.push(3);e.push(h.sdfMarker?1:0);var k=h.markerPageMap;e.push(k.size);k.forEach(function(a,b){e.push(b);e.push(a[0]);e.push(a[1])});h=h.glyphsPageMap;e.push(h.size);h.forEach(function(a,b){e.push(b);e.push(a[0]);e.push(a[1])})}else h instanceof g?
  (e.push(h.layerIndex),e.push(4),e.push(h.circleIndexStart),e.push(h.circleIndexCount)):h instanceof b&&(e.push(h.layerIndex),e.push(0))}a=new Uint32Array(e);var f=c.fillVertexBuffer.toBuffer(),u=c.fillDDVertexBuffer.toBuffer(),h=c.fillIndexBuffer.toBuffer(),k=c.outlineVertexBuffer.toBuffer(),m=c.outlineDDVertexBuffer.toBuffer(),p=c.outlineIndexBuffer.toBuffer(),l=c.lineVertexBuffer.toBuffer(),v=c.lineDDVertexBuffer.toBuffer(),w=c.lineIndexBuffer.toBuffer(),D=c.iconVertexBuffer.toBuffer(),L=c.iconDDVertexBuffer.toBuffer(),
  z=c.iconIndexBuffer.toBuffer(),B=c.textVertexBuffer.toBuffer(),F=c.textDDVertexBuffer.toBuffer(),C=c.textIndexBuffer.toBuffer(),J=c.circleVertexBuffer.toBuffer(),I=c.circleIndexBuffer.toBuffer();return{result:{bufferDataInfo:d.buffer,bucketDataInfo:a.buffer,bufferData:[f,u,h,k,m,p,l,v,w,D,L,z,B,F,C,J,I]},transferList:[f,u,h,k,m,p,l,v,w,D,L,z,B,F,C,J,I,d.buffer,a.buffer]}})};a.prototype.addBucket=function(a){this._symbolBuckets.push(a)};a.prototype.updateSymbols=function(a){var b=this,g=this._symbolBuckets;
  if(!g||0===g.length)return c.resolve();this.rotation=a;var f=this.placementEngine;f.reset();f.setAngle(a/256*360*d.C_DEG_TO_RAD);var h=this.iconVertexBuffer;h.reset();var u=this.iconDDVertexBuffer;u.reset();var k=this.iconIndexBuffer;k.reset();var m=this.textVertexBuffer;m.reset();var p=this.textDDVertexBuffer;p.reset();var t=this.textIndexBuffer;t.reset();var l=[],v=g.length,w=0;return e(function(){if(b.status===n.TileStatus.INVALID||b.status===n.TileStatus.INITIALIZED)return!0;if(w<v){var a=g[w++];
  if(a&&a.layer){var d=a.layer;if(a=a.copy(d.hasDataDrivenIcon?u:h,k,d.hasDataDrivenText?p:m,t,f))l.push(a),a.updateSymbols()}}return w>=v}).then(function(){if(b.status===n.TileStatus.INVALID||b.status===n.TileStatus.INITIALIZED||0===h.sizeInBytes&&0===u.sizeInBytes&&0===k.sizeInBytes&&0===m.sizeInBytes&&0===p.sizeInBytes&&0===t.sizeInBytes)return{result:null,transferList:null};var a=new Uint32Array([10,h.sizeInBytes,11,u.sizeInBytes,12,k.sizeInBytes,13,m.sizeInBytes,14,p.sizeInBytes,15,t.sizeInBytes]),
  d=[];v=l.length;for(var c=0;c<v;c++){var g=l[c];d.push(g.layerIndex);d.push(3);d.push(g.sdfMarker?1:0);var e=g.markerPageMap;d.push(e.size);e.forEach(function(a,b){d.push(b);d.push(a[0]);d.push(a[1])});g=g.glyphsPageMap;d.push(g.size);g.forEach(function(a,b){d.push(b);d.push(a[0]);d.push(a[1])})}var c=new Uint32Array(d),g=h.toBuffer(),e=u.toBuffer(),f=k.toBuffer(),w=m.toBuffer(),A=p.toBuffer(),y=t.toBuffer();return{result:{bufferDataInfo:a.buffer,bucketDataInfo:c.buffer,bufferData:[g,e,f,w,A,y]},
  transferList:[g,e,f,w,A,y,a.buffer,c.buffer]}}).catch(function(){return null})};a.prototype.setObsolete=function(){this.status=n.TileStatus.INVALID};a.prototype.getLayers=function(){return this._workerTileHandler.getLayers()};a.prototype.getWorkerTileHandler=function(){return this._workerTileHandler};a.prototype._parse=function(a,b){return p(this,void 0,void 0,function(){var d;return k(this,function(c){if(0===Object.keys(a).length)return[2,[]];this.status=n.TileStatus.MODIFIED;d=new B(a,this,b.client);
  return[2,d.parse(b)]})})};a.pool=new m(a);return a}()})},"esri/core/tsSupport/generatorHelper":function(){define([],function(){return function(l,a){function k(a){return function(b){return p([a,b])}}function p(b){if(e)throw new TypeError("Generator is already executing.");for(;h;)try{if(e=1,f&&(m=b[0]&2?f["return"]:b[0]?f["throw"]||((m=f["return"])&&m.call(f),0):f.next)&&!(m=m.call(f,b[1])).done)return m;if(f=0,m)b=[b[0]&2,m.value];switch(b[0]){case 0:case 1:m=b;break;case 4:return h.label++,{value:b[1],
  done:!1};case 5:h.label++;f=b[1];b=[0];continue;case 7:b=h.ops.pop();h.trys.pop();continue;default:if(!(m=h.trys,m=0<m.length&&m[m.length-1])&&(6===b[0]||2===b[0])){h=0;continue}if(3===b[0]&&(!m||b[1]>m[0]&&b[1]<m[3]))h.label=b[1];else if(6===b[0]&&h.label<m[1])h.label=m[1],m=b;else if(m&&h.label<m[2])h.label=m[2],h.ops.push(b);else{m[2]&&h.ops.pop();h.trys.pop();continue}}b=a.call(l,h)}catch(g){b=[6,g],f=0}finally{e=m=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}var h={label:0,sent:function(){if(m[0]&
  1)throw m[1];return m[1]},trys:[],ops:[]},e,f,m,c;return c={next:k(0),"throw":k(1),"return":k(2)},"function"===typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c}})},"esri/core/tsSupport/awaiterHelper":function(){define(["../promiseUtils"],function(l){return function(a,k,p,h){var e=null;return l.create(function(f,m){function c(a){try{g(h.next(a))}catch(d){m(d)}}function b(a){try{g(h["throw"](a))}catch(d){m(d)}}function g(a){a.done?(e=l.when(a.value),e.then(f,m)):(e=l.when(a.value),e.then(c,
  b))}g((h=h.apply(a,k||[])).next())},function(a){e&&e.cancel(a)})}})},"esri/core/asyncUtils":function(){define(["require","exports","./tsSupport/generatorHelper","./tsSupport/awaiterHelper","./promiseUtils"],function(l,a,k,p,h){Object.defineProperty(a,"__esModule",{value:!0});a.forEach=function(a,f,k){return h.eachAlways(a.map(function(a,b){return f.apply(k,[a,b])}))};a.map=function(a,f,k){return h.eachAlways(a.map(function(a,b){return f.apply(k,[a,b])})).then(function(a){return a.map(function(a){return a.value})})};
  a.result=function(a){return a.then(function(a){return{ok:!0,value:a}}).catch(function(a){return{ok:!1,error:a}})};a.assertResult=function(a){if(!0===a.ok)return a.value;throw a.error;};a.safeCast=function(a){return a};a.safeCastFunction=function(a){return a}})},"esri/core/executeAsync":function(){define("require exports ./has ./nextTick ./now ./promiseUtils".split(" "),function(l,a,k,p,h,e){function f(){var a=0===c.length;if(!a){for(var d=h();!a&&h()-d<m;){var e=c[g];if(e){if(!0===e()){var k=b.get(e);
  c[g]=null;b.delete(e);k()}g=(g+1)%c.length}else c.splice(g,1),g=(a=0===c.length)?0:g%c.length}a||p(f)}}var m=k("host-browser")?6:200,c=[],b=new Map,g=0;return function(a){return a?e.create(function(d){c.push(a);b.set(a,d);1===c.length&&p(f)},function(){c[c.indexOf(a)]=null;b.delete(a)}):e.reject(new TypeError("callback is not a function"))}})},"esri/core/nextTick":function(){define(["require","exports","./global"],function(l,a,k){function p(){if(k.postMessage&&!k.importScripts){var a=k.onmessage,
  c=!0;k.onmessage=function(){c=!1};k.postMessage("","*");k.onmessage=a;return c}return!1}function h(a){m.push(a);1===m.length&&f(function(){for(var a=0,b=c;a<b.length;a++)(0,b[a])();a=m.slice();for(b=m.length=0;b<a.length;b++)(0,a[b])()})}var e=k.MutationObserver||k.WebKitMutationObserver,f=function(){if(k.process&&k.process.nextTick)return function(a){k.process.nextTick(a)};if(k.Promise)return function(a){k.Promise.resolve().then(a)};if(e){var a=[],c=document.createElement("div");(new e(function(){for(;0<
  a.length;)a.shift()()})).observe(c,{attributes:!0});return function(b){a.push(b);c.setAttribute("queueStatus","1")}}if(p()){var f=[];k.addEventListener("message",function(a){if(a.source===k&&"esri-nexttick-message"===a.data)for(a.stopPropagation();f.length;)f.shift()()},!0);return function(a){f.push(a);k.postMessage("esri-nexttick-message","*")}}return k.setImmediate?function(a){return k.setImmediate(a)}:function(a){return k.setTimeout(a,0)}}(),m=[],c=[];(function(a){a.before=function(a){c.push(a);
  return{remove:function(){c=c.filter(function(b){return b!==a})}}}})(h||(h={}));return h})},"esri/core/now":function(){define(["require","exports","./global"],function(l,a,k){return function(){var a=k.performance||{};if(a.now)return function(){return a.now()};if(a.webkitNow)return function(){return a.webkitNow()};if(a.mozNow)return function(){return a.mozNow()};if(a.msNow)return function(){return a.msNow()};if(a.oNow)return function(){return a.oNow()};var h;h=a.timing&&a.timing.navigationStart?a.timing.navigationStart:
  Date.now();return function(){return Date.now()-h}}()})},"esri/core/ObjectPool":function(){define(["require","exports"],function(l,a){var k=function(){return function(){}}();return function(){function a(a,e,f,k,c){void 0===k&&(k=1);void 0===c&&(c=0);this.classConstructor=a;this.acquireFunctionOrWithConstructor=e;this.releaseFunction=f;this.growthSize=k;!0===e?this.acquireFunction=this._constructorAcquireFunction:"function"===typeof e&&(this.acquireFunction=e);this._pool=Array(c);this._initialSize=
  c;if(this.classConstructor)for(a=0;a<c;a++)this._pool[a]=new this.classConstructor;this.growthSize=Math.max(k,1)}a.prototype.destroy=function(){this.prune(0)};a.prototype.acquire=function(){for(var a=[],e=0;e<arguments.length;e++)a[e]=arguments[e];e=this.classConstructor||k;if(0===this._pool.length)for(var f=this.growthSize,m=0;m<f;m++)this._pool[m]=new e;e=this._pool.pop();this.acquireFunction?this.acquireFunction.apply(this,[e].concat(a)):e&&e.acquire&&"function"===typeof e.acquire&&e.acquire.apply(e,
  a);return e};a.prototype.release=function(a){a&&(this.releaseFunction?this.releaseFunction(a):a&&a.release&&"function"===typeof a.release&&a.release(),this._pool.push(a))};a.prototype.prune=function(a){void 0===a&&(a=this._initialSize);if(!(a>=this._pool.length)){for(var e=a;e<this._pool.length;++e)this._dispose(this._pool[e]);this._pool.length=a}};a.prototype._dispose=function(a){a.dispose&&"function"===typeof a.dispose&&a.dispose()};a.prototype._constructorAcquireFunction=function(a){for(var e=
  [],f=1;f<arguments.length;f++)e[f-1]=arguments[f];var h;this.classConstructor&&(h=this.classConstructor).call.apply(h,[a].concat(e))};return a}()})},"esri/views/2d/engine/vectorTiles/BackgroundBucket":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","./Bucket"],function(l,a,k,p){return function(a){function e(e,h){return a.call(this,e,h)||this}k(e,a);return e}(p)})},"esri/views/2d/engine/vectorTiles/Bucket":function(){define(["require","exports"],function(l,a){return function(){function a(a,
  h){this.layerExtent=4096;this._features=[];this.layer=a;this.zoom=h;this._filter=a.getFeatureFilter()}a.prototype.pushFeature=function(a){this._filter.filter(a)&&this._features.push(a)};a.prototype.hasFeatures=function(){return 0<this._features.length};a.prototype.processFeatures=function(a,h){};a.prototype.assignBufferInfo=function(a){};return a}()})},"esri/views/2d/engine/vectorTiles/CircleBucket":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","./Bucket"],function(l,
  a,k,p){return function(a){function e(e,h,c,b){e=a.call(this,e,h)||this;e._circleVertexBuffer=c;e._circleIndexBuffer=b;return e}k(e,a);Object.defineProperty(e.prototype,"circleIndexStart",{get:function(){return this._circleIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(e.prototype,"circleIndexCount",{get:function(){return this._circleIndexCount},enumerable:!0,configurable:!0});e.prototype.assignBufferInfo=function(a){a._circleIndexStart=this._circleIndexStart;a._circleIndexCount=
  this._circleIndexCount};e.prototype.processFeatures=function(a,e){e=this._circleVertexBuffer;var c=this._circleIndexBuffer;this._circleIndexStart=c.index;this._circleIndexCount=0;var b=this.layer,g=this.zoom;a&&a.setExtent(this.layerExtent);for(var f=1,d=[1,1,1,1],h=1,k=0,m=1,p=[1,1,1,1],l=1,C=0,n=this._features;C<n.length;C++){var D=n[C],u=D.getGeometry(a);if(u)for(b.hasDataDrivenRadius&&(f=b.getPaintValue("circle-radius",g,D)),b.hasDataDrivenColor&&(d=b.getPaintValue("circle-color",g,D)),b.hasDataDrivenOpacity&&
  (h=b.getPaintValue("circle-opacity",g,D)),b.hasDataDrivenStrokeWidth&&(m=b.getPaintValue("circle-stroke-width",g,D)),b.hasDataDrivenStrokeColor&&(p=b.getPaintValue("circle-stroke-color",g,D)),b.hasDataDrivenStrokeOpacity&&(l=b.getPaintValue("circle-stroke-opacity",g,D)),b.hasDataDrivenBlur&&(k=b.getPaintValue("circle-blur",g,D)),D=0;D<u.length;D++){var z=u[D];if(z)for(var F=0;F<z.length;F++){var I=z[F],J=e.index;e.add(I.x,I.y,0,0,f,d,h,k,m,p,l);e.add(I.x,I.y,0,1,f,d,h,k,m,p,l);e.add(I.x,I.y,1,0,f,
  d,h,k,m,p,l);e.add(I.x,I.y,1,1,f,d,h,k,m,p,l);c.add(J+0,J+1,J+2);c.add(J+1,J+2,J+3);this._circleIndexCount+=6}}}};return e}(p)})},"esri/views/2d/engine/vectorTiles/FillBucket":function(){define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/ArrayPool ../../../../core/libs/earcut/earcut ./Bucket ../webgl/Geometry".split(" "),function(l,a,k,p,h,e,f){return function(a){function c(b,c,e,d,f,h){c=a.call(this,b,c)||this;if(b.hasDataDrivenFill!==e.isDataDriven())throw Error("incompatible fill buffer");
  if(b.hasDataDrivenOutline!==f.isDataDriven())throw Error("incompatible outline buffer");c._fillVertexBuffer=e;c._fillIndexBuffer=d;c._outlineVertexBuffer=f;c._outlineIndexBuffer=h;return c}k(c,a);Object.defineProperty(c.prototype,"fillIndexStart",{get:function(){return this._fillIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"fillIndexCount",{get:function(){return this._fillIndexCount},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"outlineIndexStart",
  {get:function(){return this._outlineIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(c.prototype,"outlineIndexCount",{get:function(){return this._outlineIndexCount},enumerable:!0,configurable:!0});c.prototype.assignBufferInfo=function(a){a._fillIndexStart=this._fillIndexStart;a._fillIndexCount=this._fillIndexCount;a.layer.getPaintProperty("fill-outline-color")?(a._outlineIndexStart=this._outlineIndexStart,a._outlineIndexCount=this._outlineIndexCount):(a._outlineIndexStart=0,a._outlineIndexCount=
  0)};c.prototype.processFeatures=function(a,c){this._fillIndexStart=this._fillIndexBuffer.index;this._fillIndexCount=0;this._outlineIndexStart=this._outlineIndexBuffer.index;this._outlineIndexCount=0;c=this.layer;var b=this.zoom,d=c.hasDataDrivenFill,g=c.hasDataDrivenOutline;a&&a.setExtent(this.layerExtent);var e=c.getPaintValue("fill-pattern",b),f=c.getPaintValue("fill-antialias",b)&&void 0===e,h=[1,1,1,1],k=[1,1,1,1],m=1;if(c.outlineUsesFillColor){if(f&&!c.hasDataDrivenOpacity){var n=c.getPaintValue("fill-opacity",
  b),p=c.getPaintValue("fill-opacity",b+1);1>n&&1>p&&(f=!1)}f&&!c.hasDataDrivenColor&&(n=c.getPaintValue("fill-color",b),p=c.getPaintValue("fill-color",b+1),1>n[3]&&1>p[3]&&(f=!1))}n=0;for(p=this._features;n<p.length;n++){var u=p[n];!e&&c.hasDataDrivenColor&&(h=c.getPaintValue("fill-color",b,u));c.hasDataDrivenOpacity&&(m=c.getPaintValue("fill-opacity",b,u));!e&&c.hasDataDrivenOutlineColor&&(k=c.getPaintValue("fill-outline-color",b,u));var l=void 0;d&&(l={color:h,opacity:m});var F=void 0;g&&(F={color:c.outlineUsesFillColor?
  h:k,opacity:m});u=u.getGeometry(a);this._processFeature(u,f,c.outlineUsesFillColor,l,F)}};c.prototype._processFeature=function(a,g,e,d,f){if(a){var b=a.length;if(g&&(!e||!f||1===f.color[3]*f.opacity))for(g=0;g<b;g++)this._processOutline(a[g],f);var h;for(g=0;g<b;g++)f=c._area(a[g]),128<f?(void 0!==h&&this._processFill(a,h,d),h=[g]):-128>f&&void 0!==h&&h.push(g);void 0!==h&&this._processFill(a,h,d)}};c.prototype._processOutline=function(a,c){var b=this._outlineVertexBuffer,d=this._outlineIndexBuffer,
  g=d.index,e,h,k,m=new f.Point(0,0),p=new f.Point(0,0),n=new f.Point(0,0),l=-1,u=-1,z=-1,F=-1,I=-1,J=!1,L=a.length;if(!(2>L)){var G=a[0];for(e=a[L-1];L&&e.isEqual(G);)--L,e=a[L-1];if(!(2>L-0)){for(G=0;G<L;++G){0===G?(e=a[L-1],h=a[0],k=a[1],m.assignSub(h,e),m.normalize(),m.rightPerpendicular()):(e=h,h=k,k=G!==L-1?a[G+1]:a[0],m.assign(p));e=this._isClipEdge(e,h);-1===F&&(J=e);p.assignSub(k,h);p.normalize();p.rightPerpendicular();z=m.x*p.y-m.y*p.x;n.assignAdd(m,p);n.normalize();var H=-n.x*-m.x+-n.y*-m.y,
  H=Math.abs(0!==H?1/H:1);8<H&&(H=8);0<=z?(z=b.add(h.x,h.y,m.x,m.y,0,1,c),-1===F&&(F=z),0<=l&&0<=u&&0<=z&&!e&&d.add(l,u,z),u=b.add(h.x,h.y,H*-n.x,H*-n.y,0,-1,c),-1===I&&(I=u),0<=l&&0<=u&&0<=z&&!e&&d.add(l,u,z),l=u,u=z,z=b.add(h.x,h.y,n.x,n.y,0,1,c),0<=l&&0<=u&&0<=z&&!e&&d.add(l,u,z),u=b.add(h.x,h.y,p.x,p.y,0,1,c)):(z=b.add(h.x,h.y,H*n.x,H*n.y,0,1,c),-1===F&&(F=z),0<=l&&0<=u&&0<=z&&!e&&d.add(l,u,z),u=b.add(h.x,h.y,-m.x,-m.y,0,-1,c),-1===I&&(I=u),0<=l&&0<=u&&0<=z&&!e&&d.add(l,u,z),l=u,u=z,z=b.add(h.x,
  h.y,-n.x,-n.y,0,-1,c),0<=l&&0<=u&&0<=z&&!e&&d.add(l,u,z),l=b.add(h.x,h.y,-p.x,-p.y,0,-1,c));0<=l&&0<=u&&0<=z&&!e&&d.add(l,u,z)}0<=l&&0<=u&&0<=F&&!J&&d.add(l,u,F);0<=l&&0<=F&&0<=I&&!J&&d.add(l,I,F);this._outlineIndexCount+=3*(d.index-g)}}};c.prototype._processFill=function(a,c,e){var b;1<c.length&&(b=[]);for(var g=0,f=0;f<c.length;f++){var k=c[f];0!==g&&b.push(g);g+=a[k].length}for(var f=2*g,g=p.acquire(),m=0;m<c.length;m++)for(var k=c[m],k=a[k],l=k.length,t=0;t<l;++t)g.push(k[t].x),g.push(k[t].y);
  a=h(g,b,2);c=a.length;if(0<c){b=this._fillVertexBuffer.index;for(m=0;m<f;)this._fillVertexBuffer.add(g[m++],g[m++],e);for(e=0;e<c;)this._fillIndexBuffer.add(b+a[e++],b+a[e++],b+a[e++]);this._fillIndexCount+=c}p.release(g)};c.prototype._isClipEdge=function(a,c){return a.x===c.x?-64>=a.x||4160<=a.x:a.y===c.y?-64>=a.y||4160<=a.y:!1};c._area=function(a){for(var b=0,c=a.length-1,d=0;d<c;d++)b+=(a[d].x-a[d+1].x)*(a[d].y+a[d+1].y);b+=(a[c].x-a[0].x)*(a[c].y+a[0].y);return.5*b};return c}(e)})},"esri/core/ArrayPool":function(){define(["require",
  "exports","./ObjectPool"],function(l,a,k){function p(a){a.length=0}var h=Array.prototype.splice;l=function(){function a(a,c){void 0===a&&(a=50);void 0===c&&(c=50);this._pool=new k(Array,!1,p,c,a)}a.prototype.acquire=function(){return this._pool.acquire()};a.prototype.copy=function(a){var c=this.acquire();a.unshift(0,0);h.apply(c,a);a.splice(0,2);return c};a.prototype.release=function(a){this._pool.release(a)};a.acquire=function(){return e.acquire()};a.copy=function(a){return e.copy(a)};a.release=
  function(a){return e.release(a)};return a}();var e=new l(100);return l})},"esri/core/libs/earcut/earcut":function(){define([],function(){function l(b,d,g){g=g||2;var h=d&&d.length,u=h?d[0]*g:b.length,n=a(b,0,u,g,!0),m=[];if(!n||n.next===n.prev)return m;var l,t,v,w;if(h){var y=g,h=[],D,B,C;w=0;for(D=d.length;w<D;w++)B=d[w]*y,C=w<D-1?d[w+1]*y:b.length,B=a(b,B,C,y,!1),B===B.next&&(B.steiner=!0),h.push(c(B));h.sort(e);for(w=0;w<h.length;w++){d=h[w];y=n;if(y=f(d,y))d=A(y,d),k(d,d.next);n=k(n,n.next)}}if(b.length>
  80*g){l=v=b[0];t=h=b[1];for(y=g;y<u;y+=g)w=b[y],d=b[y+1],w<l&&(l=w),d<t&&(t=d),w>v&&(v=w),d>h&&(h=d);v=Math.max(v-l,h-t);v=0!==v?1/v:0}p(n,m,g,l,t,v);return m}function a(a,b,d,c,g){var e;if(g===0<C(a,b,d,c))for(g=b;g<d;g+=c)e=w(g,a[g],a[g+1],e);else for(g=d-c;g>=b;g-=c)e=w(g,a[g],a[g+1],e);e&&t(e,e.next)&&(y(e),e=e.next);return e}function k(a,b){if(!a)return a;b||(b=a);var d;do if(d=!1,a.steiner||!t(a,a.next)&&0!==g(a.prev,a,a.next))a=a.next;else{y(a);a=b=a.prev;if(a===a.next)break;d=!0}while(d||
  a!==b);return b}function p(a,c,e,f,l,w,B){if(a){if(!B&&w){var u=a,n=u;do null===n.z&&(n.z=m(n.x,n.y,f,l,w)),n.prevZ=n.prev,n=n.nextZ=n.next;while(n!==u);n.prevZ.nextZ=null;n.prevZ=null;var u=n,D,C,z,F,J,I,R=1;do{n=u;z=u=null;for(F=0;n;){F++;C=n;for(D=J=0;D<R&&(J++,C=C.nextZ,C);D++);for(I=R;0<J||0<I&&C;)0!==J&&(0===I||!C||n.z<=C.z)?(D=n,n=n.nextZ,J--):(D=C,C=C.nextZ,I--),z?z.nextZ=D:u=D,D.prevZ=z,z=D;n=C}z.nextZ=null;R*=2}while(1<F)}for(u=a;a.prev!==a.next;){n=a.prev;C=a.next;if(w)z=h(a,f,l,w);else a:if(z=
  a,F=z.prev,J=z,R=z.next,0<=g(F,J,R))z=!1;else{for(D=z.next.next;D!==z.prev;){if(b(F.x,F.y,J.x,J.y,R.x,R.y,D.x,D.y)&&0<=g(D.prev,D,D.next)){z=!1;break a}D=D.next}z=!0}if(z)c.push(n.i/e),c.push(a.i/e),c.push(C.i/e),y(a),u=a=C.next;else if(a=C,a===u){if(!B)p(k(a),c,e,f,l,w,1);else if(1===B){B=c;u=e;n=a;do C=n.prev,z=n.next.next,!t(C,z)&&d(C,n,n.next,z)&&v(C,z)&&v(z,C)&&(B.push(C.i/u),B.push(n.i/u),B.push(z.i/u),y(n),y(n.next),n=a=z),n=n.next;while(n!==a);a=n;p(a,c,e,f,l,w,2)}else if(2===B)a:{B=a;do{for(u=
  B.next.next;u!==B.prev;){if(n=B.i!==u.i){n=B;C=u;z=void 0;if(z=n.next.i!==C.i&&n.prev.i!==C.i){z=void 0;b:{z=n;do{if(z.i!==n.i&&z.next.i!==n.i&&z.i!==C.i&&z.next.i!==C.i&&d(z,z.next,n,C)){z=!0;break b}z=z.next}while(z!==n);z=!1}z=!z}F=void 0;if(F=z&&v(n,C)&&v(C,n)){z=n;F=!1;J=(n.x+C.x)/2;C=(n.y+C.y)/2;do z.y>C!==z.next.y>C&&z.next.y!==z.y&&J<(z.next.x-z.x)*(C-z.y)/(z.next.y-z.y)+z.x&&(F=!F),z=z.next;while(z!==n)}n=F}if(n){a=A(B,u);B=k(B,B.next);a=k(a,a.next);p(B,c,e,f,l,w);p(a,c,e,f,l,w);break a}u=
  u.next}B=B.next}while(B!==a)}break}}}}function h(a,d,c,e){var f=a.prev,h=a.next;if(0<=g(f,a,h))return!1;var u=f.x>a.x?f.x>h.x?f.x:h.x:a.x>h.x?a.x:h.x,k=f.y>a.y?f.y>h.y?f.y:h.y:a.y>h.y?a.y:h.y,n=m(f.x<a.x?f.x<h.x?f.x:h.x:a.x<h.x?a.x:h.x,f.y<a.y?f.y<h.y?f.y:h.y:a.y<h.y?a.y:h.y,d,c,e);d=m(u,k,d,c,e);c=a.prevZ;for(e=a.nextZ;c&&c.z>=n&&e&&e.z<=d;){if(c!==a.prev&&c!==a.next&&b(f.x,f.y,a.x,a.y,h.x,h.y,c.x,c.y)&&0<=g(c.prev,c,c.next))return!1;c=c.prevZ;if(e!==a.prev&&e!==a.next&&b(f.x,f.y,a.x,a.y,h.x,h.y,
  e.x,e.y)&&0<=g(e.prev,e,e.next))return!1;e=e.nextZ}for(;c&&c.z>=n;){if(c!==a.prev&&c!==a.next&&b(f.x,f.y,a.x,a.y,h.x,h.y,c.x,c.y)&&0<=g(c.prev,c,c.next))return!1;c=c.prevZ}for(;e&&e.z<=d;){if(e!==a.prev&&e!==a.next&&b(f.x,f.y,a.x,a.y,h.x,h.y,e.x,e.y)&&0<=g(e.prev,e,e.next))return!1;e=e.nextZ}return!0}function e(a,b){return a.x-b.x}function f(a,c){var d=c,g=a.x,e=a.y,f=-Infinity,h;do{if(e<=d.y&&e>=d.next.y&&d.next.y!==d.y){var k=d.x+(e-d.y)*(d.next.x-d.x)/(d.next.y-d.y);if(k<=g&&k>f){f=k;if(k===g){if(e===
  d.y)return d;if(e===d.next.y)return d.next}h=d.x<d.next.x?d:d.next}}d=d.next}while(d!==c);if(!h)return null;if(g===f)return h.prev;c=h;for(var k=h.x,n=h.y,m=Infinity,p,d=h.next;d!==c;)g>=d.x&&d.x>=k&&g!==d.x&&b(e<n?g:f,e,k,n,e<n?f:g,e,d.x,d.y)&&(p=Math.abs(e-d.y)/(g-d.x),(p<m||p===m&&d.x>h.x)&&v(d,a)&&(h=d,m=p)),d=d.next;return h}function m(a,b,d,c,g){a=32767*(a-d)*g;b=32767*(b-c)*g;a=(a|a<<8)&16711935;a=(a|a<<4)&252645135;a=(a|a<<2)&858993459;b=(b|b<<8)&16711935;b=(b|b<<4)&252645135;b=(b|b<<2)&858993459;
  return(a|a<<1)&1431655765|((b|b<<1)&1431655765)<<1}function c(a){var b=a,d=a;do{if(b.x<d.x||b.x===d.x&&b.y<d.y)d=b;b=b.next}while(b!==a);return d}function b(a,b,d,c,g,e,f,h){return 0<=(g-f)*(b-h)-(a-f)*(e-h)&&0<=(a-f)*(c-h)-(d-f)*(b-h)&&0<=(d-f)*(e-h)-(g-f)*(c-h)}function g(a,b,d){return(b.y-a.y)*(d.x-b.x)-(b.x-a.x)*(d.y-b.y)}function t(a,b){return a.x===b.x&&a.y===b.y}function d(a,b,d,c){return t(a,b)&&t(d,c)||t(a,c)&&t(d,b)?!0:0<g(a,b,d)!==0<g(a,b,c)&&0<g(d,c,a)!==0<g(d,c,b)}function v(a,b){return 0>
  g(a.prev,a,a.next)?0<=g(a,b,a.next)&&0<=g(a,a.prev,b):0>g(a,b,a.prev)||0>g(a,a.next,b)}function A(a,b){var d=new B(a.i,a.x,a.y),c=new B(b.i,b.x,b.y),g=a.next,e=b.prev;a.next=b;b.prev=a;d.next=g;g.prev=d;c.next=d;d.prev=c;e.next=c;c.prev=e;return c}function w(a,b,d,c){a=new B(a,b,d);c?(a.next=c.next,a.prev=c,c.next.prev=a,c.next=a):(a.prev=a,a.next=a);return a}function y(a){a.next.prev=a.prev;a.prev.next=a.next;a.prevZ&&(a.prevZ.nextZ=a.nextZ);a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function B(a,b,d){this.i=
  a;this.x=b;this.y=d;this.nextZ=this.prevZ=this.z=this.next=this.prev=null;this.steiner=!1}function C(a,b,d,c){for(var g=0,e=d-c;b<d;b+=c)g+=(a[e]-a[b])*(a[b+1]+a[e+1]),e=b;return g}l.deviation=function(a,b,d,c){var g=b&&b.length,e=Math.abs(C(a,0,g?b[0]*d:a.length,d));if(g)for(var g=0,f=b.length;g<f;g++)e-=Math.abs(C(a,b[g]*d,g<f-1?b[g+1]*d:a.length,d));for(g=b=0;g<c.length;g+=3){var f=c[g]*d,h=c[g+1]*d,k=c[g+2]*d;b+=Math.abs((a[f]-a[k])*(a[h+1]-a[f+1])-(a[f]-a[h])*(a[k+1]-a[f+1]))}return 0===e&&0===
  b?0:Math.abs((b-e)/e)};l.flatten=function(a){for(var b=a[0][0].length,d={vertices:[],holes:[],dimensions:b},c=0,g=0;g<a.length;g++){for(var e=0;e<a[g].length;e++)for(var f=0;f<b;f++)d.vertices.push(a[g][e][f]);0<g&&(c+=a[g-1].length,d.holes.push(c))}return d};return l})},"esri/views/2d/engine/webgl/Geometry":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});l=function(){function a(a,h){this.x=a;this.y=h}a.prototype.clone=function(){return new a(this.x,
  this.y)};a.prototype.equals=function(a,h){return a===this.x&&h===this.y};a.prototype.isEqual=function(a){return a.x===this.x&&a.y===this.y};a.prototype.setCoords=function(a,h){this.x=a;this.y=h};a.prototype.normalize=function(){var a=this.x,h=this.y,a=Math.sqrt(a*a+h*h);this.x/=a;this.y/=a};a.prototype.rightPerpendicular=function(){var a=this.x;this.x=this.y;this.y=-a};a.prototype.move=function(a,h){this.x+=a;this.y+=h};a.prototype.assign=function(a){this.x=a.x;this.y=a.y};a.prototype.assignAdd=function(a,
  h){this.x=a.x+h.x;this.y=a.y+h.y};a.prototype.assignSub=function(a,h){this.x=a.x-h.x;this.y=a.y-h.y};a.prototype.rotate=function(a,h){var e=this.x,f=this.y;this.x=e*a-f*h;this.y=e*h+f*a};a.prototype.scale=function(a){this.x*=a;this.y*=a};a.prototype.length=function(){var a=this.x,h=this.y;return Math.sqrt(a*a+h*h)};a.distance=function(a,h){var e=h.x-a.x;a=h.y-a.y;return Math.sqrt(e*e+a*a)};a.add=function(k,h){return new a(k.x+h.x,k.y+h.y)};a.sub=function(k,h){return new a(k.x-h.x,k.y-h.y)};return a}();
  a.Point=l})},"esri/views/2d/engine/vectorTiles/GeometryUtils":function(){define(["require","exports"],function(l,a){function k(a,e){a%=e;return 0<=a?a:a+e}Object.defineProperty(a,"__esModule",{value:!0});a.C_INFINITY=Number.POSITIVE_INFINITY;a.C_PI=Math.PI;a.C_2PI=2*a.C_PI;a.C_PI_BY_2=a.C_PI/2;a.C_RAD_TO_256=128/a.C_PI;a.C_256_TO_RAD=a.C_PI/128;a.C_DEG_TO_256=256/360;a.C_DEG_TO_RAD=a.C_PI/180;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=1/a.C_SQRT2;var p=1/Math.LN2;a.positiveMod=k;a.radToByte=function(h){return k(h*
  a.C_RAD_TO_256,256)};a.degToByte=function(h){return k(h*a.C_DEG_TO_256,256)};a.log2=function(a){return Math.log(a)*p};a.sqr=function(a){return a*a};a.interpolate=function(a,e,f){return a*(1-f)+e*f};a.between=function(a,e,f){return a>=e&&a<=f||a>=f&&a<=e}})},"esri/views/2d/engine/vectorTiles/IndexMemoryBuffer":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper","./MemoryBuffer"],function(l,a,k,p){Object.defineProperty(a,"__esModule",{value:!0});l=function(a){function e(){return a.call(this,
  12)||this}k(e,a);e.prototype.add=function(a,e,c){var b=this.array;b.push(a);b.push(e);b.push(c)};return e}(p);a.TriangleIndexBuffer=l;p=function(a){function e(){return a.call(this,4)||this}k(e,a);e.prototype.add=function(a){this.array.push(a)};return e}(p);a.PointElementMemoryBuffer=p})},"esri/views/2d/engine/vectorTiles/MemoryBuffer":function(){define(["require","exports"],function(l,a){return function(){function a(a){this._array=[];0>=a&&console.error("strideInBytes must be positive!");this._stride=
  a}Object.defineProperty(a.prototype,"array",{get:function(){return this._array},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"index",{get:function(){return 4*this._array.length/this._stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"itemSize",{get:function(){return this._stride},enumerable:!0,configurable:!0});Object.defineProperty(a.prototype,"sizeInBytes",{get:function(){return 4*this._array.length},enumerable:!0,configurable:!0});a.prototype.reset=
  function(){this.array.length=0};a.prototype.toBuffer=function(){return(new Uint32Array(this._array)).buffer};a.i1616to32=function(a,h){return 65535&a|h<<16};a.i8888to32=function(a,h,e,f){return a&255|(h&255)<<8|(e&255)<<16|f<<24};a.i8816to32=function(a,h,e){return a&255|(h&255)<<8|e<<16};return a}()})},"esri/views/2d/engine/vectorTiles/LineBucket":function(){define("require exports ../../../../core/tsSupport/extendsHelper ../../../../core/has ../../../../symbols/cim/enums ./Bucket ./style/StyleLayer ../webgl/TurboLine ../webgl/mesh/templates/util".split(" "),
  function(l,a,k,p,h,e,f,m,c){var b=1/3.8;return function(a){function g(b,c,g,e){c=a.call(this,b,c)||this;c._tessellationOptions={};if(b.hasDataDrivenLine!==g.isDataDriven())throw Error("incompatible line buffer");c._lineVertexBuffer=g;c._lineIndexBuffer=e;c._hasPattern=b.getPaintValue("line-pattern",c.zoom)||b.getPaintValue("line-dasharray",c.zoom);c._isThinLine=b.isThinLine;c._tessellationCallbacks=c._isThinLine?{vertex:c._thinVertex.bind(c),bridge:c._thinBridge.bind(c)}:{vertex:c._thickVertex.bind(c),
  bridge:c._thickBridge.bind(c)};return c}k(g,a);Object.defineProperty(g.prototype,"lineIndexStart",{get:function(){return this._lineIndexStart},enumerable:!0,configurable:!0});Object.defineProperty(g.prototype,"lineIndexCount",{get:function(){return this._lineIndexCount},enumerable:!0,configurable:!0});g.prototype.assignBufferInfo=function(a){a._lineIndexStart=this._lineIndexStart;a._lineIndexCount=this._lineIndexCount};g.prototype.processFeatures=function(a,b){this._lineIndexStart=this._lineIndexBuffer.index;
  this._lineIndexCount=0;b=this.layer;var d=this.zoom,g=b.hasDataDrivenLine;a&&a.setExtent(this.layerExtent);for(var e=[1,1,1,1],h=1,k=1,m=0,p=this._features;m<p.length;m++){var u=p[m],l=new f.LineLayout(b,d,u);!this._hasPattern&&b.hasDataDrivenColor&&(e=b.getPaintValue("line-color",d,u));b.hasDataDrivenOpacity&&(h=b.getPaintValue("line-opacity",d,u));b.hasDataDrivenWidth&&(k=b.getPaintValue("line-width",d,u));var t=void 0;if(g&&(t={color:e,opacity:h,size:Math.max(Math.min(k,256),0)},0>=t.size||0>=
  t.opacity||0>=t.color[3]))continue;this._capType=l.cap;this._joinType=l.join;this._miterLimitCosine=c.getLimitCosine(l.miterLimit);this._roundLimitCosine=c.getLimitCosine(l.roundLimit);u=u.getGeometry(a);this._processFeature(l,u,t)}};g.prototype._processFeature=function(a,b,c){if(b)for(var d=b.length,g=0;g<d;g++)this._processGeometry(b[g],a,c)};g.prototype._processGeometry=function(a,c,g){if(!(2>a.length)){c=a[0];for(var d=1,e,f;d<a.length;)e=a[d].x-c.x,f=a[d].y-c.y,1E-6>e*e+f*f?a.splice(d,1):(c=
  a[d],++d);2>a.length||(c=this._lineIndexBuffer.index,this._tessellationOptions.trackDistance=this._hasPattern,this._tessellationOptions.initialDistance=0,this._tessellationOptions.thin=this._isThinLine,this._tessellationOptions.wrapDistance=65535,this._tessellationOptions.outerBisectorAutoSplitThreshold=b,this._tessellationOptions.enableOuterBisectorSplit=this._hasPattern,this._tessellationOptions.innerBisectorAutoSplitThreshold=b,this._tessellationOptions.enableInnerBisectorSplit=this._hasPattern,
  this._ddValues=g,m.tessellate(a,this._tessellationOptions,this._tessellationCallbacks),this._lineIndexCount+=3*(this._lineIndexBuffer.index-c))}};g.prototype._thinVertex=function(a){a.entry0=this._lineVertexBuffer.index;this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance,this._ddValues);a.entry2=this._lineVertexBuffer.index;this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance,this._ddValues);
  a.exit0=this._lineVertexBuffer.index;this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance,this._ddValues);a.exit2=this._lineVertexBuffer.index;this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance,this._ddValues)};g.prototype._thinBridge=function(a){this._lineIndexBuffer.add(a.leftExit0,a.rightEntry0,a.leftExit2);this._lineIndexBuffer.add(a.rightEntry0,a.rightEntry2,a.leftExit2)};g.prototype._thickVertex=
  function(a){var b=this._joinType===h.JoinType.MITER?this._miterLimitCosine:this._roundLimitCosine,c=a.isCap&&this._capType!==h.CapType.BUTT,d=!1;.97<a.cosine?(a.exit0=a.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance,this._ddValues),a.exit2=a.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,
  1,a.distance,this._ddValues)):a.cosine<1-.97?(a.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance),a.exit2=this._lineVertexBuffer.index,
  this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.canSplit?(m.splitVertex(),0<a.sign?(a.splitInner?(a.exit0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.leftInner.x,a.leftInner.y,0,-1,a.distance,this._ddValues),a.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.rightInner.x,a.rightInner.y,0,-1,a.distance,this._ddValues)):(a.exit0=a.entry0=
  this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance,this._ddValues)),a.cosine<b?(d=!a.isCap,a.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance,this._ddValues),a.exit2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance,
  this._ddValues)):a.splitOuter?(d=d||a.gapOuter,a.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.leftOuter.x,-a.leftOuter.y,0,1,a.distance,this._ddValues),a.exit2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.rightOuter.x,-a.rightOuter.y,0,1,a.distance,this._ddValues)):(a.entry2=a.exit2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.bisector.x/a.cosine,
  -a.bisector.y/a.cosine,0,1,a.distance,this._ddValues))):(a.splitInner?(a.exit2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.leftInner.x,-a.leftInner.y,0,1,a.distance,this._ddValues),a.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.rightInner.x,-a.rightInner.y,0,1,a.distance,this._ddValues)):(a.exit2=a.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,
  -a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance,this._ddValues)),a.cosine<b?(d=!a.isCap,a.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance,this._ddValues),a.exit0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance,this._ddValues)):a.splitOuter?(d=d||a.gapOuter,a.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,
  a.currentVertex.y,a.leftOuter.x,a.leftOuter.y,0,-1,a.distance,this._ddValues),a.exit0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.rightOuter.x,a.rightOuter.y,0,-1,a.distance,this._ddValues)):(a.exit0=a.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance,this._ddValues)))):0<a.sign?(a.exit0=a.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,
  a.currentVertex.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance,this._ddValues),a.cosine<b?(d=!a.isCap,a.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance,this._ddValues),a.exit2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance,this._ddValues)):(a.entry2=a.exit2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,
  a.currentVertex.y,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance,this._ddValues))):(a.exit2=a.entry2=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance,this._ddValues),a.cosine<b?(d=!a.isCap,a.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance,this._ddValues),a.exit0=this._lineVertexBuffer.index,
  this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance,this._ddValues)):(a.exit0=a.entry0=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance,this._ddValues)));a.canSplit&&(a.splitInner||a.splitOuter)||d||c?(b=a.entry1=a.exit1=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,0,0,0,0,a.distance,this._ddValues)):
  b=a.entry1=a.exit1=null;if(d&&this._joinType!==h.JoinType.ROUND)this._lineIndexBuffer.add(b,0<a.sign?a.exit2:a.entry0,0<a.sign?a.entry2:a.exit0);else if(c&&this._capType===h.CapType.ROUND||d&&this._joinType===h.JoinType.ROUND){var g=d=c=void 0,e=void 0,f=void 0,k=void 0;if(a.isCap){var l=Math.PI,f=Math.ceil(l/.8),k=l/f;a.isFirstVertex?(c=a.prevNormal.x,d=a.prevNormal.y,g=a.entry0,e=a.entry2):a.isLastVertex&&(c=-a.nextNormal.x,d=-a.nextNormal.y,g=a.exit2,e=a.exit0)}else l=2*Math.acos(a.cosine),f=Math.ceil(l/
  .8),k=l/f,c=0<a.sign?-a.prevNormal.x:a.nextNormal.x,d=0<a.sign?-a.prevNormal.y:a.nextNormal.y,g=0<a.sign?a.entry2:a.exit0,e=0<a.sign?a.exit2:a.entry0;for(var l=Math.cos(k),k=Math.sin(k),u=k*c+l*d,c=l*c-k*d,d=u,p=void 0,u=void 0,t=0;t<f;++t){p=u;if(t<f-1)if(a.isCap){var I=a.isFirstVertex?-1:1,u=this._lineVertexBuffer.index;this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,c,d,I,0,a.distance,this._ddValues)}else u=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,
  a.currentVertex.y,c,d,0,a.sign,a.distance,this._ddValues);this._lineIndexBuffer.add(0===t?g:p,b,t===f-1?e:u);p=k*c+l*d;c=l*c-k*d;d=p}}else c&&this._capType===h.CapType.SQUARE&&(c=a.isFirstVertex?1:-1,g=d=void 0,this._hasPattern?(d=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.prevNormal.x-c*a.inbound.x,a.prevNormal.y-c*a.inbound.y,-c,-1,a.distance,this._ddValues),g=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,
  -a.prevNormal.x-c*a.inbound.x,-a.prevNormal.y-c*a.inbound.y,-c,1,a.distance,this._ddValues)):(d=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,a.prevNormal.x-c*a.inbound.x,a.prevNormal.y-c*a.inbound.y,0,-1,a.distance,this._ddValues),g=this._lineVertexBuffer.index,this._lineVertexBuffer.add(a.currentVertex.x,a.currentVertex.y,-a.prevNormal.x-c*a.inbound.x,-a.prevNormal.y-c*a.inbound.y,0,1,a.distance,this._ddValues)),0<c?(this._lineIndexBuffer.add(b,a.entry2,
  g),this._lineIndexBuffer.add(b,g,d),this._lineIndexBuffer.add(b,d,a.entry0)):(this._lineIndexBuffer.add(b,g,a.exit2),this._lineIndexBuffer.add(b,d,g),this._lineIndexBuffer.add(b,a.exit0,d)))};g.prototype._thickBridge=function(a){this._lineIndexBuffer.add(a.leftExit0,a.rightEntry0,null!=a.leftExit1?a.leftExit1:a.leftExit2);this._lineIndexBuffer.add(a.rightEntry0,null!=a.rightEntry1?a.rightEntry1:a.rightEntry2,null!=a.leftExit1?a.leftExit1:a.leftExit2);null!=a.leftExit1&&null!=a.rightEntry1?(this._lineIndexBuffer.add(a.leftExit1,
  a.rightEntry1,a.leftExit2),this._lineIndexBuffer.add(a.rightEntry1,a.rightEntry2,a.leftExit2)):null!=a.leftExit1?this._lineIndexBuffer.add(a.leftExit1,a.rightEntry2,a.leftExit2):null!=a.rightEntry1&&this._lineIndexBuffer.add(a.rightEntry1,a.rightEntry2,a.leftExit2)};return g}(e)})},"esri/symbols/cim/enums":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});(function(a){a[a.BUTT=0]="BUTT";a[a.ROUND=1]="ROUND";a[a.SQUARE=2]="SQUARE";a[a.UNKNOWN=4]=
  "UNKNOWN"})(a.CapType||(a.CapType={}));(function(a){a[a.BEVEL=0]="BEVEL";a[a.ROUND=1]="ROUND";a[a.MITER=2]="MITER";a[a.UNKNOWN=4]="UNKNOWN"})(a.JoinType||(a.JoinType={}));(function(a){a[a.SCREEN=0]="SCREEN";a[a.MAP=1]="MAP"})(a.Alignment||(a.Alignment={}))})},"esri/views/2d/engine/vectorTiles/style/StyleLayer":function(){define("require exports ../../../../../core/tsSupport/extendsHelper ./Filter ./StyleDefinition ./StyleProperty ../../webgl/definitions".split(" "),function(l,a,k,p,h,e,f){Object.defineProperty(a,
  "__esModule",{value:!0});l=function(){function a(a,c,e){this.type=a;this.typeName=c.type;this.id=c.id;this.source=c.source;this.sourceLayer=c["source-layer"];this.minzoom=c.minzoom;this.maxzoom=c.maxzoom;this.filter=c.filter;this.layout=c.layout;this.paint=c.paint;this.z=e;switch(a){case 0:this._layoutDefinition=h.StyleDefinition.backgroundLayoutDefinition;this._paintDefinition=h.StyleDefinition.backgroundPaintDefinition;break;case 1:this._layoutDefinition=h.StyleDefinition.fillLayoutDefinition;this._paintDefinition=
  h.StyleDefinition.fillPaintDefinition;break;case 2:this._layoutDefinition=h.StyleDefinition.lineLayoutDefinition;this._paintDefinition=h.StyleDefinition.linePaintDefinition;break;case 3:this._layoutDefinition=h.StyleDefinition.symbolLayoutDefinition;this._paintDefinition=h.StyleDefinition.symbolPaintDefinition;break;case 4:this._layoutDefinition=h.StyleDefinition.circleLayoutDefinition,this._paintDefinition=h.StyleDefinition.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout);
  this._paintProperties=this._parsePaint(this.paint)}a.prototype.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=p.createFilter(this.filter)};a.prototype.getLayoutProperty=function(a){var b=this._layoutProperties;if(b)return b[a]};a.prototype.getPaintProperty=function(a){var b=this._paintProperties;if(b)return b[a]};a.prototype.getLayoutValue=function(a,c,e){var b,g=this._layoutProperties;g&&(g=g[a])&&(b=g.getValue(c,e));a=this._layoutDefinition[a];
  void 0===b&&(b=a["default"]);"enum"===a.type&&(b=a.values.indexOf(b));return b};a.prototype.getPaintValue=function(a,c,e){var b,g=this._paintProperties;g&&(g=g[a])&&(b=g.getValue(c,e));a=this._paintDefinition[a];void 0===b&&(b=a["default"]);"enum"===a.type&&(b=a.values.indexOf(b));return b};a.prototype.isPainterDataDriven=function(){var a=this._paintProperties;if(a)for(var c in a)if(a[c].isDataDriven)return!0;return!1};a.prototype._parseLayout=function(a){var b={},c;for(c in a){var d=this._layoutDefinition[c];
  d&&(b[c]=new e(c,d,a[c]))}return b};a.prototype._parsePaint=function(a){var b={},c;for(c in a){var d=this._paintDefinition[c];d&&(b[c]=new e(c,d,a[c]))}return b};return a}();a.StyleLayer=l;var m=function(a){function b(b,c,d){return a.call(this,b,c,d)||this}k(b,a);return b}(l);a.BackgroundStyleLayer=m;m=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;c=b.getPaintProperty("fill-color");b.hasDataDrivenColor=c?c.isDataDriven:!1;c=b.getPaintProperty("fill-opacity");b.hasDataDrivenOpacity=c?c.isDataDriven:
  !1;b.hasDataDrivenFill=b.hasDataDrivenColor||b.hasDataDrivenOpacity;c=b.getPaintProperty("fill-outline-color");b.outlineUsesFillColor=!c;b.hasDataDrivenOutlineColor=c?c.isDataDriven:!1;b.hasDataDrivenOutline=(c?b.hasDataDrivenOutlineColor:b.hasDataDrivenColor)||b.hasDataDrivenOpacity;return b}k(b,a);return b}(l);a.FillStyleLayer=m;m=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;d=b.getPaintProperty("line-color");b.hasDataDrivenColor=d?d.isDataDriven:!1;d=b.getPaintProperty("line-opacity");
  b.hasDataDrivenOpacity=d?d.isDataDriven:!1;d=b.getPaintProperty("line-width");b.hasDataDrivenWidth=d?d.isDataDriven:!1;b.hasDataDrivenLine=b.hasDataDrivenColor||b.hasDataDrivenOpacity||b.hasDataDrivenWidth;c=c.paint["line-width"];c||(c=h.StyleDefinition.linePaintDefinition["line-width"].default);b.isThinLine=!b.hasDataDrivenWidth&&"number"===typeof c&&c<f.THIN_LINE_THRESHOLD;return b}k(b,a);return b}(l);a.LineStyleLayer=m;m=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;c=b.getPaintProperty("icon-color");
  b.hasDataDrivenIconColor=c?c.isDataDriven:!1;c=b.getPaintProperty("icon-opacity");b.hasDataDrivenIconOpacity=c?c.isDataDriven:!1;c=b.getLayoutProperty("icon-size");b.hasDataDrivenIconSize=c?c.isDataDriven:!1;b.hasDataDrivenIcon=b.hasDataDrivenIconColor||b.hasDataDrivenIconOpacity||b.hasDataDrivenIconSize;c=b.getPaintProperty("text-color");b.hasDataDrivenTextColor=c?c.isDataDriven:!1;c=b.getPaintProperty("text-opacity");b.hasDataDrivenTextOpacity=c?c.isDataDriven:!1;c=b.getLayoutProperty("text-size");
  b.hasDataDrivenTextSize=c?c.isDataDriven:!1;b.hasDataDrivenText=b.hasDataDrivenTextColor||b.hasDataDrivenTextOpacity||b.hasDataDrivenTextSize;return b}k(b,a);return b}(l);a.SymbolStyleLayer=m;l=function(a){function b(b,c,d){b=a.call(this,b,c,d)||this;c=b.getPaintProperty("circle-radius");b.hasDataDrivenRadius=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-color");b.hasDataDrivenColor=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-opacity");b.hasDataDrivenOpacity=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-stroke-width");
  b.hasDataDrivenStrokeWidth=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-stroke-color");b.hasDataDrivenStrokeColor=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-stroke-opacity");b.hasDataDrivenStrokeOpacity=c?c.isDataDriven:!1;c=b.getPaintProperty("circle-blur");b.hasDataDrivenBlur=c?c.isDataDriven:!1;return b}k(b,a);return b}(l);a.CircleStyleLayer=l;l=function(){return function(a,b,g){this.cap=a.getLayoutValue("line-cap",b,g);this.join=a.getLayoutValue("line-join",b,g);this.miterLimit=a.getLayoutValue("line-miter-limit",
  b,g);this.roundLimit=a.getLayoutValue("line-round-limit",b,g)}}();a.LineLayout=l;l=function(){return function(a,b,g,e){this.allowOverlap=a.getLayoutValue("icon-allow-overlap",b,e);this.ignorePlacement=a.getLayoutValue("icon-ignore-placement",b,e);this.optional=a.getLayoutValue("icon-optional",b,e);this.rotationAlignment=a.getLayoutValue("icon-rotation-alignment",b,e);this.size=a.getLayoutValue("icon-size",b,e);this.rotate=a.getLayoutValue("icon-rotate",b,e);this.padding=a.getLayoutValue("icon-padding",
  b,e);this.keepUpright=a.getLayoutValue("icon-keep-upright",b,e);this.offset=a.getLayoutValue("icon-offset",b,e);2===this.rotationAlignment&&(this.rotationAlignment=g?0:1)}}();a.IconLayout=l;l=function(){return function(a,b,g,e){this.allowOverlap=a.getLayoutValue("text-allow-overlap",b,e);this.ignorePlacement=a.getLayoutValue("text-ignore-placement",b,e);this.optional=a.getLayoutValue("text-optional",b,e);this.rotationAlignment=a.getLayoutValue("text-rotation-alignment",b,e);this.fontArray=a.getLayoutValue("text-font",
  b,e);this.maxWidth=a.getLayoutValue("text-max-width",b,e);this.lineHeight=a.getLayoutValue("text-line-height",b,e);this.letterSpacing=a.getLayoutValue("text-letter-spacing",b,e);this.justify=a.getLayoutValue("text-justify",b,e);this.anchor=a.getLayoutValue("text-anchor",b,e);this.maxAngle=a.getLayoutValue("text-max-angle",b,e);this.size=a.getLayoutValue("text-size",b,e);this.rotate=a.getLayoutValue("text-rotate",b,e);this.padding=a.getLayoutValue("text-padding",b,e);this.keepUpright=a.getLayoutValue("text-keep-upright",
  b,e);this.transform=a.getLayoutValue("text-transform",b,e);this.offset=a.getLayoutValue("text-offset",b,e);2===this.rotationAlignment&&(this.rotationAlignment=g?0:1)}}();a.TextLayout=l})},"esri/views/2d/engine/vectorTiles/style/Filter":function(){define(["require","exports"],function(l,a){return function(){function a(k,h,e){this._op=k;"$type"===h?(this._val=e instanceof Array?e.map(function(e){return a._types.indexOf(e)}):a._types.indexOf(e),this._op+=11):(this._key=h,this._val=e)}a.prototype.filter=
  function(a){switch(this._op){case 0:return this._val;case 1:return a.values[this._key]===this._val;case 2:return a.values[this._key]!==this._val;case 3:return a.values[this._key]<this._val;case 4:return a.values[this._key]>this._val;case 5:return a.values[this._key]<=this._val;case 6:return a.values[this._key]>=this._val;case 7:return-1!==this._val.indexOf(a.values[this._key]);case 8:return-1===this._val.indexOf(a.values[this._key]);case 9:for(var h=0,e=this._val;h<e.length;h++){var f=e[h];if(f.filter(a))return!0}return!1;
  case 10:h=0;for(e=this._val;h<e.length;h++)if(f=e[h],!f.filter(a))return!1;return!0;case 11:h=0;for(e=this._val;h<e.length;h++)if(f=e[h],f.filter(a))return!1;return!0;case 12:return a.type===this._val;case 13:return a.type!==this._val;case 14:return a.type<this._val;case 15:return a.type>this._val;case 16:return a.type>=this._val;case 17:return a.type<=this._val;case 18:return-1!==this._val.indexOf(a.type);case 19:return-1===this._val.indexOf(a.type);case 20:return void 0!==a.values[this._key];case 21:return void 0===
  a.values[this._key]}};a.createFilter=function(k){if(!k)return new a(0,void 0,!0);var h=k[0];if(1>=k.length)return new a(0,void 0,"any"!==h);switch(h){case "\x3d\x3d":return new a(1,k[1],k[2]);case "!\x3d":return new a(2,k[1],k[2]);case "\x3e":return new a(4,k[1],k[2]);case "\x3c":return new a(3,k[1],k[2]);case "\x3e\x3d":return new a(6,k[1],k[2]);case "\x3c\x3d":return new a(5,k[1],k[2]);case "in":return new a(7,k[1],k.slice(2));case "!in":return new a(8,k[1],k.slice(2));case "any":return new a(9,
  void 0,k.slice(1).map(a.createFilter.bind(this)));case "all":return new a(10,void 0,k.slice(1).map(a.createFilter.bind(this)));case "none":return new a(11,void 0,k.slice(1).map(a.createFilter.bind(this)));case "has":return new a(20,k[1],void 0);case "!has":return new a(21,k[1],void 0);default:throw Error("invalid operator: "+h);}};a._types=["Unknown","Point","LineString","Polygon"];return a}()})},"esri/views/2d/engine/vectorTiles/style/StyleDefinition":function(){define(["require","exports"],function(l,
  a){Object.defineProperty(a,"__esModule",{value:!0});l=function(){function a(){}a.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};a.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}};a.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"line-cap":{type:"enum",values:["butt","round","square"],default:"butt"},"line-join":{type:"enum",values:["bevel","round","miter"],default:"miter"},
  "line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}};a.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"symbol-placement":{type:"enum",values:["point","line"],default:"point"},"symbol-spacing":{type:"number",minimum:1,default:250},"symbol-avoid-edges":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-allow-overlap":{type:"boolean",default:!1},"icon-ignore-placement":{type:"boolean",default:!1},"icon-optional":{type:"boolean",
  default:!1},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"icon-size":{type:"number",minimum:0,default:1},"icon-rotate":{type:"number",default:0},"icon-padding":{type:"number",minimum:0,default:2},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-field":{type:"string"},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"text-font":{type:"array",value:"string",
  default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-size":{type:"number",minimum:0,default:16},"text-max-width":{type:"number",minimum:0,default:10},"text-line-height":{type:"number",default:1.2},"text-letter-spacing":{type:"number",default:0},"text-justify":{type:"enum",values:["left","center","right"],default:"center"},"text-anchor":{type:"enum",values:"center left right top bottom top-left top-right bottom-left bottom-right".split(" "),default:"center"},"text-max-angle":{type:"number",
  minimum:0,default:45},"text-rotate":{type:"number",default:0},"text-padding":{type:"number",minimum:0,default:2},"text-keep-upright":{type:"boolean",default:!0},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:"none"},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-allow-overlap":{type:"boolean",default:!1},"text-ignore-placement":{type:"boolean",default:!1},"text-optional":{type:"boolean",default:!1}};a.circleLayoutDefinition={visibility:{type:"enum",
  values:["visible","none"],default:"visible"}};a.backgroundPaintDefinition={"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-color":{type:"color",default:[0,0,0,1]},"background-pattern":{type:"string"}};a.fillPaintDefinition={"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-translate":{type:"array",value:"number",
  length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"fill-pattern":{type:"string"}};a.linePaintDefinition={"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-color":{type:"color",default:[0,0,0,1]},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"line-width":{type:"number",minimum:0,default:1},"line-gap-width":{type:"number",minimum:0,
  default:0},"line-offset":{type:"number",default:0},"line-blur":{type:"number",minimum:0,default:0},"line-dasharray":{type:"array",value:"number",default:[]},"line-pattern":{type:"string"}};a.symbolPaintDefinition={"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-translate":{type:"array",
  value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-halo-blur":{type:"number",minimum:0,default:0},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map",
  "viewport"],default:"map"}};a.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}};a.circlePaintDefinition=
  {"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-color":{type:"color",default:[0,0,0,1]},"circle-blur":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",
  minimum:0,maximum:1,default:1}};return a}();a.StyleDefinition=l})},"esri/views/2d/engine/vectorTiles/style/StyleProperty":function(){define(["require","exports","../../../../../Color","../GeometryUtils"],function(l,a,k,p){return function(){function a(e,f,h){this.isDataDriven=!1;switch(f.type){case "number":e=!0;break;case "color":e=!0;h=a._parseColor(h);break;case "array":e="number"===f.value;break;default:e=!1}null==h&&(h=f.default);e&&"interval"===h.type&&(e=!1);var c=h&&h.stops&&0<h.stops.length;
  if(c)for(var b=0,g=h.stops;b<g.length;b++){var k=g[b];k[1]=this._validate(k[1],f)}if(this.isDataDriven=h?!!h.property:!1)if(void 0!==h.default&&(h.default=this._validate(h.default,f)),c)switch(h.type){case "identity":this.getValue=this._buildIdentity(h,f);break;case "categorical":this.getValue=this._buildCategorical(h,f);break;default:this.getValue=e?this._buildInterpolate(h,f):this._buildInterval(h,f)}else this.getValue=this._buildIdentity(h,f);else c?this.getValue=e?this._buildZoomInterpolate(h):
  this._buildZoomInterval(h):(h=this._validate(h,f),this.getValue=this._buildSimple(h))}a.prototype._validate=function(a,f){if("number"===f.type){if(a<f.minimum)return f.minimum;if(a>f.maximum)return f.maximum}return a};a.prototype._buildSimple=function(a){return function(){return a}};a.prototype._buildIdentity=function(e,f){var h=this;return function(c,b){var g;b&&(g=b.values[e.property],"color"===f.type&&(g=a._parseColor(g)));void 0===g&&(g=e.default);return void 0!==g?h._validate(g,f):f.default}};
  a.prototype._buildCategorical=function(a,f){var e=this;return function(c,b){var g;b&&(g=b.values[a.property]);g=e._categorical(g,a.stops);return void 0!==g?g:void 0!==a.default?a.default:f.default}};a.prototype._buildInterval=function(a,f){var e=this;return function(c,b){var g;b&&(g=b.values[a.property]);return"number"===typeof g?e._interval(g,a.stops):void 0!==a.default?a.default:f.default}};a.prototype._buildInterpolate=function(a,f){var e=this;return function(c,b){var g;b&&(g=b.values[a.property]);
  return"number"===typeof g?e._interpolate(g,a.stops,a.base||1):void 0!==a.default?a.default:f.default}};a.prototype._buildZoomInterpolate=function(a){var e=this;return function(f){return e._interpolate(f,a.stops,a.base||1)}};a.prototype._buildZoomInterval=function(a){var e=this;return function(f){return e._interval(f,a.stops)}};a.prototype._categorical=function(a,f){for(var e=f.length,c=0;c<e;c++)if(f[c][0]===a)return f[c][1]};a.prototype._interval=function(a,f){for(var e=f.length,c=0,b=0;b<e;b++)if(f[b][0]<=
  a)c=b;else break;return f[c][1]};a.prototype._interpolate=function(a,f,h){for(var c,b,g=f.length,e=0;e<g;e++){var d=f[e];if(d[0]<=a)c=d;else{b=d;break}}if(c&&b){e=b[0]-c[0];a-=c[0];h=1===h?a/e:(Math.pow(h,a)-1)/(Math.pow(h,e)-1);if(Array.isArray(c[1])){c=c[1];b=b[1];a=[];for(e=0;e<c.length;e++)a.push(p.interpolate(c[e],b[e],h));return a}return p.interpolate(c[1],b[1],h)}if(c)return c[1];if(b)return b[1]};a._isEmpty=function(a){for(var e in a)if(a.hasOwnProperty(e))return!1;return!0};a._parseColor=
  function(e){if(Array.isArray(e))return e;if("string"===typeof e){if(e=new k(e),!this._isEmpty(e))return k.toUnitRGBA(e)}else return e&&e.default&&(e.default=a._parseColor(e.default)),e&&e.stops&&(e.stops=e.stops.map(function(e){return[e[0],a._parseColor(e[1])]})),e};return a}()})},"esri/Color":function(){define(["require","exports","./core/mathUtils","./core/accessorSupport/ensureType"],function(l,a,k,p){function h(a){return k.clamp(p.ensureInteger(a),0,255)}function e(a,c,b){a=Number(a);return isNaN(a)?
  b:a<c?c:a>b?b:a}function f(a,c,b){0>b&&++b;1<b&&--b;var g=6*b;return 1>g?a+(c-a)*g:1>2*b?c:2>3*b?a+(c-a)*(2/3-b)*6:a}l=function(){function a(a){this.b=this.g=this.r=255;this.a=1;a&&this.setColor(a)}a.blendColors=function(c,b,g,e){void 0===e&&(e=new a);e.r=Math.round(c.r+(b.r-c.r)*g);e.g=Math.round(c.g+(b.g-c.g)*g);e.b=Math.round(c.b+(b.b-c.b)*g);e.a=c.a+(b.a-c.a)*g;return e._sanitize()};a.fromRgb=function(c,b){var g=c.toLowerCase().match(/^(rgba?|hsla?)\(([\s\.\-,%0-9]+)\)/);if(g){c=g[2].split(/\s*,\s*/);
  g=g[1];if("rgb"===g&&3===c.length||"rgba"===g&&4===c.length)return g=c[0],"%"===g.charAt(g.length-1)?(g=c.map(function(a){return 2.56*parseFloat(a)}),4===c.length&&(g[3]=parseFloat(c[3])),a.fromArray(g,b)):a.fromArray(c.map(function(a){return parseFloat(a)}),b);if("hsl"===g&&3===c.length||"hsla"===g&&4===c.length){var g=(parseFloat(c[0])%360+360)%360/360,e=parseFloat(c[1])/100,d=parseFloat(c[2])/100,e=.5>=d?d*(e+1):d+e-d*e,d=2*d-e,g=[256*f(d,e,g+1/3),256*f(d,e,g),256*f(d,e,g-1/3),1];4===c.length&&
  (g[3]=parseFloat(c[3]));return a.fromArray(g,b)}}return null};a.fromHex=function(c,b){void 0===b&&(b=new a);var g=4===c.length?4:8,e=(1<<g)-1,d=Number("0x"+c.substr(1));if(isNaN(d))return null;["b","g","r"].forEach(function(a){var c=d&e;d>>=g;b[a]=4===g?17*c:c});b.a=1;return b};a.fromArray=function(c,b){void 0===b&&(b=new a);b._set(Number(c[0]),Number(c[1]),Number(c[2]),Number(c[3]));isNaN(b.a)&&(b.a=1);return b._sanitize()};a.fromString=function(c,b){var g=a.named[c];return g&&a.fromArray(g,b)||
  a.fromRgb(c,b)||a.fromHex(c,b)};a.toJSON=function(a){return a&&[h(a.r),h(a.g),h(a.b),1<a.a?a.a:h(255*a.a)]};a.fromJSON=function(c){return c&&new a([c[0],c[1],c[2],c[3]/255])};a.toUnitRGB=function(a){return[a.r/255,a.g/255,a.b/255]};a.toUnitRGBA=function(a){return[a.r/255,a.g/255,a.b/255,null!=a.a?a.a:1]};a.prototype.setColor=function(c){"string"===typeof c?a.fromString(c,this):Array.isArray(c)?a.fromArray(c,this):(this._set(c.r,c.g,c.b,c.a),c instanceof a||this._sanitize());return this};a.prototype.toRgb=
  function(){return[this.r,this.g,this.b]};a.prototype.toRgba=function(){return[this.r,this.g,this.b,this.a]};a.prototype.toHex=function(){var a=this.r.toString(16),b=this.g.toString(16),g=this.b.toString(16);return"#"+(2>a.length?"0"+a:a)+(2>b.length?"0"+b:b)+(2>g.length?"0"+g:g)};a.prototype.toCss=function(a){void 0===a&&(a=!1);var b=this.r+", "+this.g+", "+this.b;return a?"rgba("+b+", "+this.a+")":"rgb("+b+")"};a.prototype.toString=function(){return this.toCss(!0)};a.prototype.toJSON=function(){return[h(this.r),
  h(this.g),h(this.b),1<this.a?this.a:h(255*this.a)]};a.prototype.clone=function(){return new a(this.toRgba())};a.prototype._sanitize=function(){this.r=Math.round(e(this.r,0,255));this.g=Math.round(e(this.g,0,255));this.b=Math.round(e(this.b,0,255));this.a=e(this.a,0,1);return this};a.prototype._set=function(a,b,g,e){this.r=a;this.g=b;this.b=g;this.a=e};a.named={transparent:[0,0,0,0],black:[0,0,0],silver:[192,192,192],gray:[128,128,128],white:[255,255,255],maroon:[128,0,0],red:[255,0,0],purple:[128,
  0,128],fuchsia:[255,0,255],green:[0,128,0],lime:[0,255,0],olive:[128,128,0],yellow:[255,255,0],navy:[0,0,128],blue:[0,0,255],teal:[0,128,128],aqua:[0,255,255],aliceblue:[240,248,255],antiquewhite:[250,235,215],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],blanchedalmond:[255,235,205],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,
  237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,
  0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],
  lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,
  0,255],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],oldlace:[253,245,230],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,
  232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],rebeccapurple:[102,51,153],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,
  128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],whitesmoke:[245,245,245],yellowgreen:[154,205,50]};return a}();l.prototype.declaredClass="esri.Color";return l})},"esri/core/mathUtils":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.isFinite=Number.isFinite||function(a){return"number"===typeof a&&
  window.isFinite(a)};a.isNaN=Number.isNaN||function(a){return a!==a};a.nextHighestPowerOfTwo=function(a){--a;for(var k=1;32>k;k<<=1)a|=a>>k;return a+1};a.clamp=function(a,l,h){return a<l?l:a>h?h:a}})},"esri/core/accessorSupport/ensureType":function(){define(["require","exports","../Logger"],function(l,a,k){function p(a,b){return b.isInstanceOf?b.isInstanceOf(a):b instanceof a}function h(a){return null==a?a:new Date(a)}function e(a){return null==a?a:!!a}function f(a){return null==a?a:a.toString()}function m(a){return null==
  a?a:"number"===typeof a&&isNaN(a)?0:parseFloat(a)}function c(a){return null==a?a:Math.round(parseFloat(a))}function b(a){return a&&a.constructor&&void 0!==a.constructor._meta}function g(a,b){return null!=b&&a&&!p(a,b)}function t(a){return a&&("isCollection"in a||a._meta&&a._meta.bases&&a._meta.bases.some(function(a){return"isCollection"in a}))}function d(a){return a&&a.Type?"function"===typeof a.Type?a.Type:a.Type.base:null}function v(a,b){if(!b||!b.constructor||!t(b.constructor))return A(a,b)?b:
  new a(b);var c=d(a.prototype.itemType),g=d(b.constructor.prototype.itemType);if(!c)return b;if(!g)return new a(b);if(c===g)return b;if((g=g._meta&&g._meta.bases)&&-1!==g.indexOf(c))return new a(b);A(a,b);return b}function A(a,c){return b(c)?(I.error("Accessor#set","Assigning an instance of '"+(c.declaredClass||"unknown")+"' which is not a subclass of '"+y(a)+"'"),!0):!1}function w(a,b){return null==b?b:t(a)?v(a,b):g(a,b)?A(a,b)?b:new a(b):b}function y(a){return a&&a.prototype&&a.prototype.declaredClass||
  "unknown"}function B(a){switch(a){case Number:return m;case J:return c;case Boolean:return e;case String:return f;case Date:return h;default:return w.bind(null,a)}}function C(a,b){var c=B(a);return 1===arguments.length?c:c(b)}function n(a,b){return 1===arguments.length?n.bind(null,a):b?Array.isArray(b)?b.map(a):[a(b)]:b}function D(a,b,c){return 0!==b&&Array.isArray(c)?c.map(function(c){return D(a,b-1,c)}):a(c)}function u(a,b,c){if(2===arguments.length)return u.bind(null,a,b);if(!c)return c;c=D(a,
  b,c);for(var d=b,g=c;0<d&&Array.isArray(g);)d--,g=g[0];if(void 0!==g)for(g=0;g<d;g++)c=[c];return c}function z(a,b){if(2===arguments.length)return z(a).call(null,b);for(var c=new Set,d=a.filter(function(a){return"function"!==typeof a}),e=a.filter(function(a){return"function"===typeof a}),f=0;f<a.length;f++){var h=a[f];"string"!==typeof h&&"number"!==typeof h||c.add(h)}var k=null,u=null;return function(a,b){if(null==a)return a;var f=typeof a,h="string"===f||"number"===f;if(h&&(c.has(a)||e.some(function(a){return"string"===
  f&&a===String||"number"===f&&a===Number}))||"object"===f&&e.some(function(b){return!g(a,b)}))return a;h&&d.length?(k||(k=d.map(function(a){return"string"===typeof a?"'"+a+"'":""+a}).join(", ")),I.error("Accessor#set","'"+a+"' is not a valid value for this property, only the following values are valid: "+k)):"object"===typeof a&&e.length?(u||(u=e.map(function(a){return y(a)}).join(", ")),I.error("Accessor#set","'"+a+"' is not a valid value for this property, value must be one of "+u)):I.error("Accessor#set",
  "'"+a+"' is not a valid value for this property");b&&(b.valid=!1);return null}}function F(a,c){if(2===arguments.length)return F(a).call(null,c);var d={},e=[],f=[],h;for(h in a.typeMap){var k=a.typeMap[h];d[h]=C(k);e.push(y(k));f.push(h)}var u="string"===typeof a.key?function(b){return b[a.key]}:a.key;return function(c){if(a.base&&!g(a.base,c))return c;var h=u(c)||a.defaultKeyValue,k=d[h];if(!k)return I.error("Accessor#set","Invalid property value, value needs to be one of "+("'"+e.join("', '")+"'")+
  ", or a plain object that can autocast (having .type \x3d "+("'"+f.join("', '")+"'")+")"),null;if(!g(a.typeMap[h],c))return c;if("string"===typeof a.key&&!b(c)){var h={},l;for(l in c)l!==a.key&&(h[l]=c[l]);return k(h)}return k(c)}}Object.defineProperty(a,"__esModule",{value:!0});var I=k.getLogger("esri.core.Accessor");a.isInstanceOf=p;a.ensureDate=h;a.ensureBoolean=e;a.ensureString=f;a.ensureNumber=m;a.ensureInteger=c;a.isClassedType=b;a.requiresType=g;a.ensureClass=w;a.ensureType=C;a.ensureArrayTyped=
  n;a.ensureArray=function(a,b){return 1===arguments.length?n(C.bind(null,a)):n(C.bind(null,a),b)};a.ensureNArrayTyped=u;a.ensureNArray=function(a,b,c){return 2===arguments.length?u(C.bind(null,a),b):u(C.bind(null,a),b,c)};a.isOneOf=function(a){return Array.isArray(a)?!a.some(function(b){b=typeof b;return!("string"===b||"number"===b||"function"===b&&1<a.length)}):!1};a.ensureOneOf=z;a.ensureOneOfType=F;var J=function(){return function(){}}();a.Integer=J;a.default=C})},"esri/core/Logger":function(){define(["require",
  "exports","./has"],function(l,a,k){var p={info:0,warn:1,error:2};l=function(){function a(e){void 0===e&&(e={});this.module=e.module||"";this.writer=e.writer||null;this.level=e.level||null;null!=e.enabled&&(this.enabled=!!e.enabled);a._loggers[this.module]=this;e=this.module.lastIndexOf(".");-1!==e&&(this.parent=a.getLogger(this.module.slice(0,e)))}a.prototype.log=function(a){for(var e=[],h=1;h<arguments.length;h++)e[h-1]=arguments[h];this._isEnabled()&&this._matchLevel(a)&&(h=this._inheritedWriter())&&
  h.apply(void 0,[a,this.module].concat(e))};a.prototype.error=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];this.log.apply(this,["error"].concat(a))};a.prototype.warn=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];this.log.apply(this,["warn"].concat(a))};a.prototype.info=function(){for(var a=[],f=0;f<arguments.length;f++)a[f]=arguments[f];this.log.apply(this,["info"].concat(a))};a.prototype.getLogger=function(e){return a.getLogger(this.module+"."+e)};a.getLogger=
  function(e){var f=a._loggers[e];f||(f=new a({module:e}));return f};a.prototype._parentWithMember=function(a,f){for(var e=this;e&&null==e[a];)e=e.parent;return e?e[a]:f};a.prototype._inheritedWriter=function(){return this._parentWithMember("writer",this._consoleWriter)};a.prototype._consoleWriter=function(a,f){for(var e=[],c=2;c<arguments.length;c++)e[c-2]=arguments[c];console[a].apply(console,["["+f+"]"].concat(e))};a.prototype._matchLevel=function(a){return p[this._parentWithMember("level","error")]<=
  p[a]};a.prototype._isEnabled=function(){return this._parentWithMember("enabled",!0)};a._loggers={};return a}();l.getLogger("esri").level="warn";return l})},"esri/views/2d/engine/webgl/definitions":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});a.WEBGL_MAX_STOPS=8;a.WEBGL_MAX_INNER_STOPS=a.WEBGL_MAX_STOPS-2;a.NAN_MAGIC_NUMBER=1E-30;a.EXTRUDE_SCALE=64;a.PICTURE_FILL_COLOR=4294967295;a.TILE_SIZE=512;a.ANGLE_FACTOR_256=256/360;a.DEBUG_LABELS=!1;
  a.COLLISION_BUCKET_SIZE=128;a.DOT_DENSITY_MAX_FIELDS=8;a.COLLISION_MAX_ZOOM_DELTA=3;a.COLLISION_EARLY_REJECT_BUCKET_SIZE=16;a.COLLISION_BOX_PADDING=8;a.COLLISION_TILE_BOX_SIZE=a.TILE_SIZE/a.COLLISION_BUCKET_SIZE;a.COLLISION_PLACEMENT_PADDING=8;a.HEURISTIC_GLYPHS_PER_LINE=50;a.HEURISTIC_GLYPHS_PER_FEATURE=10;a.GLYPH_SIZE=24;a.TEXT_LINE_HEIGHT=1.2*a.GLYPH_SIZE;a.TEXT_MAX_WIDTH=10*a.GLYPH_SIZE;a.TEXT_SPACING=0;a.AVERAGE_GLYPH_MOSAIC_ITEM={metrics:{width:15,height:17,left:0,top:-7,advance:14}};a.ATTRIBUTE_STORE_TEXTURE_SIZE=
  1024;a.TEXTURE_BINDING_SPRITE_ATLAS=0;a.TEXTURE_BINDING_GLYPH_ATLAS=0;a.TEXTURE_BINDING_HIGHLIGHT_0=2;a.TEXTURE_BINDING_HIGHLIGHT_1=3;a.TEXTURE_BINDING_ATTRIBUTE_DATA_0=4;a.TEXTURE_BINDING_ATTRIBUTE_DATA_1=5;a.TEXTURE_BINDING_ATTRIBUTE_DATA_2=6;a.TEXTURE_BINDING_RENDERER_0=7;a.TEXTURE_BINDING_RENDERER_1=8;a.MAX_FILTERS=2;a.FILTER_FLAG_0=1;a.EFFECT_FLAG_0=2;a.THIN_LINE_THRESHOLD=2.5})},"esri/views/2d/engine/webgl/TurboLine":function(){define(["require","exports","../../../../symbols/cim/enums","./mesh/templates/util"],
  function(l,a,k,p){function h(){if(n.cosine<t.innerBisectorAutoSplitThreshold){n.splitInner=!0;n.gapInner=!0;var a=Math.max(t.innerBisectorAutoSplitThreshold,n.cosine),a=Math.sqrt(1-a*a)/a;n.leftInner.x=n.nextNormal.x+n.sign*a*n.outbound.x;n.leftInner.y=n.nextNormal.y+n.sign*a*n.outbound.y;n.rightInner.x=n.prevNormal.x-n.sign*a*n.inbound.x;n.rightInner.y=n.prevNormal.y-n.sign*a*n.inbound.y}else t.enableInnerBisectorSplit&&(n.splitInner=!0,n.gapInner=!1,n.leftInner.x=n.rightInner.x=n.bisector.x/n.cosine,
  n.leftInner.y=n.rightInner.y=n.bisector.y/n.cosine);n.cosine<t.outerBisectorAutoSplitThreshold?(n.splitOuter=!0,n.gapOuter=!0,a=Math.max(t.outerBisectorAutoSplitThreshold,n.cosine),a=Math.sqrt(1-a*a)/a,n.leftOuter.x=n.prevNormal.x-n.sign*a*n.inbound.x,n.leftOuter.y=n.prevNormal.y-n.sign*a*n.inbound.y,n.rightOuter.x=n.nextNormal.x+n.sign*a*n.outbound.x,n.rightOuter.y=n.nextNormal.y+n.sign*a*n.outbound.y):t.enableOuterBisectorSplit&&(n.splitOuter=!0,n.gapOuter=!1,n.leftOuter.x=n.rightOuter.x=n.bisector.x/
  n.cosine,n.leftOuter.y=n.rightOuter.y=n.bisector.y/n.cosine)}function e(){if(y)n.distance=0,y=n.isCap=n.isFirstVertex=n.isLastVertex=!1;else{if(0===A)if(n.isFirstVertex=0===v,C=g[v],0===v){if(A=0,n.closed){n.inbound.x=C.x-g[g.length-2].x;n.inbound.y=C.y-g[g.length-2].y;var a=Math.sqrt(n.inbound.x*n.inbound.x+n.inbound.y*n.inbound.y);n.inbound.x/=a;n.inbound.y/=a}}else n.inbound.x=C.x-B.x,n.inbound.y=C.y-B.y,A=Math.sqrt(n.inbound.x*n.inbound.x+n.inbound.y*n.inbound.y),n.inbound.x/=A,n.inbound.y/=A;
  n.distance+A-w<=t.wrapDistance?(v<g.length-1?(n.outbound.x=g[v+1].x-C.x,n.outbound.y=g[v+1].y-C.y,a=Math.sqrt(n.outbound.x*n.outbound.x+n.outbound.y*n.outbound.y),n.outbound.x/=a,n.outbound.y/=a):n.closed?(n.outbound.x=g[1].x-C.x,n.outbound.y=g[1].y-C.y,a=Math.sqrt(n.outbound.x*n.outbound.x+n.outbound.y*n.outbound.y),n.outbound.x/=a,n.outbound.y/=a):(n.outbound.x=n.inbound.x,n.outbound.y=n.inbound.y),0!==v||n.closed||(n.inbound.x=n.outbound.x,n.inbound.y=n.outbound.y),++v,n.isLastVertex=v===g.length,
  n.isCap=!n.closed&&(n.isFirstVertex||n.isLastVertex),n.distance+=A-w,w=A=0,y=n.distance+A-w===t.wrapDistance,n.currentVertex.x=C.x,n.currentVertex.y=C.y,B=C,C=null):(n.outbound.x=n.inbound.x,n.outbound.y=n.inbound.y,w+=t.wrapDistance-n.distance,n.distance=t.wrapDistance,y=!0,a=w/A,n.currentVertex.x=(1-a)*B.x+a*C.x,n.currentVertex.y=(1-a)*B.y+a*C.y)}}function f(){n.prevNormal.x=-n.inbound.y;n.prevNormal.y=n.inbound.x;n.nextNormal.x=-n.outbound.y;n.nextNormal.y=n.outbound.x}function m(){f();n.bisector.x=
  n.prevNormal.x+n.nextNormal.x;n.bisector.y=n.prevNormal.y+n.nextNormal.y;var a=Math.sqrt(n.bisector.x*n.bisector.x+n.bisector.y*n.bisector.y);.001>a?(n.bisector.x=void 0,n.bisector.y=void 0,n.cosine=0,n.sign=void 0):(n.bisector.x/=a,n.bisector.y/=a,n.cosine=n.bisector.x*n.nextNormal.x+n.bisector.y*n.nextNormal.y,n.sign=0<=n.prevNormal.x*n.nextNormal.y-n.prevNormal.y*n.nextNormal.x?1:-1)}function c(a){d.vertex(n);1===a?(n.leftEntry0=n.entry0,n.leftEntry1=n.entry1,n.leftEntry2=n.entry2,n.leftExit0=
  n.exit0,n.leftExit1=n.exit1,n.leftExit2=n.exit2):2===a&&(n.rightEntry0=n.entry0,n.rightEntry1=n.entry1,n.rightEntry2=n.entry2,n.rightExit0=n.exit0,n.rightExit1=n.exit1,n.rightExit2=n.exit2)}function b(a){d.vertex(n);1===a?(n.leftEntry0=n.entry0,n.leftEntry2=n.entry2,n.leftExit0=n.exit0,n.leftExit2=n.exit2):2===a&&(n.rightEntry0=n.entry0,n.rightEntry2=n.entry2,n.rightExit0=n.exit0,n.rightExit2=n.exit2)}Object.defineProperty(a,"__esModule",{value:!0});l=function(){return function(){this.isCap=this.isLastVertex=
  this.isFirstVertex=this.closed=void 0;this.currentVertex={x:void 0,y:void 0};this.inbound={x:void 0,y:void 0};this.outbound={x:void 0,y:void 0};this.prevNormal={x:void 0,y:void 0};this.nextNormal={x:void 0,y:void 0};this.bisector={x:void 0,y:void 0};this.leftInner={x:void 0,y:void 0};this.rightInner={x:void 0,y:void 0};this.leftOuter={x:void 0,y:void 0};this.rightOuter={x:void 0,y:void 0}}}();a.TessellationState=l;a.tessellate=function(a,h,k){t.trackDistance=null!=h.trackDistance?h.trackDistance:
  !1;t.wrapDistance=null!=h.wrapDistance?h.wrapDistance:65535;t.thin=null!=h.thin?h.thin:!1;t.initialDistance=null!=h.initialDistance?h.initialDistance:0;t.enableOuterBisectorSplit=null!=h.enableOuterBisectorSplit?h.enableOuterBisectorSplit:!1;t.outerBisectorAutoSplitThreshold=null!=h.outerBisectorAutoSplitThreshold?h.outerBisectorAutoSplitThreshold:0;t.enableInnerBisectorSplit=null!=h.enableOuterBisectorSplit?h.enableOuterBisectorSplit:!1;t.innerBisectorAutoSplitThreshold=null!=h.innerBisectorAutoSplitThreshold?
  h.innerBisectorAutoSplitThreshold:0;g=a;d=k;w=A=v=0;y=!1;C=B=null;n.currentVertex.x=null;n.currentVertex.y=null;n.distance=t.initialDistance;a=g[0];h=g[g.length-1];n.canSplit=!1;n.closed=a.x===h.x&&a.y===h.y;if(!(2>g.length||2===g.length&&n.closed))if(t.thin)if(t.trackDistance)for(e(),f(),b(1);A-w>t.wrapDistance||v<g.length;)e(),f(),b(2),d.bridge(n),n.leftExit0=n.rightExit0,n.leftExit2=n.rightExit2;else for(;v<g.length;)0<v&&(n.inbound.x=n.outbound.x,n.inbound.y=n.outbound.y),v<g.length-1?(n.outbound.x=
  g[v+1].x-g[v].x,n.outbound.y=g[v+1].y-g[v].y,a=Math.sqrt(n.outbound.x*n.outbound.x+n.outbound.y*n.outbound.y),n.distance+=a,n.outbound.x/=a,n.outbound.y/=a):(n.outbound.x=n.inbound.x,n.outbound.y=n.inbound.y),0===v&&(n.inbound.x=n.outbound.x,n.inbound.y=n.outbound.y),n.currentVertex.x=g[v].x,n.currentVertex.y=g[v].y,n.prevNormal.x=-n.inbound.y,n.prevNormal.y=n.inbound.x,n.nextNormal.x=-n.outbound.y,n.nextNormal.y=n.outbound.x,0===v?(d.vertex(n),n.leftEntry0=n.entry0,n.leftEntry2=n.entry2,n.leftExit0=
  n.exit0,n.leftExit2=n.exit2):(d.vertex(n),n.rightEntry0=n.entry0,n.rightEntry2=n.entry2,n.rightExit0=n.exit0,n.rightExit2=n.exit2,d.bridge(n),n.leftExit0=n.rightExit0,n.leftExit2=n.rightExit2),++v;else{if(t.enableOuterBisectorSplit||0<t.outerBisectorAutoSplitThreshold||t.enableInnerBisectorSplit||0<t.innerBisectorAutoSplitThreshold)for(n.canSplit=!0,e(),m(),n.splitInner=n.gapInner=n.splitOuter=n.gapOuter=!1,c(1),n.closure0=n.leftEntry0,n.closure1=n.leftEntry1,n.closure2=n.leftEntry2;A-w>t.wrapDistance||
  v<g.length-1||v<g.length&&(!n.closed||t.trackDistance);)e(),m(),n.splitInner=n.gapInner=n.splitOuter=n.gapOuter=!1,c(2),d.bridge(n),n.leftExit0=n.rightExit0,n.leftExit1=n.rightExit1,n.leftExit2=n.rightExit2;else for(e(),m(),c(1),n.closure0=n.leftEntry0,n.closure1=n.leftEntry1,n.closure2=n.leftEntry2;A-w>t.wrapDistance||v<g.length-1||v<g.length&&(!n.closed||t.trackDistance);)e(),m(),c(2),d.bridge(n),n.leftExit0=n.rightExit0,n.leftExit1=n.rightExit1,n.leftExit2=n.rightExit2;n.closed&&!t.trackDistance&&
  (n.rightEntry0=n.closure0,n.rightEntry1=n.closure1,n.rightEntry2=n.closure2,d.bridge(n),n.leftExit0=n.rightExit0,n.leftExit1=n.rightExit1,n.leftExit2=n.rightExit2)}};a.splitVertex=h;var g,t={},d,v=void 0,A,w,y,B,C,n=new l;l=function(){function a(a,b){this.writeVertex=a;this.writeTriangle=b;this.capType=k.CapType.BUTT;this.joinType=k.JoinType.MITER;this.miterLimitCosine=p.getLimitCosine(2);this.roundLimitCosine=Math.cos(23*Math.PI/180);this.almostParallelCosine=.97;this.radsPerSlice=.8;this.textured=
  !1}a.prototype.vertex=function(a){var b=this.joinType===k.JoinType.MITER?this.miterLimitCosine:this.roundLimitCosine,c=a.isCap&&this.capType!==k.CapType.BUTT,d=!1;a.cosine>this.almostParallelCosine?(a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance),a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):a.cosine<1-this.almostParallelCosine?
  (a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.canSplit?(h(),0<a.sign?(a.splitInner?(a.exit0=
  this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,a.leftInner.x,a.leftInner.y,0,-1,a.distance),a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.rightInner.x,a.rightInner.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance),a.cosine<b?(d=!a.isCap,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,
  -a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.splitOuter?(d=d||a.gapOuter,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,-a.leftOuter.x,-a.leftOuter.y,0,1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,-a.rightOuter.x,-a.rightOuter.y,0,1,a.distance)):a.entry2=a.exit2=this.writeVertex(a.currentVertex.x,
  a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):(a.splitInner?(a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,-a.leftInner.x,-a.leftInner.y,0,1,a.distance),a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,-a.rightInner.x,-a.rightInner.y,0,1,a.distance)):a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance),
  a.cosine<b?(d=!a.isCap,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance)):a.splitOuter?(d=d||a.gapOuter,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.leftOuter.x,a.leftOuter.y,0,-1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.outbound.x,a.outbound.y,a.rightOuter.x,
  a.rightOuter.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance))):0<a.sign?(a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,a.inbound.x,a.inbound.y,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance),a.cosine<b?(d=!a.isCap,a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance),a.exit2=this.writeVertex(a.currentVertex.x,
  a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)):a.entry2=a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance)):(a.exit2=a.entry2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.bisector.x/a.cosine,-a.bisector.y/a.cosine,0,1,a.distance),a.cosine<b?(d=!a.isCap,a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance),a.exit0=this.writeVertex(a.currentVertex.x,
  a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance)):a.exit0=a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.bisector.x/a.cosine,a.bisector.y/a.cosine,0,-1,a.distance));b=a.canSplit&&(a.splitInner||a.splitOuter)||d||c?a.entry1=a.exit1=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,0,0,0,0,a.distance):a.entry1=a.exit1=null;if(d&&this.joinType!==k.JoinType.ROUND)this.writeTriangle(b,0<a.sign?a.exit2:a.entry0,0<a.sign?a.entry2:a.exit0);else if(c&&this.capType===
  k.CapType.ROUND||d&&this.joinType===k.JoinType.ROUND){var g=d=c=void 0,e=void 0,f=void 0,l=void 0;if(a.isCap){var n=Math.PI,f=Math.ceil(n/this.radsPerSlice),l=n/f;a.isFirstVertex?(c=a.prevNormal.x,d=a.prevNormal.y,g=a.entry0,e=a.entry2):a.isLastVertex&&(c=-a.nextNormal.x,d=-a.nextNormal.y,g=a.exit2,e=a.exit0)}else n=2*Math.acos(a.cosine),f=Math.ceil(n/this.radsPerSlice),l=n/f,c=0<a.sign?-a.prevNormal.x:a.nextNormal.x,d=0<a.sign?-a.prevNormal.y:a.nextNormal.y,g=0<a.sign?a.entry2:a.exit0,e=0<a.sign?
  a.exit2:a.entry0;for(var n=Math.cos(l),l=Math.sin(l),m=l*c+n*d,c=n*c-l*d,d=m,p,m=void 0,t=0;t<f;++t)p=m,t<f-1&&(m=a.isCap?this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,c,d,a.isFirstVertex?-1:1,0,a.distance):this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,c,d,0,a.sign,a.distance)),this.writeTriangle(0===t?g:p,b,t===f-1?e:m),p=l*c+n*d,c=n*c-l*d,d=p}else c&&this.capType===k.CapType.SQUARE&&(c=a.isFirstVertex?1:-1,g=d=void 0,this.textured?(d=this.writeVertex(a.currentVertex.x,a.currentVertex.y,
  0,0,a.prevNormal.x-c*a.inbound.x,a.prevNormal.y-c*a.inbound.y,-c,-1,a.distance),g=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x-c*a.inbound.x,-a.prevNormal.y-c*a.inbound.y,-c,1,a.distance)):(d=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x-c*a.inbound.x,a.prevNormal.y-c*a.inbound.y,0,-1,a.distance),g=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.prevNormal.x-c*a.inbound.x,-a.prevNormal.y-c*a.inbound.y,0,1,a.distance)),0<c?(this.writeTriangle(b,
  a.entry2,g),this.writeTriangle(b,g,d),this.writeTriangle(b,d,a.entry0)):(this.writeTriangle(b,g,a.exit2),this.writeTriangle(b,d,g),this.writeTriangle(b,a.exit0,d)))};a.prototype.bridge=function(a){this.writeTriangle(a.leftExit0,a.rightEntry0,null!=a.leftExit1?a.leftExit1:a.leftExit2);this.writeTriangle(a.rightEntry0,null!=a.rightEntry1?a.rightEntry1:a.rightEntry2,null!=a.leftExit1?a.leftExit1:a.leftExit2);null!=a.leftExit1&&null!=a.rightEntry1?(this.writeTriangle(a.leftExit1,a.rightEntry1,a.leftExit2),
  this.writeTriangle(a.rightEntry1,a.rightEntry2,a.leftExit2)):null!=a.leftExit1?this.writeTriangle(a.leftExit1,a.rightEntry2,a.leftExit2):null!=a.rightEntry1&&this.writeTriangle(a.rightEntry1,a.rightEntry2,a.leftExit2)};return a}();a.StandardTessellationCallbacks=l;l=function(){function a(a,b){this.writeVertex=a;this.writeTriangle=b}a.prototype.vertex=function(a){a.entry0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.prevNormal.x,a.prevNormal.y,0,-1,a.distance);a.entry2=this.writeVertex(a.currentVertex.x,
  a.currentVertex.y,0,0,-a.prevNormal.x,-a.prevNormal.y,0,1,a.distance);a.exit0=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,a.nextNormal.x,a.nextNormal.y,0,-1,a.distance);a.exit2=this.writeVertex(a.currentVertex.x,a.currentVertex.y,0,0,-a.nextNormal.x,-a.nextNormal.y,0,1,a.distance)};a.prototype.bridge=function(a){this.writeTriangle(a.leftExit0,a.rightEntry0,a.leftExit2);this.writeTriangle(a.rightEntry0,a.rightEntry2,a.leftExit2)};return a}();a.ThinTessellationCallbacks=l})},"esri/views/2d/engine/webgl/mesh/templates/util":function(){define(["require",
  "exports"],function(l,a){function k(a,h){return Math.sqrt(a*a+h*h)}Object.defineProperty(a,"__esModule",{value:!0});a.sub=function(a,h,e){a[0]=h[0]-e[0];a[1]=h[1]-e[1];return a};a.len=k;a.normalize=function(a){var h=k(a[0],a[1]);a[0]/=h;a[1]/=h};a.dist=function(a,h){return k(a[0]-h[0],a[1]-h[1])};a.isFunction=function(a){return"function"===typeof a};a.getLimitCosine=function(a){return 1/Math.max(a,1)}})},"esri/views/2d/engine/vectorTiles/Placement":function(){define(["require","exports","./Conflict",
  "./GeometryUtils","../webgl/Geometry"],function(l,a,k,p,h){Object.defineProperty(a,"__esModule",{value:!0});l=function(){return function(a,g,e,d,f){void 0===e&&(e=0);void 0===d&&(d=-1);void 0===f&&(f=c);this.x=a;this.y=g;this.angle=e;this.segment=d;this.minzoom=f}}();a.Anchor=l;var e=function(){return function(a,g,e,d,f,h,k){void 0===f&&(f=!1);void 0===h&&(h=c);void 0===k&&(k=p.C_INFINITY);this.anchor=a;this.labelAngle=g;this.glyphAngle=e;this.page=d;this.upsideDown=f;this.minzoom=h;this.maxzoom=
  k}}(),f=function(){return function(a,c,e,d,f,h,k,l,m,p){this.tl=a;this.tr=c;this.bl=e;this.br=d;this.mosaicRect=f;this.labelAngle=h;this.anchor=k;this.minzoom=l;this.maxzoom=m;this.page=p}}();a.PlacedSymbol=f;var m=function(){return function(a,c){this.footprint=a;this.shapes=c}}();a.Placement=m;var c=.5;l=function(){function a(){this.mapAngle=0;this._conflictEngine=new k.ConflictEngine}a.prototype.reset=function(){this._conflictEngine.reset()};a.prototype.setAngle=function(a){this.mapAngle=a;this._conflictEngine.setAngle(a)};
  a.prototype.getIconPlacement=function(a,b,d,e,l,w,y){var g=d.width/d.pixelRatio,t=d.height/d.pixelRatio;l=w.offset[0]-g/2;var n=w.offset[1]-t/2,g=l+g,t=n+t,v=d.rect,u=d.sdf?17:2,A=l-u,F=n-u,I=A+v.width/d.pixelRatio,J=F+v.height/d.pixelRatio;d=new h.Point(A,F);u=new h.Point(I,J);J=new h.Point(A,J);F=new h.Point(I,F);I=w.rotate*p.C_DEG_TO_RAD;A=1===w.rotationAlignment;0<=a.segment&&!A&&(I+=a.angle);if(0!==I){var L=Math.cos(I),G=Math.sin(I);d.rotate(L,G);u.rotate(L,G);J.rotate(L,G);F.rotate(L,G)}L=8*
  w.padding;G=new h.Point(a.x,a.y);a=new k.Footprint(this.mapAngle,L,A);a.addBox(G,new k.Box(l,n,g,t),e,I,b,c,p.C_INFINITY);b=new f(d,F,J,u,v,0,G,c,p.C_INFINITY,0);b=new m(a,[b]);e=c;w.allowOverlap||(e=this._conflictEngine.getMinZoom(b.footprint,e,y,A));a.minzoom=e;return b};a.prototype.getTextPlacement=function(a,b,d,l,A,w,y,B){for(var g=new h.Point(a.x,a.y),n=y.rotate*p.C_DEG_TO_RAD,t=0===y.rotationAlignment,v=y.keepUpright,z=c,F=!t,I=F?0:a.angle,J=0<=a.segment&&t,L=new k.Footprint(this.mapAngle,
  8*y.padding,F),G=[],H=!J,S=Number.POSITIVE_INFINITY,N=Number.NEGATIVE_INFINITY,E=S,Q=N,K=J?v:t&&v,R,T=0;T<l.length;T++){var P=l[T],U=P.glyphMosaicItem;if(U&&!U.rect.isEmpty){var ia=U.rect,ca=U.metrics,da=U.page;H&&(R&&R!==P.y&&(L.addBox(g,new k.Box(S,E,N,Q),A,n,b,c,p.C_INFINITY),S=Number.POSITIVE_INFINITY,N=Number.NEGATIVE_INFINITY,E=S,Q=N),R=P.y);var aa=[];if(J){if(U=(d.x+P.x+ca.left-4+.5*U.metrics.width)*A,z=this._placeGlyph(a,z,U,w,a.segment,1,da,aa),v&&(z=this._placeGlyph(a,z,U,w,a.segment,-1,
  da,aa)),2<=z)break}else aa.push(new e(g,I,I,da)),t&&v&&aa.push(new e(g,I+p.C_PI,I+p.C_PI,da,!0));for(var da=P.x+d.x+ca.left,P=P.y+d.y-ca.top,U=da+ca.width,ca=P+ca.height,ba=new h.Point(da-4,P-4),ga=new h.Point(ba.x+ia.width,ba.y+ia.height),V=new h.Point(ba.x,ga.y),ea=new h.Point(ga.x,ba.y),W=0;W<aa.length;W++){var Y=aa[W],ka=ba.clone(),ma=V.clone(),oa=ea.clone(),fa=ga.clone(),la=P,ja=ca,ha=Y.glyphAngle+n;if(0!==ha){var M=Math.cos(ha),X=Math.sin(ha);ka.rotate(M,X);fa.rotate(M,X);ma.rotate(M,X);oa.rotate(M,
  X)}G.push(new f(ka,oa,ma,fa,ia,Y.labelAngle,Y.anchor,Y.minzoom,Y.maxzoom,Y.page));if(!K||this._legible(Y.labelAngle))H?(da<S&&(S=da),la<E&&(E=la),U>N&&(N=U),ja>Q&&(Q=ja)):2>Y.minzoom&&L.addBox(Y.anchor,new k.Box(da,la,U,ja),A,ha,b,Y.minzoom,Y.maxzoom)}}}if(2<=z)return null;H&&L.addBox(g,new k.Box(S,E,N,Q),A,n,b,c,p.C_INFINITY);a=new m(L,G);y.allowOverlap||(z=this._conflictEngine.getMinZoom(a.footprint,z,B,F));L.minzoom=z;return a};a.prototype.add=function(a){this._conflictEngine.add(a.footprint)};
  a.prototype._legible=function(a){a=p.radToByte(a);return 65>a||193<=a};a.prototype._placeGlyph=function(a,b,c,f,k,l,m,B){var d=0>l?p.positiveMod(a.angle+p.C_PI,p.C_2PI):a.angle,g=this._legible(d),t=0;0>c&&(l*=-1,c*=-1,t=p.C_PI);0<l&&++k;a=new h.Point(a.x,a.y);var v=f[k],w=p.C_INFINITY;if(f.length<=k)return w;for(;;){var y=v.x-a.x,A=v.y-a.y,J=Math.sqrt(y*y+A*A),L=Math.max(c/J,b),y=p.positiveMod(Math.atan2(A/J,y/J)+t,p.C_2PI);B.push(new e(a,d,y,m,g,L,w));if(L<=b)return L;a=v.clone();do{k+=l;if(f.length<=
  k||0>k)return L;v=f[k]}while(a.isEqual(v));w=v.x-a.x;y=v.y-a.y;A=Math.sqrt(w*w+y*y);w*=J/A;y*=J/A;a.x-=w;a.y-=y;w=L}};return a}();a.PlacementEngine=l})},"esri/views/2d/engine/vectorTiles/Conflict":function(){define(["require","exports","../../../../core/mathUtils","./GeometryUtils","../webgl/Geometry"],function(l,a,k,p,h){Object.defineProperty(a,"__esModule",{value:!0});l=function(){function a(a,b,e,f){this.left=a;this.top=b;this.right=e;this.bottom=f}a.prototype.clone=function(){return new a(this.left,
  this.top,this.right,this.bottom)};a.prototype.move=function(a,b){this.left+=a;this.top+=b;this.right+=a;this.bottom+=b};a.prototype.rotate=function(a,b){var c=this.left,e=this.right,d=this.top,f=this.bottom,h=c*a-d*b,k=c*b+d*a,l=e*a-d*b,d=e*b+d*a,m=c*a-f*b,c=c*b+f*a,p=e*a-f*b;a=e*b+f*a;this.left=Math.min(h,l,m,p);this.top=Math.min(k,d,c,a);this.right=Math.max(h,l,m,p);this.bottom=Math.max(k,d,c,a)};a.overlaps=function(a,b){return a.right>b.left&&a.left<b.right&&a.bottom>b.top&&a.top<b.bottom};return a}();
  a.Box=l;var e=function(){function a(a,b,e,f){this.anchor=a;this.corners=b;this.minzoom=e;this.maxzoom=f}a.prototype.left=function(){return this.corners[0].x};a.prototype.right=function(){return this.corners[2].x};a.prototype.top=function(){return this.corners[1].y};a.prototype.bottom=function(){return this.corners[3].y};return a}();a.Obstacle=e;l=function(){function a(a,b,e){this.obstacles=[];this.mapAngle=a;this.padding=b;this.isScreenAligned=e;this.minzoom=f}a.prototype.addBox=function(a,b,g,f,
  d,k,l){var c=b.left*g-this.padding,m=b.top*g-this.padding,p=b.right*g+this.padding;b=b.bottom*g+this.padding;c=[new h.Point(c,m),new h.Point(p,m),new h.Point(p,b),new h.Point(c,b)];0!==this.mapAngle&&(m=Math.cos(this.mapAngle),p=Math.sin(this.mapAngle),a=a.clone(),a.rotate(m,p));this.isScreenAligned||(f+=this.mapAngle);if(0!==f){m=Math.cos(f);p=Math.sin(f);c[0].rotate(m,p);c[1].rotate(m,p);c[2].rotate(m,p);c[3].rotate(m,p);f=0;for(m=1;4>m;m++)c[m].x<c[f].x?f=m:c[m].x===c[f].x&&c[m].y<c[f].y&&(f=m);
  if(f){p=[];for(m=0;4>m;m++)p.push(c[(m+f)%4]);c=p}}if(d)for(f=0,m=c;f<m.length;f++)m[f].move(d[0],d[1]);this.obstacles.push(new e(a,c,k,l))};return a}();a.Footprint=l;var f=.5;l=function(){function a(){this._grid=[]}a.prototype.setAngle=function(a){};a.prototype.reset=function(){this._grid=[]};a.prototype.add=function(c){var b=this._grid,e=0;for(c=c.obstacles;e<c.length;e++)for(var f=c[e],d=f.anchor,h=a._gridClamp(Math.min(f.left()+d.x,d.x)),k=a._gridClamp(Math.max(f.right()+d.x,d.x)),l=a._gridClamp(Math.min(f.top()+
  d.y,d.y)),d=a._gridClamp(Math.max(f.bottom()+d.y,d.y));l<=d;l++)for(var m=h;m<=k;m++){var p=b[16*l+m];p||(p=b[16*l+m]=[]);p.push(f)}};a.prototype.getMinZoom=function(c,b,e,f){if(0===c.obstacles.length)return p.C_INFINITY;e=this._grid;f=0;for(c=c.obstacles;f<c.length;f++)for(var d=c[f],g=d.anchor,h=a._gridClamp(Math.min(d.left()+g.x,g.x)),k=a._gridClamp(Math.max(d.right()+g.x,g.x)),l=a._gridClamp(Math.min(d.top()+g.y,g.y)),g=a._gridClamp(Math.max(d.bottom()+g.y,g.y));l<=g;l++)for(var m=h;m<=k;m++){var t=
  e[16*l+m];if(t)for(var n=0;n<t.length;n++){var D=t[n];if(!(d.minzoom>=D.maxzoom||D.minzoom>=d.maxzoom)&&(b=a._calcPlacementZoom(d,D,b),2<=b))return p.C_INFINITY}}return 2>b?b:p.C_INFINITY};a._gridClamp=function(a){return k.clamp(a>>9,-7,8)};a._calcPlacementZoom=function(c,b,e){var g=b.anchor.x-c.anchor.x;if(0===g&&(c.right()<b.left()||b.right()<c.left()))return e;var d=b.anchor.y-c.anchor.y;if(0===d&&(c.bottom()<b.top()||b.bottom()<c.top()))return e;var f=p.C_INFINITY;if(0!==g){var h=(0<g?c.right()-
  b.left():c.left()-b.right())/g;h<f&&(f=h);g=0<g?a._calcExtZoomX(c,b,h):a._calcExtZoomX(b,c,h);g<f&&(f=g)}0!==d&&(g=(0<d?c.bottom()-b.top():c.top()-b.bottom())/d,g<f&&(f=g),d=0<d?a._calcExtZoomY(c,b,g):a._calcExtZoomY(b,c,g),d<f&&(f=d));if(f<c.minzoom||f<b.minzoom)return e;f=Math.min(f,c.maxzoom,b.maxzoom);f<e&&(f=e);return f};a._calcExtZoomX=function(a,b,e){var c,d,g;if(a.anchor.y+a.corners[2].y/e<b.anchor.y+b.corners[0].y/e){c=a.corners[2].x-a.corners[3].x;g=a.corners[2].y-a.corners[3].y;var f=b.corners[1].x-
  b.corners[0].x;d=b.corners[1].y-b.corners[0].y;0<=c*d-g*f?a.anchor.y+a.corners[3].y/e<b.anchor.y+b.corners[0].y/e?(e=a.corners[3],c=b.corners[0],d=b.corners[1],g=1):(e=b.corners[0],c=a.corners[3],d=a.corners[2],g=-1):a.anchor.y+a.corners[2].y/e>b.anchor.y+b.corners[1].y/e?(e=a.corners[2],c=b.corners[0],d=b.corners[1],g=1):(e=b.corners[1],c=a.corners[3],d=a.corners[2],g=-1)}else c=a.corners[2].x-a.corners[1].x,g=a.corners[2].y-a.corners[1].y,f=b.corners[3].x-b.corners[0].x,d=b.corners[3].y-b.corners[0].y,
  0>c*d-g*f?a.anchor.y+a.corners[1].y/e>b.anchor.y+b.corners[0].y/e?(e=a.corners[1],c=b.corners[0],d=b.corners[3],g=1):(e=b.corners[0],c=a.corners[1],d=a.corners[2],g=-1):a.anchor.y+a.corners[2].y/e<b.anchor.y+b.corners[3].y/e?(e=a.corners[2],c=b.corners[0],d=b.corners[3],g=1):(e=b.corners[3],c=a.corners[1],d=a.corners[2],g=-1);f=d.x-c.x;d=d.y-c.y;return g*((e.y-c.y)*f-(e.x-c.x)*d)/((a.anchor.x-b.anchor.x)*d-(a.anchor.y-b.anchor.y)*f)};a._calcExtZoomY=function(a,b,e){var c,d,g;if(a.anchor.x+a.corners[3].x/
  e<b.anchor.x+b.corners[1].x/e){c=a.corners[3].x-a.corners[2].x;g=a.corners[3].y-a.corners[2].y;var f=b.corners[0].x-b.corners[1].x;d=b.corners[0].y-b.corners[1].y;0>c*d-g*f?a.anchor.x+a.corners[2].x/e<b.anchor.x+b.corners[1].x/e?(e=a.corners[2],c=b.corners[1],d=b.corners[0],g=1):(e=b.corners[1],c=a.corners[2],d=a.corners[3],g=-1):a.anchor.x+a.corners[3].x/e>b.anchor.x+b.corners[0].x/e?(e=a.corners[3],c=b.corners[1],d=b.corners[0],g=1):(e=b.corners[0],c=a.corners[2],d=a.corners[3],g=-1)}else c=a.corners[3].x-
  a.corners[0].x,g=a.corners[3].y-a.corners[0].y,f=b.corners[2].x-b.corners[1].x,d=b.corners[2].y-b.corners[1].y,0<c*d-g*f?a.anchor.x+a.corners[0].x/e>b.anchor.x+b.corners[1].x/e?(e=a.corners[0],c=b.corners[1],d=b.corners[2],g=1):(e=b.corners[1],c=a.corners[0],d=a.corners[3],g=-1):a.anchor.x+a.corners[3].x/e<b.anchor.x+b.corners[2].x/e?(e=a.corners[3],c=b.corners[1],d=b.corners[2],g=1):(e=b.corners[2],c=a.corners[0],d=a.corners[3],g=-1);f=d.x-c.x;d=d.y-c.y;return g*((e.y-c.y)*f-(e.x-c.x)*d)/((a.anchor.x-
  b.anchor.x)*d-(a.anchor.y-b.anchor.y)*f)};return a}();a.ConflictEngine=l})},"esri/views/2d/engine/vectorTiles/SymbolBucket":function(){define("require exports ../../../../core/tsSupport/extendsHelper dojox/string/BidiEngine ./Bucket ./GeometryUtils ./Placement ./style/StyleLayer ../webgl/Geometry ../webgl/TextShaping".split(" "),function(l,a,k,p,h,e,f,m,c,b){function g(a,b){return a.iconMosaicItem&&b.iconMosaicItem?a.iconMosaicItem.page===b.iconMosaicItem.page?0:a.iconMosaicItem.page<b.iconMosaicItem.page?
  -1:1:a.iconMosaicItem&&!b.iconMosaicItem?1:!a.iconMosaicItem&&b.iconMosaicItem?-1:0}(function(){return function(){}})();return function(a){function d(b,c,d,e,g,f,h,k){c=a.call(this,b,c)||this;c._markerMap=new Map;c._glyphMap=new Map;c._glyphBufferDataStorage=new Map;c._sdfMarkers=!1;if(b.hasDataDrivenIcon!==d.isDataDriven())throw Error("incompatible icon buffer");if(b.hasDataDrivenText!==g.isDataDriven())throw Error("incompatible text buffer");c._iconVertexBuffer=d;c._iconIndexBuffer=e;c._textVertexBuffer=
  g;c._textIndexBuffer=f;c._placementEngine=h;c._workerTileHandler=k;return c}k(d,a);Object.defineProperty(d.prototype,"markerPageMap",{get:function(){return this._markerMap},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"glyphsPageMap",{get:function(){return this._glyphMap},enumerable:!0,configurable:!0});Object.defineProperty(d.prototype,"sdfMarker",{get:function(){return this._sdfMarkers},enumerable:!0,configurable:!0});d.prototype.copy=function(a,b,c,e,g){a=new d(this.layer,
  this.zoom,a,b,c,e,g,this._workerTileHandler);a.layerIndex=this.layerIndex;a.layerExtent=this.layerExtent;a._iconIndexStart=b.index;a._textIndexStart=e.index;a._iconIndexCount=0;a._textIndexCount=0;a._symbolInstances=this._symbolInstances;a._workerTileHandler=this._workerTileHandler;a._fontArray=this._fontArray;a._textLayout=this._textLayout;a._iconLayout=this._iconLayout;a._isLinePlacement=this._isLinePlacement;a._avoidEdges=this._avoidEdges;return a};d.prototype.getResources=function(a,b,c){var e=
  this.layer,g=this.zoom,f=e.hasDataDrivenIcon,h=e.hasDataDrivenText;a&&a.setExtent(this.layerExtent);for(var k=e.getLayoutProperty("icon-image"),l=e.getLayoutProperty("text-field"),m=e.getLayoutValue("text-font",g),p=e.getLayoutValue("text-transform",g),t=[],v=[1,1,1,1],w=1,A=1,H=[1,1,1,1],S=1,N=1,E=0,Q=this._features;E<Q.length;E++){var K=Q[E],R=K.getGeometry(a);if(R&&0!==R.length){var T=void 0;k&&(T=e.getLayoutValue("icon-image",g,K),k.isDataDriven||(T=this._replaceKeys(T,K.values)),T&&b.add(T));
  var P=void 0,U=!1;if(l&&(P=e.getLayoutValue("text-field",g,K),l.isDataDriven||(P=this._replaceKeys(P,K.values)),P=P.replace(/\\n/g,"\n"))){switch(p){case 2:P=P.toLowerCase();break;case 1:P=P.toUpperCase()}d._bidiEngine.hasBidiChar(P)&&(U=void 0,U="rtl"===d._bidiEngine.checkContextual(P)?"IDNNN":"ICNNN",P=d._bidiEngine.bidiTransform(P,U,"VLYSN"),U=!0);var ia=P.length;if(0<ia)for(var ca=0,da=m;ca<da.length;ca++){var aa=da[ca],ba=c[aa];ba||(ba=c[aa]=new Set);for(aa=0;aa<ia;aa++){var ga=P.charCodeAt(aa);
  ba.add(ga)}}}if(T||P)ia=e.getLayoutValue("icon-size",g,K),ca=e.getLayoutValue("text-size",g,K),e.hasDataDrivenIconColor&&(v=e.getPaintValue("icon-color",g,K)),e.hasDataDrivenIconOpacity&&(w=e.getPaintValue("icon-opacity",g,K)),e.hasDataDrivenIconSize&&(A=ia),e.hasDataDrivenTextColor&&(H=e.getPaintValue("text-color",g,K)),e.hasDataDrivenTextOpacity&&(S=e.getPaintValue("text-opacity",g,K)),e.hasDataDrivenTextSize&&(N=ca),K={sprite:T,label:P,rtl:U,type:K.type,geometry:R,iconSize:ia,iconRotate:e.getLayoutValue("icon-rotate",
  g,K),ddIconValues:f?{color:v,opacity:w,size:A}:null,textSize:ca,textRotate:e.getLayoutValue("text-rotate",g,K),ddTextValues:h?{color:H,opacity:S,size:N}:null},t.push(K)}}this._symbolFeatures=t};d.prototype.processFeatures=function(a,c){a&&a.setExtent(this.layerExtent);var h=this.layer,k=this.zoom;c=this._isLinePlacement=1===h.getLayoutValue("symbol-placement",k);a=this._avoidEdges=h.getLayoutValue("symbol-avoid-edges",k)&&!c;var l=8*h.getLayoutValue("symbol-spacing",k),p=h.getLayoutProperty("icon-image"),
  n=h.getLayoutProperty("text-field"),t=this._workerTileHandler,u,v;p&&(this._iconLayout=new m.IconLayout(h,k,c),u=t.getSpriteItems(),v=this._getTranslate(!0));var A,I,J;if(n){A=this._textLayout=new m.TextLayout(h,k,c);this._fontArray=A.fontArray;J=.5;switch(A.anchor){case 5:case 1:case 7:J=0;break;case 6:case 2:case 8:J=1}I=.5;switch(A.anchor){case 5:case 3:case 6:I=0;break;case 7:case 4:case 8:I=1}h=.5;switch(A.justify){case 0:h=0;break;case 2:h=1}var k=24*A.letterSpacing,p=c?0:24*A.maxWidth,n=24*
  A.lineHeight,L=[24*A.offset[0],24*A.offset[1]];A=this._fontArray.map(function(a){return t.getGlyphItems(a)});I=new b.TextShaping(A,p,n,k,L,J,I,h);J=this._getTranslate(!1)}this._iconIndexStart=this._iconIndexBuffer.index;this._textIndexStart=this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();this._symbolInstances=h=[];k=this._textLayout;p=1;k&&k.size&&(p=k.size/24);n=k?k.maxAngle*e.C_DEG_TO_RAD:0;A=k?8*k.size:0;for(var L=0,G=this._symbolFeatures;L<
  G.length;L++){var H=G[L],S=void 0;H.sprite&&(S=u[H.sprite])&&S.sdf&&(this._sdfMarkers=!0);var N=void 0,E=H.label,Q=0;if(E&&(N=I.getShaping(E,H.rtl))&&0<N.length){for(var Q=1E30,E=-1E30,K=0,R=N;K<R.length;K++)var T=R[K],Q=Math.min(Q,T.x),E=Math.max(E,T.x);Q=(E-Q+48)*p*8}E=0;for(K=H.geometry;E<K.length;E++){var R=K[E],P=void 0;c?(N&&0<N.length&&k&&k.size&&d._smoothVertices(R,8*k.size*(2+Math.min(2,4*Math.abs(k.offset[1])))),P=d._findAnchors(R,l,Q)):P=3===H.type?d._findCentroid(R):[new f.Anchor(R[0].x,
  R[0].y)];for(T=0;T<P.length;T++){var U=P[T];0>U.x||4096<U.x||0>U.y||4096<U.y||c&&0<Q&&0===k.rotationAlignment&&!d._honorsTextMaxAngle(R,U,Q,n,A)||h.push({shaping:N,line:R,iconMosaicItem:S,anchor:U,iconSize:H.iconSize,iconRotate:H.iconRotate,ddIconValues:H.ddIconValues,textSize:H.textSize,textRotate:H.textRotate,ddTextValues:H.ddTextValues})}}}h.sort(g);for(u=0;u<h.length;u++)this._processFeature(h[u],v,J,a);this._addPlacedGlyphs()};d.prototype.updateSymbols=function(){this._iconIndexStart=this._iconIndexBuffer.index;
  this._textIndexStart=this._textIndexBuffer.index;this._textIndexCount=this._iconIndexCount=0;this._markerMap.clear();this._glyphMap.clear();var a=this._avoidEdges,b=this.layer,c;b.getLayoutProperty("icon-image")&&(c=this._getTranslate(!0));var d;b.getLayoutProperty("text-field")&&(d=this._getTranslate(!1));for(var b=0,e=this._symbolInstances;b<e.length;b++)this._processFeature(e[b],c,d,a);this._addPlacedGlyphs()};d.prototype._getTranslate=function(a){var b=this.layer.getPaintValue(a?"icon-translate":
  "text-translate",this.zoom);if(0!==b[0]||0!==b[1]){var c=this._placementEngine.mapAngle;return 0!==c&&0===this.layer.getPaintValue(a?"icon-translate-anchor":"text-translate-anchor",this.zoom)?(a=Math.sin(c),c=Math.cos(c),[8*(b[0]*c-b[1]*a),8*(b[0]*a+b[1]*c)]):[8*b[0],8*b[1]]}};d.prototype._replaceKeys=function(a,b){return a.replace(/{([^{}]+)}/g,function(a,c){return c in b?b[c]:""})};d.prototype._processFeature=function(a,b,d,g){var f=a.line,h=a.iconMosaicItem,k=a.shaping,l=a.anchor,m=this._iconLayout,
  p=m&&!!h,t=!0,v=1;p&&(m.size=a.iconSize,m.rotate=a.iconRotate,v=8*m.size,t=m.optional||!h);var w=this._textLayout,A=w&&k&&0<k.length,y;y=1;var H=!0;A&&(w.size=a.textSize,w.rotate=a.textRotate,y=w.size/24,y*=8,H=w.optional||!k||0===k.length);var S=new c.Point(0,-17),N;p&&(N=this._placementEngine.getIconPlacement(l,b,h,v,f,m,g),l.minzoom>N.footprint.minzoom&&(N.footprint.minzoom=l.minzoom),N.footprint.minzoom===e.C_INFINITY&&(N=null));if(N||t){var E;A&&(E=this._placementEngine.getTextPlacement(l,d,
  S,k,y,f,w,g))&&(l.minzoom>E.footprint.minzoom&&(E.footprint.minzoom=l.minzoom),E.footprint.minzoom===e.C_INFINITY&&(E=null));if(E||H)N&&E||(H||t?H||E?t||N||(E=null):N=null:E=N=null),N&&E&&!H&&!t&&(b=Math.max(N.footprint.minzoom,E.footprint.minzoom),N.footprint.minzoom=b,E.footprint.minzoom=b),E&&(w.ignorePlacement||this._placementEngine.add(E),this._storePlacedGlyphs(E.shapes,E.footprint.minzoom,this.zoom,a.ddTextValues)),N&&(m.ignorePlacement||this._placementEngine.add(N),this._addPlacedIcons(N.shapes,
  N.footprint.minzoom,this.zoom,h.page,a.ddIconValues))}};d.prototype._addPlacedIcons=function(a,b,c,d,g){b=Math.max(c+e.log2(b),0);for(var f=this._iconVertexBuffer,h=this._iconIndexBuffer,k=0;k<a.length;k++){var l=a[k],m=Math.max(c+e.log2(l.minzoom),b),p=Math.min(c+e.log2(l.maxzoom),25);if(!(p<=m)){var t=l.tl,v=l.tr,w=l.bl,A=l.br,y=l.mosaicRect,B=l.labelAngle,l=l.anchor,N=f.index,E=y.x,Q=y.y,K=E+y.width,y=Q+y.height;f.add(l.x,l.y,t.x,t.y,E,Q,B,m,p,b,g);f.add(l.x,l.y,v.x,v.y,K,Q,B,m,p,b,g);f.add(l.x,
  l.y,w.x,w.y,E,y,B,m,p,b,g);f.add(l.x,l.y,A.x,A.y,K,y,B,m,p,b,g);h.add(N+0,N+1,N+2);h.add(N+1,N+2,N+3);this._markerMap.has(d)?this._markerMap.get(d)[1]+=6:this._markerMap.set(d,[this._iconIndexStart+this._iconIndexCount,6]);this._iconIndexCount+=2}}};d.prototype._addPlacedGlyphs=function(){var a=this,b=this._textVertexBuffer,c=this._textIndexBuffer;this._glyphBufferDataStorage.forEach(function(d,e){for(var g=0;g<d.length;g++){var f=d[g],h=b.index;b.add(f.glyphAnchor[0],f.glyphAnchor[1],f.tl[0],f.tl[1],
  f.xmin,f.ymin,f.labelAngle,f.minLod,f.maxLod,f.placementLod,f.ddValues);b.add(f.glyphAnchor[0],f.glyphAnchor[1],f.tr[0],f.tr[1],f.xmax,f.ymin,f.labelAngle,f.minLod,f.maxLod,f.placementLod,f.ddValues);b.add(f.glyphAnchor[0],f.glyphAnchor[1],f.bl[0],f.bl[1],f.xmin,f.ymax,f.labelAngle,f.minLod,f.maxLod,f.placementLod,f.ddValues);b.add(f.glyphAnchor[0],f.glyphAnchor[1],f.br[0],f.br[1],f.xmax,f.ymax,f.labelAngle,f.minLod,f.maxLod,f.placementLod,f.ddValues);c.add(h+0,h+1,h+2);c.add(h+1,h+2,h+3);a._glyphMap.has(e)?
  a._glyphMap.get(e)[1]+=6:a._glyphMap.set(e,[a._textIndexStart+a._textIndexCount,6]);a._textIndexCount+=2}});this._glyphBufferDataStorage.clear()};d.prototype._storePlacedGlyphs=function(a,b,c,d){b=Math.max(c+e.log2(b),0);for(var g=0;g<a.length;g++){var f=a[g],h=Math.max(c+e.log2(f.minzoom),b),k=Math.min(c+e.log2(f.maxzoom),25);if(!(k<=h)){var l=f.tl,m=f.tr,p=f.bl,t=f.br,v=f.labelAngle,w=f.anchor,y=f.mosaicRect;this._glyphBufferDataStorage.has(f.page)||this._glyphBufferDataStorage.set(f.page,[]);this._glyphBufferDataStorage.get(f.page).push({glyphAnchor:[w.x,
  w.y],tl:[l.x,l.y],tr:[m.x,m.y],bl:[p.x,p.y],br:[t.x,t.y],xmin:y.x,ymin:y.y,xmax:y.x+y.width,ymax:y.y+y.height,labelAngle:v,minLod:h,maxLod:k,placementLod:b,ddValues:d})}}};d._findAnchors=function(a,b,d){b+=d;for(var g=0,h=a.length-1,k=0;k<h;k++)g+=c.Point.distance(a[k],a[k+1]);k=.5*(d||b);if(g<=k)return[];d=k/g;b=g/Math.max(Math.round(g/b),1);for(var g=0,h=-b/2,l=[],m=a.length-1,k=0;k<m;k++){for(var p=a[k],t=a[k+1],v=t.x-p.x,w=t.y-p.y,A=Math.sqrt(v*v+w*w),L=void 0;h+b<g+A;){var h=h+b,G=(h-g)/A,H=
  e.interpolate(p.x,t.x,G),G=e.interpolate(p.y,t.y,G);void 0===L&&(L=Math.atan2(w,v));l.push(new f.Anchor(H,G,L,k,d))}g+=A}return l};d._deviation=function(a,b,c){return Math.atan2((b.x-a.x)*(c.y-b.y)-(b.y-a.y)*(c.x-b.x),(b.x-a.x)*(c.x-b.x)+(b.y-a.y)*(c.y-b.y))};d._honorsTextMaxAngle=function(a,b,d,e,g){var f=0;d/=2;for(var h=new c.Point(b.x,b.y),k=b.segment+1;f>-d;){--k;if(0>k)return!1;f-=c.Point.distance(a[k],h);h=a[k]}f+=c.Point.distance(a[k],a[k+1]);b=[];for(var h=0,l=a.length;f<d;){var m=a[k],p=
  void 0;do{++k;if(k===l)return!1;p=a[k]}while(p.isEqual(m));var t=k,v=void 0;do{++t;if(t===l)return!1;v=a[t]}while(v.isEqual(p));m=this._deviation(m,p,v);b.push({deviation:m,distToAnchor:f});for(h+=m;f-b[0].distToAnchor>g;)h-=b.shift().deviation;if(Math.abs(h)>e)return!1;f+=c.Point.distance(p,v)}return!0};d._smoothVertices=function(a,b){if(!(0>=b)){var d=a.length;if(!(3>d)){var e=[],g=0;e.push(0);for(var f=1;f<d;f++)g+=c.Point.distance(a[f],a[f-1]),e.push(g);b=Math.min(b,.2*g);g=[];g.push(a[0].x);
  g.push(a[0].y);var h=a[d-1].x,k=a[d-1].y,f=c.Point.sub(a[0],a[1]);f.normalize();a[0].x+=b*f.x;a[0].y+=b*f.y;f.assignSub(a[d-1],a[d-2]);f.normalize();a[d-1].x+=b*f.x;a[d-1].y+=b*f.y;for(f=1;f<d;f++)e[f]+=b;e[d-1]+=b;for(var l=.5*b,f=1;f<d-1;f++){for(var m=0,p=0,t=0,v=f-1;0<=v&&!(e[v+1]<e[f]-l);v--){var A=l+e[v+1]-e[f],G=e[v+1]-e[v],H=e[f]-e[v]<l?1:A/G;if(1E-6>Math.abs(H))break;var S=H*H,N=H*A-.5*S*G,E=H*G/b,Q=a[v+1],K=a[v].x-Q.x,R=a[v].y-Q.y,m=m+E/N*(Q.x*H*A+.5*S*(A*K-G*Q.x)-S*H*G*K/3),p=p+E/N*(Q.y*
  H*A+.5*S*(A*R-G*Q.y)-S*H*G*R/3),t=t+E}for(v=f+1;v<d&&!(e[v-1]>e[f]+l);v++){A=l-e[v-1]+e[f];G=e[v]-e[v-1];H=e[v]-e[f]<l?1:A/G;if(1E-6>Math.abs(H))break;S=H*H;N=H*A-.5*S*G;E=H*G/b;Q=a[v-1];K=a[v].x-Q.x;R=a[v].y-Q.y;m+=E/N*(Q.x*H*A+.5*S*(A*K-G*Q.x)-S*H*G*K/3);p+=E/N*(Q.y*H*A+.5*S*(A*R-G*Q.y)-S*H*G*R/3);t+=E}g.push(m/t);g.push(p/t)}g.push(h);g.push(k);for(v=f=0;f<d;f++)a[f].x=g[v++],a[f].y=g[v++]}}};d._findCentroid=function(a){var b=a.length-1,c=0,d=0,e=0,g=a[0].x,h=a[0].y;4096<g&&(g=4096);0>g&&(g=0);
  4096<h&&(h=4096);0>h&&(h=0);for(var k=1;k<b;k++){var l=a[k].x,m=a[k].y,p=a[k+1].x,t=a[k+1].y;4096<l&&(l=4096);0>l&&(l=0);4096<m&&(m=4096);0>m&&(m=0);4096<p&&(p=4096);0>p&&(p=0);4096<t&&(t=4096);0>t&&(t=0);var v=(l-g)*(t-h)-(p-g)*(m-h),c=c+v*(g+l+p),d=d+v*(h+m+t),e=e+v}c/=3*e;d/=3*e;return isNaN(c)||isNaN(d)?[]:[new f.Anchor(c,d)]};d._bidiEngine=new p;return d}(h)})},"dojox/string/BidiEngine":function(){define(["dojo/_base/lang","dojo/_base/declare","dojo/Stateful"],function(l,a,k){function p(a,b,
  c,d,g){var f=a;void 0===b&&(b=g.defInFormat);void 0===c&&(c=g.defOutFormat);void 0===d&&(d=g.defSwap);if(b!==c){var k,l=b.substring(0,1);k=b.substring(1,4);var n=c.substring(0,1),q=c.substring(1,4);"C"===k.charAt(0)&&(k=h(f),k="ltr"===k||"rtl"===k?k.toUpperCase():"L"===b.charAt(2)?"LTR":"RTL",b=l+k);"C"===q.charAt(0)&&(k=h(f),"rtl"===k?q="RTL":"ltr"===k?(f=f.split(""),f.reverse(),k=h(f.join("")),q=k.toUpperCase()):q="L"===c.charAt(2)?"LTR":"RTL",c=n+q)}if(b===c)return a;n=b.substring(0,1);f=b.substring(1,
  4);l=c.substring(0,1);q=c.substring(1,4);g.inFormat=b;g.outFormat=c;g.swap=d;if("L"===n&&"VLTR"===c){if("LTR"===f)return g.dir=F,e(a,g);if("RTL"===f)return g.dir=I,e(a,g)}if("V"===n&&"V"===l)return g.dir="RTL"===f?I:F,m(a,g);if("L"===n&&"VRTL"===c)return g.dir="LTR"===f?F:I,a=e(a,g),m(a);if("VLTR"===b&&"LLTR"===c)return g.dir=F,e(a,g);if("V"===n&&"L"===l&&f!==q)return a=m(a),"RTL"===f?p(a,"LLTR","VLTR",d,g):p(a,"LRTL","VRTL",d,g);if("VRTL"===b&&"LRTL"===c)return p(a,"LRTL","VRTL",d,g);if("L"===n&&
  "L"===l)return b=g.swap,g.swap=b.substr(0,1)+"N","RTL"===f?(g.dir=I,a=e(a,g),g.swap="N"+b.substr(1,2),g.dir=F,a=e(a,g)):(g.dir=F,a=e(a,g),g.swap="N"+b.substr(1,2),a=p(a,"VLTR","LRTL",g.swap,g)),a}function h(a){return(a=/[A-Za-z\u05d0-\u065f\u066a-\u06ef\u06fa-\u07ff\ufb1d-\ufdff\ufe70-\ufefc]/.exec(a))?"z">=a[0]?"ltr":"rtl":""}function e(a,b){a=a.split("");var c=[];f(a,c,b);if(0!==b.hiLevel&&b.swap.substr(0,1)!==b.swap.substr(1,2))for(var d=0;d<a.length;d++)if(1===c[d]){var e=d,h;b:{h=a[d];for(var k=
  void 0,l=0,m=G.length-1;l<=m;)if(k=Math.floor((l+m)/2),h<G[k][0])m=k-1;else if(h>G[k][0])l=k+1;else{h=G[k][1];break b}}a[e]=h}g(2,a,c,b);g(1,a,c,b);n=c;return a.join("")}function f(a,b,c){var d=a.length,e=c.dir?aa:da,g=null,f=null,h=null,g=0,f=f=null,k=-1,l=f=null,m=[],p=[];c.hiLevel=c.dir;c.lastArabic=!1;c.hasUbatAl=!1;c.hasUbatB=!1;c.hasUbatS=!1;for(f=0;f<d;f++){var l=f,h=a[f].charCodeAt(0),n=pa[h>>8];m[l]=n<ha?n:ra[n-ha][h&255]}for(l=0;l<d;l++){p[l]=f=t(a,m,p,l,c);g=e[g][f];f=g&240;g&=15;b[l]=
  h=e[g][u];if(0<f){if(16===f)for(f=k;f<l;f++)b[f]=1;k=-1}if(f=e[g][z])-1===k&&(k=l);else if(-1<k){for(f=k;f<l;f++)b[f]=h;k=-1}m[l]===Y&&(b[l]=0);c.hiLevel|=h}if(c.hasUbatS)for(a=0;a<d;a++)if(m[a]===ka)for(b[a]=c.dir,e=a-1;0<=e;e--)if(m[e]===oa)b[e]=c.dir;else break}function m(a,b){a=a.split("");if(b){var c=[];f(a,c,b);n=c}a.reverse();B.reverse();return a.join("")}function c(a){for(var b=0;b<ia.length;b++)if(a>=ia[b]&&a<=ca[b])return!0;return!1}function b(a,b,d,e){for(;b*d<e&&v(a[b]);)b+=d;return b*
  d<e&&c(a[b])?!0:!1}function g(a,b,c,d){if(!(d.hiLevel<a))if(1!==a||d.dir!==I||d.hasUbatB){d=b.length;for(var e=0,g,f,h;e<d;){if(c[e]>=a){for(g=e+1;g<d&&c[g]>=a;)g++;for(f=g-1;e<f;e++,f--)h=b[e],b[e]=b[f],b[f]=h,h=B[e],B[e]=B[f],B[f]=h;e=g}e++}}else b.reverse(),B.reverse()}function t(a,b,c,d,e){return{UBAT_L:function(){e.lastArabic=!1;return ba},UBAT_R:function(){e.lastArabic=!1;return ga},UBAT_ON:function(){return W},UBAT_AN:function(){return ea},UBAT_EN:function(){return e.lastArabic?ea:V},UBAT_AL:function(){e.lastArabic=
  !0;e.hasUbatAl=!0;return ga},UBAT_WS:function(){return W},UBAT_CS:function(){var a,g;if(1>d||d+1>=b.length||(a=c[d-1])!==V&&a!==ea||(g=b[d+1])!==V&&g!==ea)return W;e.lastArabic&&(g=ea);return g===a?g:W},UBAT_ES:function(){return(0<d?c[d-1]:Y)===V&&d+1<b.length&&b[d+1]===V?V:W},UBAT_ET:function(){if(0<d&&c[d-1]===V)return V;if(e.lastArabic)return W;for(var a=d+1,g=b.length;a<g&&b[a]===fa;)a++;return a<g&&b[a]===V?V:W},UBAT_NSM:function(){if("VLTR"===e.inFormat){for(var g=b.length,f=d+1;f<g&&b[f]===
  la;)f++;if(f<g&&(g=a[d],f=b[f],(1425<=g&&2303>=g||64286===g)&&(f===ga||f===ma)))return ga}return 1>d||b[d-1]===Y?W:c[d-1]},UBAT_B:function(){e.lastArabic=!0;e.hasUbatB=!0;return e.dir},UBAT_S:function(){e.hasUbatS=!0;return W},UBAT_LRE:function(){e.lastArabic=!1;return W},UBAT_RLE:function(){e.lastArabic=!1;return W},UBAT_LRO:function(){e.lastArabic=!1;return W},UBAT_RLO:function(){e.lastArabic=!1;return W},UBAT_PDF:function(){e.lastArabic=!1;return W},UBAT_BN:function(){return W}}[ja[b[d]]]()}function d(a,
  b){for(var c=0;c<E.length;c++)if(a===E[c])return b[c];return a}function v(a){return"\u064b"<=a&&"\u0655">=a?!0:!1}function A(a){if("L"===a)return"LTR";if("R"===a)return"RTL";if("C"===a)return"CLR";if("D"===a)return"CRL"}function w(a,b){for(var c=0;c<H.length;c++)if(a===H[c])return b[c];return a}function y(a,b,c,d){for(var e=0;e<a.length;e++)if(a[e]>b||!c&&a[e]===b)a[e]+=d}l.getObject("string",!0,dojox);l=a("dojox.string.BidiEngine",k,{inputFormat:"ILYNN",outputFormat:"VLNNN",sourceToTarget:[],targetToSource:[],
  levels:[],bidiTransform:function(a,e,g){this.sourceToTarget=[];this.targetToSource=[];if(!a)return"";var f=this.sourceToTarget,h=this.targetToSource,k=a.length;B=[];n=[];for(var l=0;l<k;l++)f[l]=l,h[l]=l,B[l]=l;if(!this.checkParameters(e,g))return a;e=this.inputFormat;g=this.outputFormat;var f=a,f=D,l=A(e.charAt(1)),h=A(g.charAt(1)),m="I"===e.charAt(0)?"L":e.charAt(0),k="I"===g.charAt(0)?"L":g.charAt(0),l=m+l,h=k+h,k=e.charAt(2)+g.charAt(2);f.defInFormat=l;f.defOutFormat=h;f.defSwap=k;a=p(a,l,h,k,
  f);f=!1;if("R"===g.charAt(1))f=!0;else if("C"===g.charAt(1)||"D"===g.charAt(1))f=this.checkContextual(a);h=this.sourceToTarget=B;k=Array(h.length);for(l=0;l<h.length;l++)k[h[l]]=l;C=this.targetToSource=k;if(e.charAt(3)===g.charAt(3))f=a;else if("S"===g.charAt(3))if(e=f,g=!0,0===a.length)f=void 0;else{void 0===e&&(e=!0);void 0===g&&(g=!0);a=String(a);a=a.split("");var q=0,h=1,f=a.length;e||(q=a.length-1,h=-1,f=1);for(var k=f,l=g,r=0,f=[],m=0;q*h<k;q+=h)if(c(a[q])||v(a[q])){var t;if(t="\u0644"===a[q])b:{for(var u=
  a,x=q+h,G=h,z=k;x*G<z&&v(u[x]);)x+=G;t=" ";if(x*G<z)for(t=u[x],u=0;u<H.length;u++)if(H[u]===t){t=!0;break b}t=!1}if(t){a[q]=0===r?w(a[q+h],S):w(a[q+h],N);q+=h;r=a;t=q;u=h;for(x=k;t*u<x&&v(r[t]);)t+=u;t*u<x&&(r[t]=" ");l&&(f[m]=q,m++);r=0}else{t=a[q];if(1===r){u=q;if(b(a,q+h,h,k))b:for(x=a[q],G=0;G<E.length;G++){if(x===E[G]){x=R[G];break b}}else x=d(a[q],K);a[u]=x}else!0===b(a,q+h,h,k)?a[q]=d(a[q],T):a[q]=d(a[q],Q);v(t)||(r=1);b:{for(u=0;u<P.length;u++)if(P[u]===t){t=!0;break b}t=!1}!0===t&&(r=0)}}else r=
  0;h="";for(k=0;k<a.length;k++){if(l=g){b:{for(l=0;l<f.length;l++)if(f[l]===k)break b;l=-1}l=-1<l}l?(y(C,k,!e,-1),B.splice(k,1)):h+=a[k]}f=h}else if(e=a,g=f,a=!0,0===e.length)f=void 0;else for(void 0===a&&(a=!0),void 0===g&&(g=!0),e=String(e),f="",h=[],h=e.split(""),k=0;k<e.length;k++)l=!1,"\ufe70"<=h[k]&&"\ufeff">h[k]?(m=e.charCodeAt(k),"\ufef5"<=h[k]&&"\ufefc">=h[k]?(g?(0<k&&a&&" "===h[k-1]?f=f.substring(0,f.length-1)+"\u0644":(f+="\u0644",l=!0),f+=H[(m-65269)/2]):(f+=H[(m-65269)/2],f+="\u0644",
  k+1<e.length&&a&&" "===h[k+1]?k++:l=!0),l&&(y(C,k,!0,1),B.splice(k,0,B[k]))):f+=U[m-65136]):f+=h[k];this.sourceToTarget=B;this.targetToSource=C;this.levels=n;return f},_inputFormatSetter:function(a){if(!J.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.inputFormat=a},_outputFormatSetter:function(a){if(!J.test(a))throw Error("dojox/string/BidiEngine: the bidi layout string is wrong!");this.outputFormat=a},checkParameters:function(a,b){a?this.set("inputFormat",
  a):a=this.inputFormat;b?this.set("outputFormat",b):b=this.outputFormat;return a===b?!1:!0},checkContextual:function(a){a=h(a);if("ltr"!==a&&"rtl"!==a){try{a=document.dir.toLowerCase()}catch(ta){}"ltr"!==a&&"rtl"!==a&&(a="ltr")}return a},hasBidiChar:function(a){return L.test(a)}});var B=[],C=[],n=[],D={dir:0,defInFormat:"LLTR",defoutFormat:"VLTR",defSwap:"YN",inFormat:"LLTR",outFormat:"VLTR",swap:"YN",hiLevel:0,lastArabic:!1,hasUbatAl:!1,hasBlockSep:!1,hasSegSep:!1},u=5,z=6,F=0,I=1,J=/^[(I|V)][(L|R|C|D)][(Y|N)][(S|N)][N]$/,
  L=/[\u0591-\u06ff\ufb1d-\ufefc]/,G=[["(",")"],[")","("],["\x3c","\x3e"],["\x3e","\x3c"],["[","]"],["]","["],["{","}"],["}","{"],["\u00ab","\u00bb"],["\u00bb","\u00ab"],["\u2039","\u203a"],["\u203a","\u2039"],["\u207d","\u207e"],["\u207e","\u207d"],["\u208d","\u208e"],["\u208e","\u208d"],["\u2264","\u2265"],["\u2265","\u2264"],["\u2329","\u232a"],["\u232a","\u2329"],["\ufe59","\ufe5a"],["\ufe5a","\ufe59"],["\ufe5b","\ufe5c"],["\ufe5c","\ufe5b"],["\ufe5d","\ufe5e"],["\ufe5e","\ufe5d"],["\ufe64","\ufe65"],
  ["\ufe65","\ufe64"]],H=["\u0622","\u0623","\u0625","\u0627"],S=["\ufef5","\ufef7","\ufef9","\ufefb"],N=["\ufef6","\ufef8","\ufefa","\ufefc"],E="\u0627\u0628\u062a\u062b\u062c\u062d\u062e\u062f\u0630\u0631\u0632\u0633\u0634\u0635\u0636\u0637\u0638\u0639\u063a\u0641\u0642\u0643\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u0644\u0645\u0646\u0647\u0648\u064a\u0625\u0623\u0622\u0629\u0649\u06cc\u0626\u0624".split(""),Q="\ufe8d\ufe8f\ufe95\ufe99\ufe9d\ufea1\ufea5\ufea9\ufeab\ufead\ufeaf\ufeb1\ufeb5\ufeb9\ufebd\ufec1\ufec5\ufec9\ufecd\ufed1\ufed5\ufed9\ufedd\ufee1\ufee5\ufee9\ufeed\ufef1\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfc\ufe89\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe89\ufe85".split(""),
  K="\ufe8e\ufe90\ufe96\ufe9a\ufe9e\ufea2\ufea6\ufeaa\ufeac\ufeae\ufeb0\ufeb2\ufeb6\ufeba\ufebe\ufec2\ufec6\ufeca\ufece\ufed2\ufed6\ufeda\ufede\ufee2\ufee6\ufeea\ufeee\ufef2\ufe88\ufe84\ufe82\ufe94\ufef0\ufbfd\ufe8a\ufe86\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8a\ufe86".split(""),R="\ufe8e\ufe92\ufe98\ufe9c\ufea0\ufea4\ufea8\ufeaa\ufeac\ufeae\ufeb0\ufeb4\ufeb8\ufebc\ufec0\ufec4\ufec8\ufecc\ufed0\ufed4\ufed8\ufedc\ufee0\ufee4\ufee8\ufeec\ufeee\ufef4\ufe88\ufe84\ufe82\ufe94\ufef0\ufbff\ufe8c\ufe86\ufe71\ufe72\ufe74\ufe77\ufe79\ufe7b\ufe7d\ufe7f\ufe80\ufe8c\ufe86".split(""),
  T="\ufe8d\ufe91\ufe97\ufe9b\ufe9f\ufea3\ufea7\ufea9\ufeab\ufead\ufeaf\ufeb3\ufeb7\ufebb\ufebf\ufec3\ufec7\ufecb\ufecf\ufed3\ufed7\ufedb\ufedf\ufee3\ufee7\ufeeb\ufeed\ufef3\ufe87\ufe83\ufe81\ufe93\ufeef\ufbfe\ufe8b\ufe85\ufe70\ufe72\ufe74\ufe76\ufe78\ufe7a\ufe7c\ufe7e\ufe80\ufe8b\ufe85".split(""),P="\u0621\u0622\u0623\u0624\u0625\u0627\u0629\u062f\u0630\u0631\u0632\u0648\u0649".split(""),U="\u064b\u064b\u064c\u061f\u064d\u061f\u064e\u064e\u064f\u064f\u0650\u0650\u0651\u0651\u0652\u0652\u0621\u0622\u0622\u0623\u0623\u0624\u0624\u0625\u0625\u0626\u0626\u0626\u0626\u0627\u0627\u0628\u0628\u0628\u0628\u0629\u0629\u062a\u062a\u062a\u062a\u062b\u062b\u062b\u062b\u062c\u062c\u062c\u062c\u062d\u062d\u062d\u062d\u062e\u062e\u062e\u062e\u062f\u062f\u0630\u0630\u0631\u0631\u0632\u0632\u0633\u0633\u0633\u0633\u0634\u0634\u0634\u0634\u0635\u0635\u0635\u0635\u0636\u0636\u0636\u0636\u0637\u0637\u0637\u0637\u0638\u0638\u0638\u0638\u0639\u0639\u0639\u0639\u063a\u063a\u063a\u063a\u0641\u0641\u0641\u0641\u0642\u0642\u0642\u0642\u0643\u0643\u0643\u0643\u0644\u0644\u0644\u0644\u0645\u0645\u0645\u0645\u0646\u0646\u0646\u0646\u0647\u0647\u0647\u0647\u0648\u0648\u0649\u0649\u064a\u064a\u064a\u064a\ufef5\ufef6\ufef7\ufef8\ufef9\ufefa\ufefb\ufefc\u061f\u061f\u061f".split(""),
  ia=["\u0621","\u0641"],ca=["\u063a","\u064a"],da=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],aa=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],ba=0,ga=1,V=2,ea=3,W=4,Y=5,ka=6,ma=7,oa=8,fa=11,la=12,ja="UBAT_L UBAT_R UBAT_EN UBAT_AN UBAT_ON UBAT_B UBAT_S UBAT_AL UBAT_WS UBAT_CS UBAT_ES UBAT_ET UBAT_NSM UBAT_LRE UBAT_RLE UBAT_PDF UBAT_LRO UBAT_RLO UBAT_BN".split(" "),ha=100;a=ba;k=ga;var M=V,X=ea,q=W,na=Y,qa=ka,r=ma,Z=oa,O=
  fa,x=la,pa=[ha+0,a,a,a,a,ha+1,ha+2,ha+3,k,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,ha+4,q,q,q,a,q,a,q,a,q,q,q,a,a,q,q,a,a,a,a,a,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,a,a,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,a,a,a,a,a,a,a,a,a,a,a,a,a,a,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,a,a,q,q,a,a,q,q,a,a,q,q,q,q,q,q,q,q,q,q,q,q,
  q,q,q,q,q,q,q,q,q,q,q,a,a,a,ha+5,r,r,ha+6,ha+7],ra=[[18,18,18,18,18,18,18,18,18,qa,na,qa,Z,na,18,18,18,18,18,18,18,18,18,18,18,18,18,18,na,na,na,qa,Z,q,q,O,O,O,q,q,q,q,q,10,9,10,9,9,M,M,M,M,M,M,M,M,M,M,9,q,q,q,q,q,q,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,q,q,q,q,q,q,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,q,q,q,q,18,18,18,18,18,18,na,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,18,9,q,O,O,O,O,q,q,q,q,a,q,q,18,q,q,O,O,M,M,q,a,q,q,q,M,a,q,q,q,q,
  q,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,q,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,q,a,a,a,a,a,a,a,a],[a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,q,q,q,q,q,q,q,q,q,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,q,q,a,a,a,a,a,a,a,q,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,q,a,q,q,q,q,q,q,q,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,
  x,x,x,x,x,k,x,k,x,x,k,x,x,k,x,q,q,q,q,q,q,q,q,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,q,q,q,q,q,k,k,k,k,k,q,q,q,q,q,q,q,q,q,q,q],[X,X,X,X,q,q,q,q,r,O,O,r,9,r,q,q,x,x,x,x,x,x,x,x,x,x,x,r,q,q,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,X,X,X,X,X,X,X,X,X,X,O,X,X,r,r,r,x,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,
  r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,x,x,x,x,x,x,x,X,q,x,x,x,x,x,x,r,r,x,x,q,x,x,x,x,r,r,M,M,M,M,M,M,M,M,M,M,r,r,r,r,r,r],[r,r,r,r,r,r,r,r,r,r,r,r,r,r,q,r,r,x,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,q,q,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,x,x,x,x,x,x,x,
  x,x,x,x,r,q,q,q,q,q,q,q,q,q,q,q,q,q,q,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,k,x,x,x,x,x,x,x,x,x,k,k,q,q,q,q,k,q,q,q,q,q],[Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,Z,18,18,18,a,k,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,Z,na,13,14,15,16,17,9,O,O,O,O,O,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,9,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,Z,18,18,18,18,18,q,q,q,q,q,18,18,18,18,18,18,M,a,q,q,M,M,M,M,M,M,10,10,q,q,q,a,M,M,M,M,M,M,M,M,M,M,10,10,q,q,q,q,a,a,a,a,a,a,a,a,a,a,a,
  a,a,q,q,q,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,O,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q],[a,a,a,a,a,a,a,q,q,q,q,q,q,q,q,q,q,q,q,a,a,a,a,a,q,q,q,q,q,k,x,k,k,k,k,k,k,k,k,k,k,10,k,k,k,k,k,k,k,k,k,k,k,k,k,q,k,k,k,k,k,q,k,q,k,k,q,k,k,q,k,k,k,k,k,k,k,k,k,k,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,
  r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r],[x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,x,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,x,x,x,x,x,x,x,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,9,q,9,q,q,9,q,q,q,q,q,q,q,q,q,O,q,q,10,10,q,q,q,q,q,O,O,q,q,q,q,q,r,r,r,r,r,q,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,
  r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,r,q,q,18],[q,q,q,O,O,O,q,q,q,q,q,10,9,10,9,9,M,M,M,M,M,M,M,M,M,M,9,q,q,q,q,q,q,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,q,q,q,q,q,q,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,q,q,q,q,q,q,q,q,q,q,q,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,
  a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,a,q,q,q,a,a,a,a,a,a,q,q,a,a,a,a,a,a,q,q,a,a,a,a,a,a,q,q,a,a,a,q,q,q,O,O,q,q,q,O,O,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q,q]];return l})},"dojo/_base/declare":function(){define(["./kernel","../has","./lang"],function(l,a,k){function p(a,b){throw Error("declare"+(b?" "+b:"")+": "+a);}function h(a,b){for(var c=[],d=[{cls:0,refs:[]}],e={},f=1,g=a.length,h=0,k,l,m,n,t;h<g;++h){(k=
  a[h])?"[object Function]"!=u.call(k)&&p("mixin #"+h+" is not a callable constructor.",b):p("mixin #"+h+" is unknown. Did you use dojo.require to pull it in?",b);l=k._meta?k._meta.bases:[k];m=0;for(k=l.length-1;0<=k;--k)n=l[k].prototype,n.hasOwnProperty("declaredClass")||(n.declaredClass="uniqName_"+F++),n=n.declaredClass,e.hasOwnProperty(n)||(e[n]={count:0,refs:[],cls:l[k]},++f),n=e[n],m&&m!==n&&(n.refs.push(m),++m.count),m=n;++m.count;d[0].refs.push(m)}for(;d.length;){m=d.pop();c.push(m.cls);for(--f;t=
  m.refs,1==t.length;){m=t[0];if(!m||--m.count){m=0;break}c.push(m.cls);--f}if(m)for(h=0,g=t.length;h<g;++h)m=t[h],--m.count||d.push(m)}f&&p("can't build consistent linearization",b);k=a[0];c[0]=k?k._meta&&k===c[c.length-k._meta.bases.length]?k._meta.bases.length:1:0;return c}function e(a,b,c,d){var e,f,g,h,k,l,m=this._inherited=this._inherited||{};"string"===typeof a&&(e=a,a=b,b=c,c=d);if("function"===typeof a)g=a,a=b,b=c;else try{g=a.callee}catch(P){if(P instanceof TypeError)p("strict mode inherited() requires the caller function to be passed before arguments",
  this.declaredClass);else throw P;}(e=e||g.nom)||p("can't deduce a name to call inherited()",this.declaredClass);c=d=0;h=this.constructor._meta;d=h.bases;l=m.p;if("constructor"!=e){if(m.c!==g&&(l=0,k=d[0],h=k._meta,h.hidden[e]!==g)){(f=h.chains)&&"string"==typeof f[e]&&p("calling chained method with inherited: "+e,this.declaredClass);do if(h=k._meta,f=k.prototype,h&&(f[e]===g&&f.hasOwnProperty(e)||h.hidden[e]===g))break;while(k=d[++l]);l=k?l:-1}if(k=d[++l])if(f=k.prototype,k._meta&&f.hasOwnProperty(e))c=
  f[e];else{g=D[e];do if(f=k.prototype,(c=f[e])&&(k._meta?f.hasOwnProperty(e):c!==g))break;while(k=d[++l])}c=k&&c||D[e]}else{if(m.c!==g&&(l=0,(h=d[0]._meta)&&h.ctor!==g)){for((f=h.chains)&&"manual"===f.constructor||p("calling chained constructor with inherited",this.declaredClass);(k=d[++l])&&(!(h=k._meta)||h.ctor!==g););l=k?l:-1}for(;(k=d[++l])&&!(c=(h=k._meta)?h.ctor:k););c=k&&c}m.c=c;m.p=l;if(c)return!0===b?c:c.apply(this,b||a)}function f(a,b,c){return"string"===typeof a?"function"===typeof b?this.__inherited(a,
  b,c,!0):this.__inherited(a,b,!0):"function"===typeof a?this.__inherited(a,b,!0):this.__inherited(a,!0)}function m(a,b,c,d){var e=this.getInherited(a,b,c);if(e)return e.apply(this,d||c||b||a)}function c(a){for(var b=this.constructor._meta.bases,c=0,d=b.length;c<d;++c)if(b[c]===a)return!0;return this instanceof a}function b(a,b){for(var c in b)"constructor"!=c&&b.hasOwnProperty(c)&&(a[c]=b[c])}function g(a){C.safeMixin(this.prototype,a);return this}function t(a,b){a instanceof Array||"function"===typeof a||
  (b=a,a=void 0);b=b||{};a=a||[];return C([this].concat(a),b)}function d(a,b){return function(){var c=arguments,d=c,e=c[0],f,g;g=a.length;var h;if(!(this instanceof c.callee))return B(c);if(b&&(e&&e.preamble||this.preamble))for(h=Array(a.length),h[0]=c,f=0;;){(e=c[0])&&(e=e.preamble)&&(c=e.apply(this,c)||c);e=a[f].prototype;(e=e.hasOwnProperty("preamble")&&e.preamble)&&(c=e.apply(this,c)||c);if(++f==g)break;h[f]=c}for(f=g-1;0<=f;--f)e=a[f],(e=(g=e._meta)?g.ctor:e)&&e.apply(this,h?h[f]:c);(e=this.postscript)&&
  e.apply(this,d)}}function v(a,b){return function(){var c=arguments,d=c,e=c[0];if(!(this instanceof c.callee))return B(c);b&&(e&&(e=e.preamble)&&(d=e.apply(this,d)||d),(e=this.preamble)&&e.apply(this,d));a&&a.apply(this,c);(e=this.postscript)&&e.apply(this,c)}}function A(a){return function(){var b=arguments,c=0,d,e;if(!(this instanceof b.callee))return B(b);for(;d=a[c];++c)if(d=(e=d._meta)?e.ctor:d){d.apply(this,b);break}(d=this.postscript)&&d.apply(this,b)}}function w(a,b,c){return function(){var d,
  e,f=0,g=1;c&&(f=b.length-1,g=-1);for(;d=b[f];f+=g)e=d._meta,(d=(e?e.hidden:d.prototype)[a])&&d.apply(this,arguments)}}function y(a){z.prototype=a.prototype;a=new z;z.prototype=null;return a}function B(a){var b=a.callee,c=y(b);b.apply(c,a);return c}function C(l,m,B){"string"!=typeof l&&(B=m,m=l,l="");B=B||{};var z,F,G,E,J,K,L,T=1,P=m;"[object Array]"==u.call(m)?(K=h(m,l),G=K[0],T=K.length-G,m=K[T]):(K=[0],m?"[object Function]"==u.call(m)?(G=m._meta,K=K.concat(G?G.bases:m)):p("base class is not a callable constructor.",
  l):null!==m&&p("unknown base class. Did you use dojo.require to pull it in?",l));if(m)for(F=T-1;;--F){z=y(m);if(!F)break;G=K[F];(G._meta?b:n)(z,G.prototype);E=a("csp-restrictions")?function(){}:new Function;E.superclass=m;E.prototype=z;m=z.constructor=E}else z={};C.safeMixin(z,B);G=B.constructor;G!==D.constructor&&(G.nom="constructor",z.constructor=G);for(F=T-1;F;--F)(G=K[F]._meta)&&G.chains&&(L=n(L||{},G.chains));z["-chains-"]&&(L=n(L||{},z["-chains-"]));m&&m.prototype&&m.prototype["-chains-"]&&
  (L=n(L||{},m.prototype["-chains-"]));G=!L||!L.hasOwnProperty("constructor");K[0]=E=L&&"manual"===L.constructor?A(K):1==K.length?v(B.constructor,G):d(K,G);E._meta={bases:K,hidden:B,chains:L,parents:P,ctor:B.constructor};E.superclass=m&&m.prototype;E.extend=g;E.createSubclass=t;E.prototype=z;z.constructor=E;z.getInherited=f;z.isInstanceOf=c;z.inherited=I;z.__inherited=e;l&&(z.declaredClass=l,k.setObject(l,E));if(L)for(J in L)z[J]&&"string"==typeof L[J]&&"constructor"!=J&&(G=z[J]=w(J,K,"after"===L[J]),
  G.nom=J);return E}var n=k.mixin,D=Object.prototype,u=D.toString,z,F=0;z=a("csp-restrictions")?function(){}:new Function;var I=l.config.isDebug?m:e;l.safeMixin=C.safeMixin=function(a,b){var c,d;for(c in b)d=b[c],d===D[c]&&c in D||"constructor"==c||("[object Function]"==u.call(d)&&(d.nom=c),a[c]=d);return a};return l.declare=C})},"dojo/Stateful":function(){define(["./_base/declare","./_base/lang","./_base/array","./when"],function(l,a,k,p){return l("dojo.Stateful",null,{_attrPairNames:{},_getAttrNames:function(a){var e=
  this._attrPairNames;return e[a]?e[a]:e[a]={s:"_"+a+"Setter",g:"_"+a+"Getter"}},postscript:function(a){a&&this.set(a)},_get:function(a,e){return"function"===typeof this[e.g]?this[e.g]():this[a]},get:function(a){return this._get(a,this._getAttrNames(a))},set:function(a,e){if("object"===typeof a){for(var f in a)a.hasOwnProperty(f)&&"_watchCallbacks"!=f&&this.set(f,a[f]);return this}f=this._getAttrNames(a);var h=this._get(a,f);f=this[f.s];var c;"function"===typeof f?c=f.apply(this,Array.prototype.slice.call(arguments,
  1)):this[a]=e;if(this._watchCallbacks){var b=this;p(c,function(){b._watchCallbacks(a,h,e)})}return this},_changeAttrValue:function(a,e){var f=this.get(a);this[a]=e;this._watchCallbacks&&this._watchCallbacks(a,f,e);return this},watch:function(a,e){var f=this._watchCallbacks;if(!f)var h=this,f=this._watchCallbacks=function(a,c,e,d){var b=function(b){if(b){b=b.slice();for(var d=0,f=b.length;d<f;d++)b[d].call(h,a,c,e)}};b(f["_"+a]);d||b(f["*"])};e||"function"!==typeof a?a="_"+a:(e=a,a="*");var c=f[a];
  "object"!==typeof c&&(c=f[a]=[]);c.push(e);a={};a.unwatch=a.remove=function(){var a=k.indexOf(c,e);-1<a&&c.splice(a,1)};return a}})})},"esri/views/2d/engine/webgl/TextShaping":function(){define(["require","exports","./Rect"],function(l,a,k){Object.defineProperty(a,"__esModule",{value:!0});l=function(){function a(a,e,f,k,c,b,g,l){this._glyphItems=a;this._maxWidth=e;this._lineHeight=f;this._letterSpacing=k;this._offset=c;this._hAnchor=b;this._vAnchor=g;this._justify=l}a.prototype.getShaping=function(a,
  e){for(var f=this._letterSpacing,h=this._lineHeight,c=this._justify,b=this._maxWidth,g=[],k=0,d=0,l=0,p=0,w=-1,y=0,B=-1,C=a.length,n=0;n<C;n++){var D=a.charCodeAt(n);if(10===D){if(n!==C-1){if(w>=p){var k=g[w],u=k.x+k.glyphMosaicItem.metrics.advance,y=Math.max(u,y);c&&this._applyJustification(g,p,w);p=g.length}d=e?d-h:d+h;k=0;++l}}else{for(var u=void 0,z=0,F=this._glyphItems;z<F.length&&!(u=F[z][D]);z++);if(u){g.push({codePoint:D,x:k,y:d,glyphMosaicItem:u});k+=u.metrics.advance+f;if(0<b&&k>b&&0<=B){z=
  B+1;u=g[z].x;y=Math.max(u,y);for(F=z;F<g.length;F++)g[F].y=e?g[F].y-h:g[F].y+h,g[F].x-=u;c&&this._applyJustification(g,p,B);d=e?d-h:d+h;k-=u;++l;p=z;B=-1}++w;32===D&&(B=g.length-1)}}}w>=p&&(k=g[w],y=Math.max(y,k.x+k.glyphMosaicItem.metrics.advance),c&&this._applyJustification(g,p,w));if(0<g.length)for(a=(c-this._hAnchor)*y,f=(-this._vAnchor*(l+1)+.5)*h,e&&l&&(f+=l*h),a+=this._offset[0],f+=this._offset[1],e=0;e<g.length;e++)h=g[e],h.x+=a,h.y+=f;return g};a.getBox=function(a){if(!a.length)return null;
  for(var e=Infinity,f=Infinity,h=0,c=0,b=0;b<a.length;b++)var g=a[b],k=g.glyphMosaicItem.metrics,d=k.height,l=g.x,g=g.y-(d-Math.abs(k.top)),k=l+k.width+k.left,d=g+d,e=Math.min(e,l),h=Math.max(h,k),f=Math.min(f,g),c=Math.max(c,d);return{x:e,y:f,width:h-e,height:c-f}};a.addDecoration=function(a,e){var f=a.length;if(0!==f){for(var h=a[0].x+a[0].glyphMosaicItem.metrics.left,c=a[0].y,b=1;b<f;b++){var g=a[b];if(g.y!==c){var l=a[b-1].x+a[b-1].glyphMosaicItem.metrics.left+a[b-1].glyphMosaicItem.metrics.width;
  a.push({codePoint:0,x:h,y:c+e-3,glyphMosaicItem:{sdf:!0,rect:new k.default(4,0,4,8),metrics:{width:l-h,height:8,left:0,top:0,advance:0},page:0}});c=g.y;h=g.x+g.glyphMosaicItem.metrics.left}}f=a[f-1].x+a[f-1].glyphMosaicItem.metrics.left+a[f-1].glyphMosaicItem.metrics.width;a.push({codePoint:0,x:h,y:c+e-3,glyphMosaicItem:{sdf:!0,rect:new k.default(4,0,4,8),metrics:{width:f-h,height:8,left:0,top:0,advance:0},page:0}})}};a.prototype._applyJustification=function(a,e,f){for(var h=a[f],h=(h.x+h.glyphMosaicItem.metrics.advance)*
  this._justify;e<=f;e++)a[e].x-=h};return a}();a.TextShaping=l})},"esri/views/2d/engine/webgl/Rect":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});l=function(){function a(a,h,e,f){void 0===a&&(a=0);void 0===h&&(h=0);void 0===e&&(e=0);void 0===f&&(f=0);this.x=a;this.y=h;this.width=e;this.height=f}Object.defineProperty(a.prototype,"isEmpty",{get:function(){return 0>=this.width||0>=this.height},enumerable:!0,configurable:!0});a.prototype.union=function(a){this.x=
  Math.min(this.x,a.x);this.y=Math.min(this.y,a.y);this.width=Math.max(this.width,a.width);this.height=Math.max(this.height,a.height)};return a}();a.default=l})},"esri/views/2d/engine/vectorTiles/TileParser":function(){define("require exports ../../../../core/tsSupport/generatorHelper ../../../../core/tsSupport/awaiterHelper ../../../../core/pbf ../../../../core/promiseUtils ./BackgroundBucket ./CircleBucket ./Feature ./FillBucket ./LineBucket ./SourceLayerData ./SymbolBucket ../webgl/TileClipper ../../tiling/enums".split(" "),
  function(l,a,k,p,h,e,f,m,c,b,g,t,d,v,A){return function(){function a(a,b,c){this._pbfTiles={};this._tileClippers={};this._client=c;this._tile=b;this._layers=b.getLayers();var d=b.tileKey.split("/").map(parseFloat);b=d[0];c=d[1];d=d[2];this._level=b;for(var e=0,f=Object.keys(a);e<f.length;e++){var g=f[e],k=a[g];this._pbfTiles[g]=new h(new Uint8Array(k.protobuff),new DataView(k.protobuff));if(k.refKey&&(k=k.refKey.split("/").map(parseFloat)[0],k=b-k,0<k)){var l=(1<<k)-1;this._tileClippers[g]=new v.TileClipper(k,
  c&l,d&l)}this._tileClippers[g]||(this._tileClippers[g]=new v.SimpleBuilder)}}a.prototype.parse=function(a){return p(this,void 0,void 0,function(){var b,d,f,g,h,l,m,p,t,v,w,y,S,N,E,Q,K,R,T,P,U,ia,ca,da,aa,ba,ga,V,ea,W,Y,ka,ma,oa,fa,la,ja,ha,M,X,q,na,qa,r,Z,O,x,pa,ra,wa,ta,xa,za,Aa,ua,va,sa,Ba=this;return k(this,function(k){b=a&&a.signal;d=this._parseTileData(this._pbfTiles);f=this._layers;g=this._level;l=[];m=this._tileClippers;p={};t={};for(v=f.length-1;0<=v;v--)(h=f[v],h.minzoom&&g<h.minzoom||h.maxzoom&&
  g>=h.maxzoom||h.layout&&h.layout.visibility&&"none"===h.layout.visibility)||(0===h.type?(w=this._createBucket(h),w.layerIndex=v,l.push(w)):d[h.source]&&m[h.source]&&(y=d[h.source],S=m[h.source],N=h.sourceLayer,E=y[N])&&((Q=t[h.source])||(Q=t[h.source]=new Set),Q.add(h.sourceLayer),w=this._createBucket(h))&&(w.layerIndex=v,w.layerExtent=E.extent,w.tileClipper=S,(K=p[h.source])||(K=p[h.source]={}),(R=K[N])||(R=K[N]=[]),R.push(w)));T=10*this._level;P=10*(this._level+1);U=[];ia=[];ca=[];da=[];aa=new Set;
  ba={};ga=[];V=[];ea=function(a){t[a].forEach(function(b){ga.push(b);V.push(a)})};W=0;for(Y=Object.keys(t);W<Y.length;W++)ka=Y[W],ea(ka);for(ma=0;ma<ga.length;ma++){ka=V[ma];oa=ga[ma];if(!d[ka]||!p[ka])break;y=d[ka];E=y[oa];K=p[ka];fa=K[oa];if(!fa||0===fa.length)break;if(e.isAborted(b))return[2];for(la=E.getData();la.next(2);){ja=new c(la.getMessage(),E);if(ha=ja.values){if((M=ha._minzoom)&&M>=P)continue;if((X=ha._maxzoom)&&X<=T)continue}q=0;for(na=fa;q<na.length;q++)w=na[q],w.pushFeature(ja)}}qa=
  this._tile;r=0;for(Z=Object.keys(p);r<Z.length;r++)for(N in ka=Z[r],O=p[ka],O)for(fa=O[N],x=0,pa=fa;x<pa.length;x++)w=pa[x],w.hasFeatures()&&(3===w.layer.type?(U.push(w),qa.addBucket(w)):w.layer.refLayerId?ca.push(w):(ia.push(w),da[w.layer.id]=w));ra=0;for(wa=U;ra<wa.length;ra++)ta=w=wa[ra],ta.getResources(ta.tileClipper,aa,ba);if(this._tile.status===A.TileStatus.INVALID)return[2,e.resolve([])];xa=[];za=this._tile.getWorkerTileHandler();0<aa.size&&(Aa=za.fetchSprites(aa,this._client,a),xa.push(Aa));
  for(va in ba)sa=ba[va],0<sa.size&&(ua=za.fetchGlyphs(this._tile.tileKey,va,sa,this._client,a),xa.push(ua));return[2,e.all(xa).then(function(){for(var a=0,b=ia;a<b.length;a++){var c=b[a];c.processFeatures(c.tileClipper,Ba._tile);l.push(c)}a=0;for(b=ca;a<b.length;a++){var c=b[a],d=da[c.layer.refLayerId];d&&(d.assignBufferInfo(c),l.push(c))}a=0;for(b=U;a<b.length;a++)c=b[a],c.processFeatures(c.tileClipper,Ba._tile),l.push(c);l.sort(function(a,b){return a.layerIndex-b.layerIndex});return l})]})})};a.prototype._parseTileData=
  function(a){for(var b={},c=0,d=Object.keys(a);c<d.length;c++){for(var e=d[c],f=a[e],g={};f.next();)switch(f.tag()){case 3:var h=new t(f.getMessage());g[h.name]=h;break;default:f.skip()}b[e]=g}return b};a.prototype._createBucket=function(a){switch(a.type){case 0:return this._createBackgroundBucket(a);case 1:return this._createFillBucket(a);case 2:return this._createLineBucket(a);case 4:return this._createCircleBucket(a);case 3:return this._createSymbolBucket(a)}};a.prototype._createBackgroundBucket=
  function(a){return new f(a,this._level)};a.prototype._createFillBucket=function(a){var c=this._tile;return new b(a,this._level,a.hasDataDrivenFill?c.fillDDVertexBuffer:c.fillVertexBuffer,c.fillIndexBuffer,a.hasDataDrivenOutline?c.outlineDDVertexBuffer:c.outlineVertexBuffer,c.outlineIndexBuffer)};a.prototype._createLineBucket=function(a){var b=this._tile;return new g(a,this._level,a.hasDataDrivenLine?b.lineDDVertexBuffer:b.lineVertexBuffer,b.lineIndexBuffer)};a.prototype._createCircleBucket=function(a){var b=
  this._tile;return new m(a,this._level,b.circleVertexBuffer,b.circleIndexBuffer)};a.prototype._createSymbolBucket=function(a){var b=this._tile;return new d(a,this._level,a.hasDataDrivenIcon?b.iconDDVertexBuffer:b.iconVertexBuffer,b.iconIndexBuffer,a.hasDataDrivenText?b.textDDVertexBuffer:b.textVertexBuffer,b.textIndexBuffer,b.placementEngine,b.getWorkerTileHandler())};return a}()})},"esri/core/pbf":function(){define(["require","exports"],function(l,a){return function(){function a(a,h,e,f){this._tag=
  0;this._dataType=99;this._data=a;this._dataView=h;this._pos=e||0;this._end=f||a.byteLength}a.prototype.clone=function(){return new a(this._data,this._dataView,this._pos,this._end)};a.prototype.pos=function(){return this._pos};a.prototype.next=function(a){for(;;){if(this._pos===this._end)return!1;var h=this._decodeVarint();this._tag=h>>3;this._dataType=h&7;if(!a||a===this._tag)break;this.skip()}return!0};a.prototype.empty=function(){return this._pos>=this._end};a.prototype.tag=function(){return this._tag};
  a.prototype.getInt32=function(){return this._decodeVarint()};a.prototype.getInt64=function(){return this._decodeVarint()};a.prototype.getUInt32=function(){var a=4294967295,a=(this._data[this._pos]&127)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<7)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<14)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&127)<<21)>>>0;if(128>this._data[this._pos++])return a;a=(a|(this._data[this._pos]&
  15)<<28)>>>0;if(128>this._data[this._pos++])return a};a.prototype.getUInt64=function(){return this._decodeVarint()};a.prototype.getSInt32=function(){var a=this.getUInt32();return a>>>1^-(a&1)|0};a.prototype.getSInt64=function(){return this._decodeSVarint()};a.prototype.getBool=function(){var a=0!==this._data[this._pos];this._skip(1);return a};a.prototype.getEnum=function(){return this._decodeVarint()};a.prototype.getFixed64=function(){var a=this._dataView,h=this._pos,a=a.getUint32(h,!0)+4294967296*
  a.getUint32(h+4,!0);this._skip(8);return a};a.prototype.getSFixed64=function(){var a=this._dataView,h=this._pos,a=a.getUint32(h,!0)+4294967296*a.getInt32(h+4,!0);this._skip(8);return a};a.prototype.getDouble=function(){var a=this._dataView.getFloat64(this._pos,!0);this._skip(8);return a};a.prototype.getFixed32=function(){var a=this._dataView.getUint32(this._pos,!0);this._skip(4);return a};a.prototype.getSFixed32=function(){var a=this._dataView.getInt32(this._pos,!0);this._skip(4);return a};a.prototype.getFloat=
  function(){var a=this._dataView.getFloat32(this._pos,!0);this._skip(4);return a};a.prototype.getString=function(){var a=this._getLength(),h=this._pos,h=this._toString(this._data,h,h+a);this._skip(a);return h};a.prototype.getBytes=function(){var a=this._getLength(),h=this._pos,h=this._toBytes(this._data,h,h+a);this._skip(a);return h};a.prototype.getMessage=function(){var k=this._getLength(),h=this._pos,h=new a(this._data,this._dataView,h,h+k);this._skip(k);return h};a.prototype.skip=function(){switch(this._dataType){case 0:this._decodeVarint();
  break;case 1:this._skip(8);break;case 2:this._skip(this._getLength());break;case 5:this._skip(4);break;default:throw Error("Invalid data type!");}};a.prototype._skip=function(a){if(this._pos+a>this._end)throw Error("Attempt to skip past the end of buffer!");this._pos+=a};a.prototype._decodeVarint=function(){var a=this._data,h=this._pos,e=0,f;if(10<=this._end-h){if(f=a[h++],e|=f&127,0!==(f&128)&&(f=a[h++],e|=(f&127)<<7,0!==(f&128)&&(f=a[h++],e|=(f&127)<<14,0!==(f&128)&&(f=a[h++],e|=(f&127)<<21,0!==
  (f&128)&&(f=a[h++],e+=268435456*(f&127),0!==(f&128)&&(f=a[h++],e+=34359738368*(f&127),0!==(f&128)&&(f=a[h++],e+=4398046511104*(f&127),0!==(f&128)&&(f=a[h++],e+=562949953421312*(f&127),0!==(f&128)&&(f=a[h++],e+=72057594037927936*(f&127),0!==(f&128)&&(f=a[h++],e+=0x7fffffffffffffff*(f&127),0!==(f&128)))))))))))throw Error("Varint too long!");}else{for(var k=1;h!==this._end;){f=a[h];if(0===(f&128))break;++h;e+=(f&127)*k;k*=128}if(h===this._end)throw Error("Varint overrun!");++h;e+=f*k}this._pos=h;return e};
  a.prototype._decodeSVarint=function(){var a=this._decodeVarint();return a%2?-(a+1)/2:a/2};a.prototype._getLength=function(){if(2!==this._dataType)throw Error("Not a delimited data type!");return this._decodeVarint()};a.prototype._toString=function(a,h,e){var f="",k="";for(e=Math.min(this._end,e);h<e;++h){var c=a[h];c&128?k+="%"+c.toString(16):(f+=decodeURIComponent(k)+String.fromCharCode(c),k="")}k.length&&(f+=decodeURIComponent(k));return f};a.prototype._toBytes=function(a,h,e){e=Math.min(this._end,
  e);return new Uint8Array(a.buffer,h,e-h)};return a}()})},"esri/views/2d/engine/vectorTiles/Feature":function(){define(["require","exports","../webgl/Geometry"],function(l,a,k){return function(){function a(a,e){this.values={};var f=e.keys;for(e=e.values;a.next();)switch(a.tag()){case 1:this.id=a.getUInt64();break;case 2:for(var h=a.getMessage(),c=this.values;!h.empty();){var b=h.getUInt32(),g=h.getUInt32();c[f[b]]=e[g]}break;case 3:this.type=a.getUInt32();break;case 4:this._pbfGeometry=a.getMessage();
  break;default:a.skip()}}a.prototype.getGeometry=function(a){if(void 0!==this._geometry)return this._geometry;var e=this._pbfGeometry,f,h;a?a.reset(this.type):f=[];for(var c=1,b=0,g=0,l=0;!e.empty();)switch(0===b&&(b=e.getUInt32(),c=b&7,b>>=3),b--,c){case 1:g+=e.getSInt32();l+=e.getSInt32();a?a.moveTo(g,l):(h&&f.push(h),h=[],h.push(new k.Point(g,l)));break;case 2:g+=e.getSInt32();l+=e.getSInt32();a?a.lineTo(g,l):h.push(new k.Point(g,l));break;case 7:a?a.close():h&&!h[0].equals(g,l)&&h.push(h[0].clone());
  break;default:throw Error("Invalid path operation");}a?a=a.result():(h&&f.push(h),a=f);return this._geometry=a};return a}()})},"esri/views/2d/engine/vectorTiles/SourceLayerData":function(){define(["require","exports"],function(l,a){return function(){function a(k){this.extent=4096;this.keys=[];this.values=[];for(this._pbfLayer=k.clone();k.next();)switch(k.tag()){case 1:this.name=k.getString();break;case 3:this.keys.push(k.getString());break;case 4:this.values.push(a._parseValue(k.getMessage()));break;
  case 5:this.extent=k.getUInt32();break;default:k.skip()}}a.prototype.getData=function(){return this._pbfLayer};a._parseValue=function(a){for(;a.next();)switch(a.tag()){case 1:return a.getString();case 2:return a.getFloat();case 3:return a.getDouble();case 4:return a.getInt64();case 5:return a.getUInt64();case 6:return a.getSInt64();case 7:return a.getBool();default:a.skip()}return null};return a}()})},"esri/views/2d/engine/webgl/TileClipper":function(){define(["require","exports","./definitions",
  "./Geometry","./GeometryUtils"],function(l,a,k,p,h){Object.defineProperty(a,"__esModule",{value:!0});var e=function(){return function(a,c,b){this.ratio=a;this.x=c;this.y=b}}();l=function(){function a(a,b,e,f,d){void 0===f&&(f=8);void 0===d&&(d=8);this.lines=[];this.starts=[];this.pixelRatio=f;this.pixelMargin=d;this.tileSize=k.TILE_SIZE*f;this.dz=a;this.yPos=b;this.xPos=e}a.prototype.setExtent=function(a){this.finalRatio=this.tileSize/a*(1<<this.dz);var b=this.pixelRatio*this.pixelMargin,b=b/this.finalRatio;
  a>>=this.dz;b>a&&(b=a);this.margin=b;this.xmin=a*this.xPos-b;this.ymin=a*this.yPos-b;this.xmax=this.xmin+a+2*b;this.ymax=this.ymin+a+2*b};a.prototype.reset=function(a){this.type=a;this.lines=[];this.starts=[];this.line=null;this.start=0};a.prototype.moveTo=function(a,b){this._pushLine();this._prevIsIn=this._isIn(a,b);this._moveTo(a,b,this._prevIsIn);this._prevPt=new p.Point(a,b);this._firstPt=new p.Point(a,b);this._dist=0};a.prototype.lineTo=function(a,b){var c=this._isIn(a,b),f=new p.Point(a,b),
  d=p.Point.distance(this._prevPt,f),h,k,l;if(c)this._prevIsIn?this._lineTo(a,b,!0):(h=this._prevPt,k=f,a=this._intersect(k,h),this.start=this._dist+d*(1-this._r),this._lineTo(a.x,a.y,!0),this._lineTo(k.x,k.y,!0));else if(this._prevIsIn)k=this._prevPt,h=f,a=this._intersect(k,h),this._lineTo(a.x,a.y,!0),this._lineTo(h.x,h.y,!1);else{var m=this._prevPt;if(!(m.x<=this.xmin&&f.x<=this.xmin||m.x>=this.xmax&&f.x>=this.xmax||m.y<=this.ymin&&f.y<=this.ymin||m.y>=this.ymax&&f.y>=this.ymax)){a=[];if(m.x<this.xmin&&
  f.x>this.xmin||m.x>this.xmin&&f.x<this.xmin)b=(this.xmin-m.x)/(f.x-m.x),l=m.y+b*(f.y-m.y),l<=this.ymin?k=!1:l>=this.ymax?k=!0:a.push(new e(b,this.xmin,l));if(m.x<this.xmax&&f.x>this.xmax||m.x>this.xmax&&f.x<this.xmax)b=(this.xmax-m.x)/(f.x-m.x),l=m.y+b*(f.y-m.y),l<=this.ymin?k=!1:l>=this.ymax?k=!0:a.push(new e(b,this.xmax,l));if(m.y<this.ymin&&f.y>this.ymin||m.y>this.ymin&&f.y<this.ymin)b=(this.ymin-m.y)/(f.y-m.y),l=m.x+b*(f.x-m.x),l<=this.xmin?h=!1:l>=this.xmax?h=!0:a.push(new e(b,l,this.ymin));
  if(m.y<this.ymax&&f.y>this.ymax||m.y>this.ymax&&f.y<this.ymax)b=(this.ymax-m.y)/(f.y-m.y),l=m.x+b*(f.x-m.x),l<=this.xmin?h=!1:l>=this.xmax?h=!0:a.push(new e(b,l,this.ymax));if(0===a.length)h?k?this._lineTo(this.xmax,this.ymax,!0):this._lineTo(this.xmax,this.ymin,!0):k?this._lineTo(this.xmin,this.ymax,!0):this._lineTo(this.xmin,this.ymin,!0);else if(1<a.length&&a[0].ratio>a[1].ratio)this.start=this._dist+d*a[1].ratio,this._lineTo(a[1].x,a[1].y,!0),this._lineTo(a[0].x,a[0].y,!0);else for(this.start=
  this._dist+d*a[0].ratio,h=0;h<a.length;h++)this._lineTo(a[h].x,a[h].y,!0)}this._lineTo(f.x,f.y,!1)}this._dist+=d;this._prevIsIn=c;this._prevPt=f};a.prototype.close=function(){if(2<this.line.length){var a=this._firstPt,b=this._prevPt;a.x===b.x&&a.y===b.y||this.lineTo(a.x,a.y);a=this.line;for(b=a.length;4<=b;)if(a[0].x===a[1].x&&a[0].x===a[b-2].x||a[0].y===a[1].y&&a[0].y===a[b-2].y)a.pop(),a[0].x=a[b-2].x,a[0].y=a[b-2].y,--b;else break}};a.prototype.result=function(a){void 0===a&&(a=!0);this._pushLine();
  if(0===this.lines.length)return null;3===this.type&&a&&f.simplify(this.tileSize,this.margin*this.finalRatio,this.lines);return this.lines};a.prototype.resultWithStarts=function(){if(2!==this.type)throw Error("Only valid for lines");this._pushLine();var a=this.lines,b=a.length;if(0===b)return null;for(var e=[],f=0;f<b;f++)e.push({line:a[f],start:this.starts[f]||0});return e};a.prototype._isIn=function(a,b){return a>=this.xmin&&a<=this.xmax&&b>=this.ymin&&b<=this.ymax};a.prototype._intersect=function(a,
  b){var c,e,d;if(b.x>=this.xmin&&b.x<=this.xmax)e=b.y<=this.ymin?this.ymin:this.ymax,d=(e-a.y)/(b.y-a.y),c=a.x+d*(b.x-a.x);else if(b.y>=this.ymin&&b.y<=this.ymax)c=b.x<=this.xmin?this.xmin:this.xmax,d=(c-a.x)/(b.x-a.x),e=a.y+d*(b.y-a.y);else{e=b.y<=this.ymin?this.ymin:this.ymax;c=b.x<=this.xmin?this.xmin:this.xmax;var f=(c-a.x)/(b.x-a.x),h=(e-a.y)/(b.y-a.y);f<h?(d=f,e=a.y+f*(b.y-a.y)):(d=h,c=a.x+h*(b.x-a.x))}this._r=d;return new p.Point(c,e)};a.prototype._pushLine=function(){this.line&&(1===this.type?
  0<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):2===this.type?1<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)):3===this.type&&3<this.line.length&&(this.lines.push(this.line),this.starts.push(this.start)));this.line=[];this.start=0};a.prototype._moveTo=function(a,b,e){3!==this.type?e&&(a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line.push(new p.Point(a,b))):(e||(a<
  this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),b<this.ymin&&(b=this.ymin),b>this.ymax&&(b=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line.push(new p.Point(a,b)),this._is_v=this._is_h=!1)};a.prototype._lineTo=function(a,b,e){if(3!==this.type)if(e){a=Math.round((a-(this.xmin+this.margin))*this.finalRatio);b=Math.round((b-(this.ymin+this.margin))*this.finalRatio);if(0<this.line.length&&(e=this.line[this.line.length-
  1],e.equals(a,b)))return;this.line.push(new p.Point(a,b))}else this.line&&0<this.line.length&&this._pushLine();else if(e||(a<this.xmin&&(a=this.xmin),a>this.xmax&&(a=this.xmax),b<this.ymin&&(b=this.ymin),b>this.ymax&&(b=this.ymax)),a=Math.round((a-(this.xmin+this.margin))*this.finalRatio),b=Math.round((b-(this.ymin+this.margin))*this.finalRatio),this.line&&0<this.line.length){e=this.line[this.line.length-1];var c=e.x===a,d=e.y===b;c&&d||(this._is_h&&c?(e.x=a,e.y=b,e=this.line[this.line.length-2],
  e.x===a&&e.y===b?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(e=this.line[this.line.length-2],this._is_h=e.x===a,this._is_v=e.y===b)):(this._is_h=e.x===a,this._is_v=e.y===b)):this._is_v&&d?(e.x=a,e.y=b,e=this.line[this.line.length-2],e.x===a&&e.y===b?(this.line.pop(),1>=this.line.length?this._is_v=this._is_h=!1:(e=this.line[this.line.length-2],this._is_h=e.x===a,this._is_v=e.y===b)):(this._is_h=e.x===a,this._is_v=e.y===b)):(this.line.push(new p.Point(a,b)),this._is_h=c,this._is_v=
  d))}else this.line.push(new p.Point(a,b))};return a}();a.TileClipper=l;l=function(){function a(){}a.prototype.setExtent=function(a){this._ratio=4096===a?1:4096/a};a.prototype.reset=function(a){this.type=a;this.lines=[];this.line=null};a.prototype.moveTo=function(a,b){this.line&&this.lines.push(this.line);this.line=[];var c=this._ratio;this.line.push(new p.Point(Math.round(a*c),Math.round(b*c)))};a.prototype.lineTo=function(a,b){var c=this._ratio;this.line.push(new p.Point(Math.round(a*c),Math.round(b*
  c)))};a.prototype.close=function(){var a=this.line;a&&!a[0].isEqual(a[a.length-1])&&a.push(a[0])};a.prototype.result=function(){this.line&&this.lines.push(this.line);if(0===this.lines.length)return null;3===this.type&&1!==this._ratio&&f.simplify(4096,64,this.lines);return this.lines};return a}();a.SimpleBuilder=l;var f=function(){function a(){}a.simplify=function(c,b,e){if(e){var f=-b,d=c+b,g=-b,h=c+b;c=[];b=[];for(var k=e.length,l=0;l<k;++l){var m=e[l];if(m&&!(2>m.length))for(var p=m[0],n=void 0,
  D=m.length,u=1;u<D;++u)n=m[u],p.x===n.x&&(p.x<=f&&(p.y>n.y?(c.push(l),c.push(u),c.push(0),c.push(-1)):(b.push(l),b.push(u),b.push(0),b.push(-1))),p.x>=d&&(p.y<n.y?(c.push(l),c.push(u),c.push(1),c.push(-1)):(b.push(l),b.push(u),b.push(1),b.push(-1)))),p.y===n.y&&(p.y<=g&&(p.x<n.x?(c.push(l),c.push(u),c.push(2),c.push(-1)):(b.push(l),b.push(u),b.push(2),b.push(-1))),p.y>=h&&(p.x>n.x?(c.push(l),c.push(u),c.push(3),c.push(-1)):(b.push(l),b.push(u),b.push(3),b.push(-1)))),p=n}0!==c.length&&0!==b.length&&
  (a.fillParent(e,b,c),a.fillParent(e,c,b),f=[],a.calcDeltas(f,b,c),a.calcDeltas(f,c,b),a.addDeltas(f,e))}};a.fillParent=function(a,b,e){for(var c=e.length,d=b.length,f=0;f<d;f+=4){for(var g=b[f],k=b[f+1],l=b[f+2],m=a[g][k-1],g=a[g][k],k=8092,p=-1,n=0;n<c;n+=4)if(e[n+2]===l){var D=e[n],u=e[n+1],z=a[D][u-1],D=a[D][u];switch(l){case 0:case 1:h.between(m.y,z.y,D.y)&&h.between(g.y,z.y,D.y)&&(z=Math.abs(D.y-z.y),z<k&&(k=z,p=n));break;case 2:case 3:h.between(m.x,z.x,D.x)&&h.between(g.x,z.x,D.x)&&(z=Math.abs(D.x-
  z.x),z<k&&(k=z,p=n))}}b[f+3]=p}};a.calcDeltas=function(c,b,e){for(var f=b.length,d=0;d<f;d+=4){var g=a.calcDelta(d,b,e,[]);c.push(b[d]);c.push(b[d+1]);c.push(b[d+2]);c.push(g)}};a.calcDelta=function(c,b,e,f){c=b[c+3];if(-1===c)return 0;var d=f.length;if(1<d&&f[d-2]===c)return 0;f.push(c);return a.calcDelta(c,e,b,f)+1};a.addDeltas=function(a,b){for(var c=a.length,e=0,d=0;d<c;d+=4){var f=a[d+3];f>e&&(e=f)}for(d=0;d<c;d+=4){var h=b[a[d]],k=a[d+1],f=e-a[d+3];switch(a[d+2]){case 0:h[k-1].x-=f;h[k].x-=
  f;1===k&&(h[h.length-1].x-=f);k===h.length-1&&(h[0].x-=f);break;case 1:h[k-1].x+=f;h[k].x+=f;1===k&&(h[h.length-1].x+=f);k===h.length-1&&(h[0].x+=f);break;case 2:h[k-1].y-=f;h[k].y-=f;1===k&&(h[h.length-1].y-=f);k===h.length-1&&(h[0].y-=f);break;case 3:h[k-1].y+=f,h[k].y+=f,1===k&&(h[h.length-1].y+=f),k===h.length-1&&(h[0].y+=f)}}};return a}()})},"esri/views/2d/engine/webgl/GeometryUtils":function(){define(["require","exports"],function(l,a){function k(a,e){a%=e;return 0<=a?a:a+e}Object.defineProperty(a,
  "__esModule",{value:!0});a.C_INFINITY=Number.POSITIVE_INFINITY;a.C_PI=Math.PI;a.C_2PI=2*a.C_PI;a.C_PI_BY_2=a.C_PI/2;a.C_RAD_TO_256=128/a.C_PI;a.C_256_TO_RAD=a.C_PI/128;a.C_DEG_TO_256=256/360;a.C_DEG_TO_RAD=a.C_PI/180;a.C_SQRT2=1.414213562;a.C_SQRT2_INV=1/a.C_SQRT2;var p=1/Math.LN2;a.positiveMod=k;a.radToByte=function(h){return k(h*a.C_RAD_TO_256,256)};a.degToByte=function(h){return k(h*a.C_DEG_TO_256,256)};a.log2=function(a){return Math.log(a)*p};a.sqr=function(a){return a*a};a.interpolate=function(a,
  e,f){return a*(1-f)+e*f};a.between=function(a,e,f){return a>=e&&a<=f||a>=f&&a<=e}})},"esri/views/2d/tiling/enums":function(){define(["require","exports"],function(l,a){Object.defineProperty(a,"__esModule",{value:!0});l=a.TileStatus||(a.TileStatus={});l[l.INITIALIZED=0]="INITIALIZED";l[l.NO_DATA=1]="NO_DATA";l[l.READY=2]="READY";l[l.MODIFIED=3]="MODIFIED";l[l.INVALID=4]="INVALID"})},"esri/views/2d/engine/vectorTiles/VertexMemoryBuffer":function(){define(["require","exports","../../../../core/tsSupport/extendsHelper",
  "./GeometryUtils","./MemoryBuffer"],function(l,a,k,p,h){Object.defineProperty(a,"__esModule",{value:!0});var e=new Float32Array(1),f=new Uint32Array(e.buffer);l=function(a){function c(b){var c=a.call(this,b?20:12)||this;c._isDataDriven=b;return c}k(c,a);c.prototype.isDataDriven=function(){return this._isDataDriven};c.prototype.add=function(a,c,k,d,l,m,p,y){var b=this.array;a=h.i1616to32(a,c);b.push(a);a=h.i8888to32(Math.round(31*k),Math.round(31*d),Math.round(31*l),Math.round(31*m));b.push(a);a=h.i1616to32(p,
  0);b.push(a);if(this._isDataDriven){if(!y)throw Error("Expecting data driven values.");k=y.color;d=k[3]*y.opacity*255;b.push(h.i8888to32(k[0]*d,k[1]*d,k[2]*d,d));e[0]=y.size;b.push(f[0])}};return c}(h);a.LineVertexBuffer=l;l=function(a){function c(b){var c=a.call(this,b?8:4)||this;c._isDataDriven=b;return c}k(c,a);c.prototype.isDataDriven=function(){return this._isDataDriven};c.prototype.add=function(a,c,e){var b=this.array;b.push(h.i1616to32(a,c));if(this._isDataDriven){if(!e)throw Error("Expecting data driven values.");
  a=e.color;e=a[3]*e.opacity*255;b.push(h.i8888to32(a[0]*e,a[1]*e,a[2]*e,e))}};return c}(h);a.FillVertexBuffer=l;l=function(a){function c(b){var c=a.call(this,b?12:8)||this;c._isDataDriven=b;return c}k(c,a);c.prototype.isDataDriven=function(){return this._isDataDriven};c.prototype.add=function(a,c,e,d,f,k,l){var b=this.array,g=this.index;a=h.i1616to32(a,c);b.push(a);a=h.i8888to32(Math.round(15*e),Math.round(15*d),f,k);b.push(a);if(this._isDataDriven){if(!l)throw Error("Expecting data driven values.");
  e=l.color;l=e[3]*l.opacity*255;b.push(h.i8888to32(e[0]*l,e[1]*l,e[2]*l,l))}return g};return c}(h);a.OutlineVertexBuffer=l;l=function(a){function c(b){var c=a.call(this,b?24:16)||this;c._isDataDriven=b;return c}k(c,a);c.prototype.isDataDriven=function(){return this._isDataDriven};c.prototype.add=function(a,c,k,d,l,m,w,y,B,C,n){var b=this.array;a=h.i1616to32(a,c);b.push(a);a=h.i1616to32(Math.round(8*k),Math.round(8*d));b.push(a);a=h.i8888to32(l/4,m/4,0,0);b.push(a);a=h.i8888to32(Math.ceil(10*C),p.radToByte(w),
  10*y,Math.min(10*B,255));b.push(a);if(this._isDataDriven){if(!n)throw Error("Expecting data driven values.");k=n.color;d=k[3]*n.opacity*255;b.push(h.i8888to32(k[0]*d,k[1]*d,k[2]*d,d));e[0]=n.size;b.push(f[0])}};return c}(h);a.SymbolVertexBuffer=l;l=function(a){function c(){return a.call(this,16)||this}k(c,a);c.prototype.add=function(a,c,e,d,f,k,l,m,p,C,n){var b=this.array;a=h.i1616to32(2*a+e,2*c+d);b.push(a);l=k[3]*l*255;a=h.i8888to32(k[0]*l,k[1]*l,k[2]*l,l);b.push(a);k=C[3]*n*255;a=h.i8888to32(C[0]*
  k,C[1]*k,C[2]*k,k);b.push(a);a=h.i8888to32(Math.min(32*m,255),Math.min(4*p,255),Math.min(f,255),0);b.push(a)};return c}(h);a.CircleVertexBuffer=l})},"esri/views/2d/engine/vectorTiles/style/StyleRepository":function(){define(["require","exports","../../../../../core/has","./StyleLayer"],function(l,a,k,p){return function(){function a(e,f){this._layerByName={};this.styleJSON=e;this.version=parseFloat(e.version);this.sprite=f?f.spriteUrl:e.sprite;this.glyphs=f?f.glyphsUrl:e.glyphs;if(this.layers=(e.layers||
  []).map(a._create))for(e=void 0,f=0;f<this.layers.length;f++)e=this.layers[f],this._layerByName[e.id.toLowerCase()]=e;this._identifyRefLayers()}a.prototype.isPainterDataDriven=function(a){return(a=this._layerByName[a.toLowerCase()])?a.isPainterDataDriven():!1};a.prototype.getStyleLayerId=function(a){return a>=this.layers.length?null:this.layers[a].id};a.prototype.getLayoutProperties=function(a){return(a=this._layerByName[a.toLowerCase()])?a.layout:null};a.prototype.getPaintProperties=function(a){return(a=
  this._layerByName[a.toLowerCase()])?a.paint:null};a.prototype.setPaintProperties=function(e,f){e=this._layerByName[e.toLowerCase()];if(!e)return"";var h=this.layers.indexOf(e);this.styleJSON.layers[h].paint=f;f=a._recreateLayer({id:e.id,type:e.typeName,source:e.source,sourceLayer:e["source-layer"],minzoom:e.minzoom,maxzoom:e.maxzoom,filter:e.filter,layout:e.layout,paint:f},e);this.layers[h]=f;this._layerByName[e.id.toLowerCase()]=f;return e.id};a.prototype.setLayoutProperties=function(e,f){e=this._layerByName[e.toLowerCase()];
  if(!e)return"";var h=this.layers.indexOf(e);this.styleJSON.layers[h].layout=f;f=a._recreateLayer({id:e.id,type:e.typeName,source:e.source,sourceLayer:e["source-layer"],minzoom:e.minzoom,maxzoom:e.maxzoom,filter:e.filter,layout:f,paint:e.paint},e);this.layers[h]=f;this._layerByName[e.id.toLowerCase()]=f;return e.id};a.prototype._identifyRefLayers=function(){for(var a=[],f=[],h=0,c=0,b=this.layers;c<b.length;c++){var g=b[c];if(1===g.type){var k=g,d=g.source+"|"+g.sourceLayer,d=d+("|"+JSON.stringify(g.layout&&
  g.layout.visibility)),d=d+("|"+JSON.stringify(g.minzoom)),d=d+("|"+JSON.stringify(g.maxzoom)),d=d+("|"+JSON.stringify(g.filter));if(k.hasDataDrivenFill||k.hasDataDrivenOutline)d+="|"+JSON.stringify(h);a.push({key:d,layer:g})}2===g.type&&(k=g,d=g.source+"|"+g.sourceLayer,d+="|"+JSON.stringify(g.layout&&g.layout.visibility),d+="|"+JSON.stringify(g.minzoom),d+="|"+JSON.stringify(g.maxzoom),d+="|"+JSON.stringify(g.filter),d+="|"+JSON.stringify(g.layout&&g.layout["line-cap"]),d+="|"+JSON.stringify(g.layout&&
  g.layout["line-join"]),k.hasDataDrivenLine&&(d+="|"+JSON.stringify(h)),f.push({key:d,layer:g}));++h}this._assignRefLayers(a);this._assignRefLayers(f)};a.prototype._assignRefLayers=function(a){a.sort(function(a,b){return a.key<b.key?-1:a.key>b.key?1:0});for(var e,h,c=a.length,b=0;b<c;b++){var g=a[b];if(g.key===e)g.layer.refLayerId=h;else if(e=g.key,h=g.layer.id,1===g.layer.type&&!g.layer.getPaintProperty("fill-outline-color"))for(var k=b+1;k<c;k++){var d=a[k];if(d.key===e){if(d.layer.getPaintProperty("fill-outline-color")){a[b]=
  d;a[k]=g;h=d.layer.id;break}}else break}}};a._create=function(a,f,h){f=1-1/(h.length+1)*(1+f);switch(a.type){case "background":return new p.BackgroundStyleLayer(0,a,f);case "fill":return new p.FillStyleLayer(1,a,f);case "line":return new p.LineStyleLayer(2,a,f);case "symbol":return new p.SymbolStyleLayer(3,a,f);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":return new p.CircleStyleLayer(4,a,f)}throw Error("Unknown vector tile layer");};a._recreateLayer=function(a,
  f){switch(a.type){case "background":return new p.BackgroundStyleLayer(0,a,f.z);case "fill":return new p.FillStyleLayer(1,a,f.z);case "line":return new p.LineStyleLayer(2,a,f.z);case "symbol":return new p.SymbolStyleLayer(3,a,f.z);case "raster":throw Error("Unsupported vector tile raster layer");case "circle":return new p.CircleStyleLayer(4,a,f.z)}};return a}()})},"*noref":1}});require.boot&&require.apply(null,require.boot);