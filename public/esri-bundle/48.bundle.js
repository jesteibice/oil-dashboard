(function(){(this||window).webpackJsonp.registerAbsMids({"esri/views/3d/layers/SceneLayerView3D":2153,"esri/views/layers/support/popupUtils":2188,"esri/views/3d/layers/support/DefinitionExpressionSceneLayerView":2222,"esri/views/3d/layers/support/fieldProperties":2223,"esri/views/3d/layers/support/PopupSceneLayerView":2274,"esri/views/3d/layers/i3s/I3SQueryEngine":2523,"esri/views/3d/layers/i3s/I3SQueryFeatureAdapter":2524,"esri/views/3d/layers/i3s/I3SQueryFeatureStore":2525})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{2153:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(4),r(1),r(0),r(9),r(11),r(135),r(116),r(35),r(62),r(58),r(47),r(13),r(14),r(59),r(29),r(2),r(355),r(501),r(55),r(57),r(87),r(163),r(2272),r(2176),r(2228),r(2523),r(2524),r(2525),r(2182),r(2222),r(2223),r(2180),r(2274),r(38),r(808)],void 0===(i=function(e,t,r,n,i,o,s,a,u,l,p,d,c,f,y,h,g,v,F,E,_,b,m,x,w,I,S,O,j,Q,R,P,N,C,L,M,q){var D=f.getLogger("esri.views.3d.layers.SceneLayerView3D"),V=N.defineFieldProperties(),A=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._queryEngine=null,t.lodFactor=1,t.progressiveLoadFactor=1,t._elevationContext="scene",t._isIntegratedMesh=!1,t._asyncModuleLoading=0,t._projectionEngineLoaded=!1,t}return n(t,e),Object.defineProperty(t.prototype,"filter",{set:function(e){if(y.isNone(e))this._set("filter",null);else{var t=["contains","intersects","disjoint"];e.timeExtent?(D.warn("Filters with a timeExtent are not supported for mesh scene layers"),this._set("filter",null)):e.spatialRelationship&&-1===t.indexOf(e.spatialRelationship)?(D.warn("Filters with spatialRelationship other than "+t.join(", ")+" are not supported for mesh scene layers"),this._set("filter",null)):this._set("filter",e)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parsedFilterWhereClause",{get:function(){var e=y.isSome(this.filter)?this.filter.where:null;if(!e)return null;try{return F.WhereClause.create(e,this.layer.fieldsIndex)}catch(e){D.error("Failed to parse filter where clause: "+e)}return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parsedFilterGeometry",{get:function(){var e=this;if(y.isNone(this.filter))return null;var t=this.filter,r=t.geometry,n=t.distance,i=t.units;if(!n)return r;if(!this._geometryEngine)return null;var o=i||h.getUnitString(r.spatialReference);if(r.spatialReference.isWGS84)return this._geometryEngine.geodesicBuffer(r,n,o);if(b.canProject(r,l.SpatialReference.WGS84))return b.project(this._geometryEngine.geodesicBuffer(b.project(r,l.SpatialReference.WGS84),n,o),r.spatialReference);if(!E.isSupported())return D.error("Filter by geodesic buffer (distance) unsupported due to lack of projection support."),null;if(!this._projectionEngineLoaded&&(this._loadAsyncModule(E.load()).then(function(){e._set("_projectionEngineLoaded",!0)}),!this._projectionEngineLoaded))return null;var s=null;try{s=E.project(r,l.SpatialReference.WGS84)}catch(e){}if(s)try{s=E.project(this._geometryEngine.geodesicBuffer(s,n,o),r.spatialReference)}catch(e){s=null}return s||D.error("Filter by geodesic buffer (distance) unsupported, failed to project input geometry ("+r.spatialReference.wkid+") to WGS84."),s},enumerable:!0,configurable:!0}),t.prototype.initialize=function(){var e=this;this.handles.add([g.init(this,["layer.renderer","definitionExpressionFields","filter"],function(){return e._updateRequiredFields()}),g.init(this.layer,"rangeInfos",function(t){return e._rangeInfosChanged(t)}),g.init(this.layer,"renderer",function(t){return e._rendererChange(t)}),this.watch(["parsedDefinitionExpression","layer.objectIdFilter","filter","parsedFilterWhereClause","parsedFilterGeometry"],function(){return e._filterChange()})])},t.prototype.destroy=function(){},t.prototype._updateRequiredFields=function(){return s(this,void 0,void 0,function(){var e,t,r,n,i,s,l,p;return o(this,function(o){switch(o.label){case 0:return t=(e=this).layer,r=e.layer,n=r.fields,i=r.renderer,s=e.definitionExpressionFields,l=e.filter,p=new u.default,i?[4,i.collectRequiredFields(p,n)]:[3,2];case 1:o.sent(),o.label=2;case 2:return y.isSome(l)?[4,m.collectFilterFields(p,t,l)]:[3,4];case 3:o.sent(),o.label=4;case 4:return m.collectFields(p,n,s),this._set("requiredFields",a.from(p).sort()),[2]}})})},t.prototype._rangeInfosChanged=function(e){null!=e&&e.length>0&&D.warn("Unsupported property: rangeInfos are currently only serialized to and from web scenes but do not affect rendering.")},t.prototype.createQuery=function(){var e={outFields:["*"],returnGeometry:!1,outSpatialReference:this.view.spatialReference};return y.isSome(this.filter)?this.filter.createQuery(e):new x(e)},t.prototype.queryExtent=function(e){return c.safeCast(this._ensureQueryEngine().executeQueryForExtent(this._ensureQuery(e)))},t.prototype.queryFeatureCount=function(e){return c.safeCast(this._ensureQueryEngine().executeQueryForCount(this._ensureQuery(e)))},t.prototype.queryFeatures=function(e){return c.safeCast(this._ensureQueryEngine().executeQuery(this._ensureQuery(e)))},t.prototype.queryObjectIds=function(e){return c.safeCast(this._ensureQueryEngine().executeQueryForIds(this._ensureQuery(e)))},t.prototype._ensureQueryEngine=function(){return this._queryEngine||(this._queryEngine=this._createQueryEngine()),this._queryEngine},t.prototype._createQueryEngine=function(){var e=this,t=this._createGetFeatureExtent();return new O.default({layerView:this,priority:4,spatialIndex:new Q.default({featureAdapter:new j.I3SQueryFeatureAdapter({objectIdField:this.layer.objectIdField,attributeStorageInfo:this.layer.attributeStorageInfo,getFeatureExtent:t}),forAllFeatures:function(t,r){return e._forAllFeatures(function(e,r,n){return t({id:e,index:r,meta:n})},r,2)},getFeatureExtent:t,sourceSpatialReference:R.getIndexCrs(this.layer),viewSpatialReference:this.view.spatialReference})})},t.prototype._createGetFeatureExtent=function(){var e=this,t=new Float64Array(24),r=this.view.renderSpatialReference,n=this.view.spatialReference;return function(i){if(!i.meta.featureExtents){var o=new Float64Array(6*i.meta.featureIds.length);i.meta.featureExtents=o;for(var s=0;s<o.length;s+=6)o[s]=Number.POSITIVE_INFINITY}var a=i.meta.featureExtents,u=new Float64Array(a.buffer,6*i.index*Float64Array.BYTES_PER_ELEMENT,6);return u[0]===Number.POSITIVE_INFINITY?(e._boundingBoxCornerPoints(i.index,i.meta.engineObject,t),M.bufferToBuffer(t,r,0,t,n,0,8)?_.expandWithBuffer(_.NEGATIVE_INFINITY,t,0,8,u):_.set(u,_.ZERO)):u}},t.prototype.highlight=function(e,t){void 0===t&&(t={});var r=this._highlights;if(e instanceof x){var n=r.acquireSet(t),i=n.set,o=n.handle;return this.queryObjectIds(e).then(function(e){return r.setFeatureIds(i,e)}),o}return this.inherited(arguments)},t.prototype._createLayerGraphic=function(e){var t=new p(null,null,e);return t.layer=this.layer,t.sourceLayer=this.layer,t},t.prototype.canResume=function(){return this.inherited(arguments)&&(!this._controller||this._controller.rootNodeVisible)},t.prototype.isUpdating=function(){return!(!this._controller||!this._controller.updating)||this._asyncModuleLoading>0},t.prototype.getFilters=function(){var e=this,t=this.inherited(arguments);if(this.layer.objectIdFilter){var r=new Float64Array(this.layer.objectIdFilter.ids),n="include"===this.layer.objectIdFilter.method;r.sort(),t.push(function(t){return e._objectIdFilter(r,n,t)})}if(this.addSqlFilter(t,this.parsedDefinitionExpression,this.definitionExpressionFields,this.logError),y.isSome(this.filter)){if(y.isSome(this.parsedFilterGeometry)){var i=this.parsedFilterGeometry;t.push(function(t,r){return e._maskFilter(t,r,i)})}if(this.filter.objectIds){var o=new Float64Array(this.filter.objectIds);o.sort(),t.push(function(t){return e._objectIdFilter(o,!0,t)})}}return y.isSome(this.parsedFilterWhereClause)&&this.addSqlFilter(t,this.parsedFilterWhereClause,this.parsedFilterWhereClause.fieldNames,this.logError),t},t.prototype._maskFilter=function(e,t,r){if(!y.isNone(this.filter)){var n=r,i=n.spatialReference||this.view.spatialReference;M.mbsToMbs(t.node.mbs,this._controller.crsIndex,G,i);var o=this.filter.spatialRelationship,s=S.acquireMaskFilterContext(o,this.view,n,t.engineObject),a=S.intersectMaskWithMbs(s,G);switch(S.getIntersectRelation(s,a)){case 1:return void(e.length=0);case 0:return}t.engineObject.getGeometryRecords()[0].geometry.componentCount===t.featureIds.length&&R.filterInPlace(e,t.featureIds,function(e){return S.filterMask(e,s)})}},t.prototype._filterChange=function(){var e=this;y.isSome(this.filter)&&this.filter.geometry&&!this._geometryEngine?this._loadAsyncModule(S.loadGeometryEngine()).then(function(t){e.destroyed||(e._set("_geometryEngine",t),e._applyFilters(!0))}):this.inherited(arguments)},t.prototype._loadAsyncModule=function(e){var t=this;this._set("_asyncModuleLoading",this._asyncModuleLoading+1);var r=function(){return t._set("_asyncModuleLoading",t._asyncModuleLoading-1)};return e.then(function(e){return r(),e},function(e){throw r(),e})},t.prototype._objectIdFilter=function(e,t,r){for(var n=0,i=0;n<r.length;)d.binaryIndexOf(e,r[n])>=0===t&&(r[i]=r[n],i++),n++;r.length=i},t.prototype._ensureQuery=function(e){return this._addDefinitionExpressionToQuery(y.isNone(e)?this.createQuery():x.from(e))},i([v.property()],t.prototype,"layer",void 0),i([v.property({dependsOn:["_controller.updating","_asyncModuleLoading"]})],t.prototype,"updating",void 0),i([v.property({dependsOn:["_controller.rootNodeVisible"]})],t.prototype,"suspended",void 0),i([v.property(C.updatingPercentage)],t.prototype,"updatingPercentage",void 0),i([v.property({type:q})],t.prototype,"filter",null),i([v.property({readOnly:!0,dependsOn:["filter.where"]})],t.prototype,"parsedFilterWhereClause",null),i([v.property({readOnly:!0,dependsOn:["filter.geometry","filter.distance","filter.units","_geometryEngine","_projectionEngineLoaded"]})],t.prototype,"parsedFilterGeometry",null),i([v.property(V.requiredFields)],t.prototype,"requiredFields",void 0),i([v.property(V.availableFields)],t.prototype,"availableFields",void 0),i([v.property({readOnly:!0,aliasOf:"view.qualitySettings.sceneService.3dObject.lodFactor"})],t.prototype,"lodFactor",void 0),i([v.property({readOnly:!0,aliasOf:"_controller.updatingPercentage"})],t.prototype,"updatingPercentageValue",void 0),i([v.property({readOnly:!0})],t.prototype,"_asyncModuleLoading",void 0),i([v.property({readOnly:!0})],t.prototype,"_geometryEngine",void 0),i([v.property({readOnly:!0})],t.prototype,"_projectionEngineLoaded",void 0),i([v.subclass("esri.views.3d.layers.SceneLayerView3D")],t)}(v.declared(I,w.I3SMeshView3D,L.PopupSceneLayerView,P.DefinitionExpressionSceneLayerView)),G=[0,0,0,0];return A}.apply(null,n))||(e.exports=i)},2188:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(9),r(11),r(135),r(14),r(87)],void 0===(i=function(e,t,r,n,i,o,s){Object.defineProperty(t,"__esModule",{value:!0}),t.getRequiredFields=function(e,t){return void 0===t&&(t=e.popupTemplate),n(this,void 0,void 0,function(){var n,a,u,l,p,d,c,f,y,h,g;return r(this,function(r){switch(r.label){case 0:return o.isSome(t)?[4,t.getRequiredFields(e.fields)]:[2,[]];case 1:return n=r.sent(),a=t.lastEditInfoEnabled,u=e.objectIdField,l=e.typeIdField,i.includes(n,"*")?[2,["*"]]:(d=s.fixFields,c=[e.fields],y=(f=n).concat,h=[[l]],(g=a)?[4,s.getFeatureEditFields(e)]:[3,3]);case 2:g=r.sent(),r.label=3;case 3:return(p=d.apply(void 0,c.concat([y.apply(f,h.concat([g||null]))])))&&u&&s.hasField(e.fields,u)&&-1===p.indexOf(u)&&p.push(u),[2,p]}})})},t.getFetchPopupTemplate=function(e,t){return e.popupTemplate?e.popupTemplate:o.isSome(t)&&t.defaultPopupTemplateEnabled&&o.isSome(e.defaultPopupTemplate)?e.defaultPopupTemplate:null}}.apply(null,n))||(e.exports=i)},2222:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(1),r(0),r(8),r(13),r(2),r(355),r(2182)],void 0===(i=function(e,t,r,n,i,o,s,a,u){Object.defineProperty(t,"__esModule",{value:!0});var l=o.getLogger("esri.views.3d.layers.support.DefinitionExpressionSceneLayerView"),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._definitionExpressionErrors=0,t._maxDefinitionExpressionErrors=20,t.logError=function(e){t._definitionExpressionErrors<t._maxDefinitionExpressionErrors&&l.error("Error while evaluating definitionExpression: "+e),++t._definitionExpressionErrors===t._maxDefinitionExpressionErrors&&l.error("Further errors are ignored")},t}return r(t,e),Object.defineProperty(t.prototype,"parsedDefinitionExpression",{get:function(){if(this.layer.definitionExpression)try{var e=a.WhereClause.create(this.layer.definitionExpression,this.layer.fieldsIndex);if(!e.isStandardized)return l.error("definitionExpression is using non standard function"),null;var t=[],r=e.fieldNames;return u.findFieldsCaseInsensitive(r,this.layer.fields,{missingFields:t}),t.length>0?(l.error("definitionExpression references unknown fields: "+t.join(", ")),null):(this._definitionExpressionErrors=0,e)}catch(e){return l.error("Failed to parse definitionExpression: "+e),null}return null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"definitionExpressionFields",{get:function(){return this.parsedDefinitionExpression?this.parsedDefinitionExpression.fieldNames:null},enumerable:!0,configurable:!0}),t.prototype._evaluateClause=function(e,t){try{return e.testFeature(t)}catch(e){return this.logError(e),!1}},t.prototype._addDefinitionExpressionToQuery=function(e){if(!this.parsedDefinitionExpression)return e;var t=this.layer.definitionExpression,r=e.clone();return r.where?r.where="("+t+") AND ("+r.where+")":r.where=t,r},n([s.property()],t.prototype,"layer",void 0),n([s.property({readOnly:!0,dependsOn:["layer.definitionExpression","layer.fieldsIndex"]})],t.prototype,"parsedDefinitionExpression",null),n([s.property({readOnly:!0,dependsOn:["parsedDefinitionExpression"]})],t.prototype,"definitionExpressionFields",null),n([s.subclass("esri.views.3d.layers.support.DefinitionExpressionSceneLayerView")],t)}(s.declared(i));t.DefinitionExpressionSceneLayerView=p,t.default=p}.apply(null,n))||(e.exports=i)},2223:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(87)],void 0===(i=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.defineFieldProperties=function(){return{requiredFields:{type:[String],readOnly:!0},availableFields:{type:[String],readOnly:!0,dependsOn:["layer.fields","layer.outFields","requiredFields"],get:function(){var e=this,t=e.layer,n=e.layer.fields,i=e.requiredFields;return t.outFields?r.fixFields(n,r.unpackFieldNames(n,t.outFields).concat(i)):r.fixFields(n,i)}}}}}.apply(null,n))||(e.exports=i)},2274:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(1),r(0),r(9),r(11),r(15),r(14),r(7),r(2),r(87),r(2176),r(2188)],void 0===(i=function(e,t,r,n,i,o,s,a,u,l,p,d,c){Object.defineProperty(t,"__esModule",{value:!0});var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._validateFetchPopupFeatures=function(e){var t=this.layer;return t.popupEnabled?c.getFetchPopupTemplate(t,e)?void 0:new s("scenelayerview3d:fetchPopupFeatures","Layer does not define a popup template",{layer:t}):new s("scenelayerview3d:fetchPopupFeatures","Popups are disabled",{layer:t})},t.prototype.fetchPopupFeatures=function(e,t){return o(this,void 0,void 0,function(){var e,r,n,o,s,l,d,f,y,h;return i(this,function(i){switch(i.label){case 0:return(e=this._validateFetchPopupFeatures(t))?[2,u.reject(e)]:(r=a.isSome(t)?t.clientGraphics:null)&&0!==r.length?(n=[],o=[],l=p.unpackFieldNames,d=[this.layer.fields],[4,c.getRequiredFields(this.layer,c.getFetchPopupTemplate(this.layer,t))]):[2,u.resolve([])];case 1:for(s=l.apply(void 0,d.concat([i.sent()])),f=0,y=r;f<y.length;f++)h=y[f],p.featureHasFields(s,h)?n.push(h):o.push(h);return 0===o.length?[2,u.resolve(n)]:[2,this.whenGraphicAttributes(o,s).catch(function(){return o}).then(function(e){return n.concat(e)})]}})})},n([l.subclass("esri.views.3d.layers.support.PopupSceneLayerView")],t)}(l.declared(d));t.PopupSceneLayerView=f,t.default=f}.apply(null,n))||(e.exports=i)},2523:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(0),r(1),r(9),r(11),r(8),r(15),r(18),r(14),r(2),r(30),r(811),r(93),r(163)],void 0===(i=function(e,t,r,n,i,o,s,a,u,l,p,d,c,f,y){Object.defineProperty(t,"__esModule",{value:!0});var h=c.default,g=function(e){function t(t){var r=e.call(this)||this;return r._dataQueryEngineInstance=null,r._handles=new u,r}return n(t,e),Object.defineProperty(t.prototype,"defaultQueryJSON",{get:function(){return new y({outSpatialReference:this.spatialReference}).toJSON()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataQueryEngine",{get:function(){return this.ensureDataQueryEngine()},enumerable:!0,configurable:!0}),t.prototype.initialize=function(){var e=this;this._handles.add(this.layerView.on("visible-geometry-changed",function(){return e.spatialIndex.events.emit("changed")}))},t.prototype.destroy=function(){this._dataQueryEngineInstance&&(this._dataQueryEngineInstance.destroy(),this._dataQueryEngineInstance=null),this._handles&&(this._handles.destroy(),this._handles=null),this._set("layerView",null)},t.prototype.executeQueryForCount=function(e,t){return o(this,void 0,void 0,function(){return i(this,function(r){return[2,this.dataQueryEngine.executeQueryForCount(this._ensureQueryJSON(e),t)]})})},t.prototype.executeQueryForExtent=function(e,t){return o(this,void 0,void 0,function(){var r,n,o,s;return i(this,function(i){switch(i.label){case 0:return[4,this.dataQueryEngine.executeQueryForExtent(this._ensureQueryJSON(e),t)];case 1:return r=i.sent(),n=r.count,o=r.extent,s=d.fromJSON(o),[2,{count:n,extent:s}]}})})},t.prototype.executeQueryForIds=function(e,t){return o(this,void 0,void 0,function(){return i(this,function(r){return[2,this.dataQueryEngine.executeQueryForIds(this._ensureQueryJSON(e),t)]})})},t.prototype.executeQuery=function(e,t){return o(this,void 0,void 0,function(){var r,n,o,s=this;return i(this,function(i){switch(i.label){case 0:if((r=this._ensureQueryJSON(e)).returnGeometry)throw new a("feature-store:unsupported-query","returnGeometry is not yet supported for mesh scene layer queries");if(r.returnCentroid)throw new a("feature-store:unsupported-query","returnCentroid is not yet supported for mesh scene layer queries");return[4,this.dataQueryEngine.executeQuery(r,t)];case 1:return n=i.sent(),(o=f.fromJSON(n)).features.forEach(function(e){e.geometry=null,e.layer=s.layer,e.sourceLayer=s.layer}),[2,o]}})})},t.prototype._ensureQueryJSON=function(e){if(l.isNone(e))return this.defaultQueryJSON;var t=e.toJSON();return t.outSpatialReference||(e.outSpatialReference=this.spatialReference),t},t.prototype.ensureDataQueryEngine=function(){if(this._dataQueryEngineInstance)return this._dataQueryEngineInstance;var e=this.layer.objectIdField||"OBJECTID",t=this.layer.fields.map(function(e){return e.toJSON()}),r=this.layerView.view.resourceController.scheduler,n=this.spatialReference.toJSON(),i=this.priority,o=this.spatialIndex;return this._dataQueryEngineInstance=new h({hasZ:!0,hasM:!1,geometryType:"esriGeometryPolygon",fields:t,timeInfo:null,spatialReference:n,objectIdField:e,featureStore:o,scheduler:r,priority:i}),this._dataQueryEngineInstance},r([p.property({constructOnly:!0})],t.prototype,"layerView",void 0),r([p.property({constructOnly:!0})],t.prototype,"priority",void 0),r([p.property({constructOnly:!0})],t.prototype,"spatialIndex",void 0),r([p.property({readOnly:!0,aliasOf:"layerView.view.spatialReference"})],t.prototype,"spatialReference",void 0),r([p.property({readOnly:!0,aliasOf:"layerView.layer"})],t.prototype,"layer",void 0),r([p.property({readOnly:!0,dependsOn:["spatialReference"]})],t.prototype,"defaultQueryJSON",null),r([p.subclass("esri.views.3d.layers.i3s.I3SQueryEngine")],t)}(p.declared(s));t.I3SQueryEngine=g,t.default=g}.apply(null,n))||(e.exports=i)},2524:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(55),r(541),r(237),r(2182)],void 0===(i=function(e,t,r,n,i,o){Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e){this.objectIdField=e.objectIdField,this.getFeatureExtent=e.getFeatureExtent}return e.prototype.getObjectId=function(e){return e.id},e.prototype.getAttributes=function(e){var t=e.meta,r=e.index,n={};this.objectIdField&&(n[this.objectIdField]=e.id);var i=t.attributeInfo.attributeData;if(null!=i)for(var s=0,a=Object.keys(i);s<a.length;s++){var u=a[s];n[u]=o.getCachedAttributeValue(i[u],r)}return n},e.prototype.getAttribute=function(e,t){if(t===this.objectIdField)return e.id;var r=e.meta,n=e.index,i=r.attributeInfo.attributeData;return null==i?null:o.getCachedAttributeValue(i[t],n)},e.prototype.getGeometry=function(e){if(e.geometry)return e.geometry;var t=this.getFeatureExtent(e,a),r=t[0],n=t[1],o=t[2],s=t[3],u=t[4];return new i.default([5],[r,n,o,s,n,o,s,u,o,r,u,o,r,n,o])},e.prototype.getCentroid=function(e,t){if(e.geometry)return n.getCentroidOptimizedGeometry(new i.default,e.geometry,t.hasZ,t.hasM);var r=this.getFeatureExtent(e,a),o=r[0],s=r[1],u=r[2],l=r[3],p=r[4],d=r[5];return new i.default([0],[(o+l)/2,(s+p)/2,(u+d)/2])},e.prototype.cloneWithGeometry=function(e,t){return{id:e.id,index:e.index,meta:e.meta,geometry:t}},e}();t.I3SQueryFeatureAdapter=s;var a=r.create()}.apply(null,n))||(e.exports=i)},2525:function(e,t,r){var n,i;n=[r.dj.c(e.i),t,r(1),r(0),r(8),r(50),r(2),r(43),r(55),r(44),r(38)],void 0===(i=function(e,t,r,n,i,o,s,a,u,l,p){Object.defineProperty(t,"__esModule",{value:!0});var d=function(e){function t(t){var r=e.call(this)||this;return r.events=new o,r}return r(t,e),t.prototype.destroy=function(){},t.prototype.forEach=function(e){this.forAllFeatures(function(t){return e(t),1})},t.prototype.forEachBounds=function(e,t,r){for(var n=this.getFeatureExtent,i=0,o=e;i<o.length;i++)t(n(o[i],r))},t.prototype.forEachInBounds=function(e,t){var r=this;this.forAllFeatures(function(n){var i=r.getFeatureExtent(n,f);return l.intersects(e,u.toRect(i,y))&&t(n),1},function(t){if(p.mbsToMbs(t.node.mbs,r.sourceSpatialReference,c,r.viewSpatialReference),c[0]>=e[0]&&c[2]<=e[2]&&c[1]>=e[1]&&c[3]<=e[3])return 1;var n=Math.max(e[0],Math.min(c[0],e[2])),i=Math.max(e[1],Math.min(c[1],e[3])),o=c[0]-n,s=c[1]-i;return o*o+s*s<=c[3]*c[3]?1:2})},n([s.property({constructOnly:!0})],t.prototype,"featureAdapter",void 0),n([s.property({constructOnly:!0})],t.prototype,"forAllFeatures",void 0),n([s.property({constructOnly:!0})],t.prototype,"getFeatureExtent",void 0),n([s.property({constructOnly:!0})],t.prototype,"sourceSpatialReference",void 0),n([s.property({constructOnly:!0})],t.prototype,"viewSpatialReference",void 0),n([s.subclass("esri.views.3d.layers.i3s.I3SQueryFeatureStore")],t)}(s.declared(i));t.I3SQueryFeatureStore=d;var c=a.vec4f64.create(),f=u.create(),y=l.create();t.default=d}.apply(null,n))||(e.exports=i)}}]);